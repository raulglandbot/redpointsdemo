(function(){"use strict";var va,Oe,Nm,Dm,Ir,Mm,Lm,$m,Um,xu,Cu,Pu,qm,ba={},Xm=[],NE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ta=Array.isArray;function ei(e,t){for(var n in t)e[n]=t[n];return e}function Au(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function lt(e,t,n){var i,r,s,a={};for(s in t)s=="key"?i=t[s]:s=="ref"?r=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?va.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)a[s]===void 0&&(a[s]=e.defaultProps[s]);return ka(e,a,i,r,null)}function ka(e,t,n,i,r){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++Nm,__i:-1,__u:0};return r==null&&Oe.vnode!=null&&Oe.vnode(s),s}function Fm(){return{current:null}}function Ue(e){return e.children}function Cn(e,t){this.props=e,this.context=t}function fs(e,t){if(t==null)return e.__?fs(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?fs(e):null}function Bm(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Bm(e)}}function Ru(e){(!e.__d&&(e.__d=!0)&&Ir.push(e)&&!Go.__r++||Mm!=Oe.debounceRendering)&&((Mm=Oe.debounceRendering)||Lm)(Go)}function Go(){for(var e,t,n,i,r,s,a,o=1;Ir.length;)Ir.length>o&&Ir.sort($m),e=Ir.shift(),o=Ir.length,e.__d&&(n=void 0,i=void 0,r=(i=(t=e).__v).__e,s=[],a=[],t.__P&&((n=ei({},i)).__v=i.__v+1,Oe.vnode&&Oe.vnode(n),Iu(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[r]:null,s,r??fs(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,Wm(s,n,a),i.__e=i.__=null,n.__e!=r&&Bm(n)));Go.__r=0}function zm(e,t,n,i,r,s,a,o,c,l,u){var d,h,p,m,O,b,v,T=i&&i.__k||Xm,S=t.length;for(c=DE(n,t,T,c,S),d=0;d<S;d++)(p=n.__k[d])!=null&&(h=p.__i==-1?ba:T[p.__i]||ba,p.__i=d,b=Iu(e,p,h,r,s,a,o,c,l,u),m=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Nu(h.ref,null,p),u.push(p.ref,p.__c||m,p)),O==null&&m!=null&&(O=m),(v=!!(4&p.__u))||h.__k===p.__k?c=Zm(p,c,e,v):typeof p.type=="function"&&b!==void 0?c=b:m&&(c=m.nextSibling),p.__u&=-7);return n.__e=O,c}function DE(e,t,n,i,r){var s,a,o,c,l,u=n.length,d=u,h=0;for(e.__k=new Array(r),s=0;s<r;s++)(a=t[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=e.__k[s]=ka(null,a,null,null,null):Ta(a)?a=e.__k[s]=ka(Ue,{children:a},null,null,null):a.constructor==null&&a.__b>0?a=e.__k[s]=ka(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):e.__k[s]=a,c=s+h,a.__=e,a.__b=e.__b+1,(l=a.__i=ME(a,n,c,d))!=-1&&(d--,(o=n[l])&&(o.__u|=2)),o==null||o.__v==null?(l==-1&&(r>u?h--:r<u&&h++),typeof a.type!="function"&&(a.__u|=4)):l!=c&&(l==c-1?h--:l==c+1?h++:(l>c?h--:h++,a.__u|=4))):e.__k[s]=null;if(d)for(s=0;s<u;s++)(o=n[s])!=null&&(2&o.__u)==0&&(o.__e==i&&(i=fs(o)),Ym(o,o));return i}function Zm(e,t,n,i){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=Zm(r[s],t,n,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=fs(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function yi(e,t){return t=t||[],e==null||typeof e=="boolean"||(Ta(e)?e.some(function(n){yi(n,t)}):t.push(e)),t}function ME(e,t,n,i){var r,s,a,o=e.key,c=e.type,l=t[n],u=l!=null&&(2&l.__u)==0;if(l===null&&o==null||u&&o==l.key&&c==l.type)return n;if(i>(u?1:0)){for(r=n-1,s=n+1;r>=0||s<t.length;)if((l=t[a=r>=0?r--:s++])!=null&&(2&l.__u)==0&&o==l.key&&c==l.type)return a}return-1}function jm(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||NE.test(t)?n:n+"px"}function Yo(e,t,n,i,r){var s,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||jm(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||jm(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(Um,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i?n.u=i.u:(n.u=xu,e.addEventListener(t,s?Pu:Cu,s)):e.removeEventListener(t,s?Pu:Cu,s);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Vm(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=xu++;else if(t.t<n.u)return;return n(Oe.event?Oe.event(t):t)}}}function Iu(e,t,n,i,r,s,a,o,c,l){var u,d,h,p,m,O,b,v,T,S,k,y,_,x,N,D,E,M=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),s=[o=t.__e=n.__e]),(u=Oe.__b)&&u(t);e:if(typeof M=="function")try{if(v=t.props,T="prototype"in M&&M.prototype.render,S=(u=M.contextType)&&i[u.__c],k=u?S?S.props.value:u.__:i,n.__c?b=(d=t.__c=n.__c).__=d.__E:(T?t.__c=d=new M(v,k):(t.__c=d=new Cn(v,k),d.constructor=M,d.render=$E),S&&S.sub(d),d.state||(d.state={}),d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),T&&d.__s==null&&(d.__s=d.state),T&&M.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ei({},d.__s)),ei(d.__s,M.getDerivedStateFromProps(v,d.__s))),p=d.props,m=d.state,d.__v=t,h)T&&M.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),T&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(T&&M.getDerivedStateFromProps==null&&v!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,k),t.__v==n.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,k)===!1){for(t.__v!=n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(L){L&&(L.__=t)}),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,k),T&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,m,O)})}if(d.context=k,d.props=v,d.__P=e,d.__e=!1,_=Oe.__r,x=0,T){for(d.state=d.__s,d.__d=!1,_&&_(t),u=d.render(d.props,d.state,d.context),N=0;N<d._sb.length;N++)d.__h.push(d._sb[N]);d._sb=[]}else do d.__d=!1,_&&_(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++x<25);d.state=d.__s,d.getChildContext!=null&&(i=ei(ei({},i),d.getChildContext())),T&&!h&&d.getSnapshotBeforeUpdate!=null&&(O=d.getSnapshotBeforeUpdate(p,m)),D=u,u!=null&&u.type===Ue&&u.key==null&&(D=Gm(u.props.children)),o=zm(e,Ta(D)?D:[D],t,n,i,r,s,a,o,c,l),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),b&&(d.__E=d.__=null)}catch(L){if(t.__v=null,c||s!=null)if(L.then){for(t.__u|=c?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,t.__e=o}else{for(E=s.length;E--;)Au(s[E]);Qu(t)}else t.__e=n.__e,t.__k=n.__k,L.then||Qu(t);Oe.__e(L,t,n)}else s==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):o=t.__e=LE(n.__e,t,n,i,r,s,a,c,l);return(u=Oe.diffed)&&u(t),128&t.__u?void 0:o}function Qu(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Qu)}function Wm(e,t,n){for(var i=0;i<n.length;i++)Nu(n[i],n[++i],n[++i]);Oe.__c&&Oe.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(s){s.call(r)})}catch(s){Oe.__e(s,r.__v)}})}function Gm(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Ta(e)?e.map(Gm):ei({},e)}function LE(e,t,n,i,r,s,a,o,c){var l,u,d,h,p,m,O,b=n.props||ba,v=t.props,T=t.type;if(T=="svg"?r="http://www.w3.org/2000/svg":T=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((p=s[l])&&"setAttribute"in p==!!T&&(T?p.localName==T:p.nodeType==3)){e=p,s[l]=null;break}}if(e==null){if(T==null)return document.createTextNode(v);e=document.createElementNS(r,T,v.is&&v),o&&(Oe.__m&&Oe.__m(t,s),o=!1),s=null}if(T==null)b===v||o&&e.data==v||(e.data=v);else{if(s=s&&va.call(e.childNodes),!o&&s!=null)for(b={},l=0;l<e.attributes.length;l++)b[(p=e.attributes[l]).name]=p.value;for(l in b)if(p=b[l],l!="children"){if(l=="dangerouslySetInnerHTML")d=p;else if(!(l in v)){if(l=="value"&&"defaultValue"in v||l=="checked"&&"defaultChecked"in v)continue;Yo(e,l,null,p,r)}}for(l in v)p=v[l],l=="children"?h=p:l=="dangerouslySetInnerHTML"?u=p:l=="value"?m=p:l=="checked"?O=p:o&&typeof p!="function"||b[l]===p||Yo(e,l,p,b[l],r);if(u)o||d&&(u.__html==d.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),zm(t.type=="template"?e.content:e,Ta(h)?h:[h],t,n,i,T=="foreignObject"?"http://www.w3.org/1999/xhtml":r,s,a,s?s[0]:n.__k&&fs(n,0),o,c),s!=null)for(l=s.length;l--;)Au(s[l]);o||(l="value",T=="progress"&&m==null?e.removeAttribute("value"):m!=null&&(m!==e[l]||T=="progress"&&!m||T=="option"&&m!=b[l])&&Yo(e,l,m,b[l],r),l="checked",O!=null&&O!=e[l]&&Yo(e,l,O,b[l],r))}return e}function Nu(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(r){Oe.__e(r,n)}}function Ym(e,t,n){var i,r;if(Oe.unmount&&Oe.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Nu(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){Oe.__e(s,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&Ym(i[r],t,n||typeof e.type!="function");n||Au(e.__e),e.__c=e.__=e.__e=void 0}function $E(e,t,n){return this.constructor(e,n)}function Ki(e,t,n){var i,r,s,a;t==document&&(t=document.documentElement),Oe.__&&Oe.__(e,t),r=(i=typeof n=="function")?null:n&&n.__k||t.__k,s=[],a=[],Iu(t,e=(!i&&n||t).__k=lt(Ue,null,[e]),r||ba,ba,t.namespaceURI,!i&&n?[n]:r?null:t.firstChild?va.call(t.childNodes):null,s,!i&&n?n:r?r.__e:t.firstChild,i,a),Wm(s,e,a)}function Du(e,t){Ki(e,t,Du)}function Mu(e,t,n){var i,r,s,a,o=ei({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)s=="key"?i=t[s]:s=="ref"?r=t[s]:o[s]=t[s]===void 0&&a!=null?a[s]:t[s];return arguments.length>2&&(o.children=arguments.length>3?va.call(arguments,2):n),ka(e.type,o,i||e.key,r||e.ref,null)}function st(e){function t(n){var i,r;return this.getChildContext||(i=new Set,(r={})[t.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&i.forEach(function(a){a.__e=!0,Ru(a)})},this.sub=function(s){i.add(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i&&i.delete(s),a&&a.call(s)}}),n.children}return t.__c="__cC"+qm++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,i){return n.children(i)}).contextType=t,t}va=Xm.slice,Oe={__e:function(e,t,n,i){for(var r,s,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(e)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),a=r.__d),a)return r.__E=r}catch(o){e=o}throw e}},Nm=0,Dm=function(e){return e!=null&&e.constructor==null},Cn.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ei({},this.state),typeof e=="function"&&(e=e(ei({},n),this.props)),e&&ei(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ru(this))},Cn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ru(this))},Cn.prototype.render=Ue,Ir=[],Lm=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$m=function(e,t){return e.__v.__b-t.__v.__b},Go.__r=0,Um=/(PointerCapture)$|Capture$/i,xu=0,Cu=Vm(!1),Pu=Vm(!0),qm=0;function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ho.apply(this,arguments)}function Hm(e,t){if(e==null)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)t.indexOf(n=s[i])>=0||(r[n]=e[n]);return r}var UE=["context","children"],qE=["useFragment"];function XE(e,t,n,i){function r(){var s,a=Reflect.construct(HTMLElement,[],r);return a._vdomComponent=e,i&&i.shadow?(a._root=a.attachShadow({mode:i.mode||"open",serializable:(s=i.serializable)!=null&&s}),i.adoptedStyleSheets&&(a._root.adoptedStyleSheets=i.adoptedStyleSheets)):a._root=a,a}return(r.prototype=Object.create(HTMLElement.prototype)).constructor=r,r.prototype.connectedCallback=function(){BE.call(this,i)},r.prototype.attributeChangedCallback=zE,r.prototype.disconnectedCallback=ZE,n=n||e.observedAttributes||Object.keys(e.propTypes||{}),r.observedAttributes=n,e.formAssociated&&(r.formAssociated=!0),n.forEach(function(s){Object.defineProperty(r.prototype,s,{get:function(){return this._vdom?this._vdom.props[s]:this._props[s]},set:function(a){this._vdom?this.attributeChangedCallback(s,null,a):(this._props||(this._props={}),this._props[s]=a);var o=typeof a;a!=null&&o!=="string"&&o!=="boolean"&&o!=="number"||this.setAttribute(s,a)}})}),customElements.define(t||e.tagName||e.displayName||e.name,r),r}function FE(e){this.getChildContext=function(){return e.context};var t=e.children,n=Hm(e,UE);return Mu(t,n)}function BE(e){var t=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(t),this._vdom=lt(FE,Ho({},this._props,{context:t.detail.context}),eO(this,this._vdomComponent,e)),(this.hasAttribute("hydrate")?Du:Ki)(this._vdom,this._root)}function Km(e){return e.replace(/-(\w)/g,function(t,n){return n?n.toUpperCase():""})}function zE(e,t,n){if(this._vdom){var i={};i[e]=n=n??void 0,i[Km(e)]=n,this._vdom=Mu(this._vdom,i),Ki(this._vdom,this._root)}}function ZE(){Ki(this._vdom=null,this._root)}function Jm(e,t){var n=this,i=e.useFragment,r=Hm(e,qE);return lt(i?Ue:"slot",Ho({},r,{ref:function(s){s?(n.ref=s,n._listener||(n._listener=function(a){a.stopPropagation(),a.detail.context=t},s.addEventListener("_preact",n._listener))):n.ref.removeEventListener("_preact",n._listener)}}))}function eO(e,t,n){if(e.nodeType===3)return e.data;if(e.nodeType!==1)return null;var i=[],r={},s=0,a=e.attributes,o=e.childNodes;for(s=a.length;s--;)a[s].name!=="slot"&&(r[a[s].name]=a[s].value,r[Km(a[s].name)]=a[s].value);for(s=o.length;s--;){var c=eO(o[s],null,n),l=o[s].slot;l?r[l]=lt(Jm,{name:l},c):i[s]=c}var u=!(!n||!n.shadow),d=t?lt(Jm,{useFragment:!u},i):i;return!u&&t&&(e.innerHTML=""),lt(t||e.nodeName.toLowerCase(),r,d)}var jE=0;function g(e,t,n,i,r,s){t||(t={});var a,o,c=t;if("ref"in c)for(o in c={},t)o=="ref"?a=t[o]:c[o]=t[o];var l={type:e,props:c,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--jE,__i:-1,__u:0,__source:r,__self:s};if(typeof e=="function"&&(a=e.defaultProps))for(o in a)c[o]===void 0&&(c[o]=a[o]);return Oe.vnode&&Oe.vnode(l),l}var Si,et,Lu,tO,ms=0,nO=[],ht=Oe,iO=ht.__b,rO=ht.__r,sO=ht.diffed,aO=ht.__c,oO=ht.unmount,cO=ht.__;function Qr(e,t){ht.__h&&ht.__h(et,e,ms||t),ms=0;var n=et.__H||(et.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function he(e){return ms=1,Ko(uO,e)}function Ko(e,t,n){var i=Qr(Si++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):uO(void 0,t),function(o){var c=i.__N?i.__N[0]:i.__[0],l=i.t(c,o);c!==l&&(i.__N=[l,i.__[1]],i.__c.setState({}))}],i.__c=et,!et.__f)){var r=function(o,c,l){if(!i.__c.__H)return!0;var u=i.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,o,c,l);var d=i.__c.props!==o;return u.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(d=!0)}}),s&&s.call(this,o,c,l)||d};et.__f=!0;var s=et.shouldComponentUpdate,a=et.componentWillUpdate;et.componentWillUpdate=function(o,c,l){if(this.__e){var u=s;s=void 0,r(o,c,l),s=u}a&&a.call(this,o,c,l)},et.shouldComponentUpdate=r}return i.__N||i.__}function ke(e,t){var n=Qr(Si++,3);!ht.__s&&Xu(n.__H,t)&&(n.__=e,n.u=t,et.__H.__h.push(n))}function _i(e,t){var n=Qr(Si++,4);!ht.__s&&Xu(n.__H,t)&&(n.__=e,n.u=t,et.__h.push(n))}function ue(e){return ms=5,Me(function(){return{current:e}},[])}function $u(e,t,n){ms=6,_i(function(){if(typeof e=="function"){var i=e(t());return function(){e(null),i&&typeof i=="function"&&i()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function Me(e,t){var n=Qr(Si++,7);return Xu(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function oe(e,t){return ms=8,Me(function(){return e},t)}function fn(e){var t=et.context[e.__c],n=Qr(Si++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(et)),t.props.value):e.__}function Uu(e,t){ht.useDebugValue&&ht.useDebugValue(t?t(e):e)}function VE(e){var t=Qr(Si++,10),n=he();return t.__=e,et.componentDidCatch||(et.componentDidCatch=function(i,r){t.__&&t.__(i,r),n[1](i)}),[n[0],function(){n[1](void 0)}]}function Jo(){var e=Qr(Si++,11);if(!e.__){for(var t=et.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function WE(){for(var e;e=nO.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ec),e.__H.__h.forEach(qu),e.__H.__h=[]}catch(t){e.__H.__h=[],ht.__e(t,e.__v)}}ht.__b=function(e){et=null,iO&&iO(e)},ht.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),cO&&cO(e,t)},ht.__r=function(e){rO&&rO(e),Si=0;var t=(et=e.__c).__H;t&&(Lu===et?(t.__h=[],et.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(ec),t.__h.forEach(qu),t.__h=[],Si=0)),Lu=et},ht.diffed=function(e){sO&&sO(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(nO.push(t)!==1&&tO===ht.requestAnimationFrame||((tO=ht.requestAnimationFrame)||GE)(WE)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Lu=et=null},ht.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ec),n.__h=n.__h.filter(function(i){return!i.__||qu(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],ht.__e(i,n.__v)}}),aO&&aO(e,t)},ht.unmount=function(e){oO&&oO(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{ec(i)}catch(r){t=r}}),n.__H=void 0,t&&ht.__e(t,n.__v))};var lO=typeof requestAnimationFrame=="function";function GE(e){var t,n=function(){clearTimeout(i),lO&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);lO&&(t=requestAnimationFrame(n))}function ec(e){var t=et,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),et=t}function qu(e){var t=et;e.__c=e.__(),et=t}function Xu(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function uO(e,t){return typeof t=="function"?t(e):t}function dO(e,t){for(var n in t)e[n]=t[n];return e}function Fu(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function Bu(e,t){var n=t(),i=he({t:{__:n,u:t}}),r=i[0].t,s=i[1];return _i(function(){r.__=n,r.u=t,zu(r)&&s({t:r})},[e,n,t]),ke(function(){return zu(r)&&s({t:r}),e(function(){zu(r)&&s({t:r})})},[e]),n}function zu(e){var t,n,i=e.u,r=e.__;try{var s=i();return!((t=r)===(n=s)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function Zu(e){e()}function ju(e){return e}function Vu(){return[!1,Zu]}var Wu=_i;function tc(e,t){this.props=e,this.context=t}function Fe(e,t){function n(r){var s=this.props.ref,a=s==r.ref;return!a&&s&&(s.call?s(null):s.current=null),t?!t(this.props,r)||!a:Fu(this.props,r)}function i(r){return this.shouldComponentUpdate=n,lt(e,r)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i.type=e,i}(tc.prototype=new Cn).isPureReactComponent=!0,tc.prototype.shouldComponentUpdate=function(e,t){return Fu(this.props,e)||Fu(this.state,t)};var hO=Oe.__b;Oe.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),hO&&hO(e)};var YE=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ee(e){function t(n){var i=dO({},n);return delete i.ref,e(i,n.ref||null)}return t.$$typeof=YE,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var pO=function(e,t){return e==null?null:yi(yi(e).map(t))},mn={map:pO,forEach:pO,count:function(e){return e?yi(e).length:0},only:function(e){var t=yi(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:yi},HE=Oe.__e;Oe.__e=function(e,t,n,i){if(e.then){for(var r,s=t;s=s.__;)if((r=s.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}HE(e,t,n,i)};var fO=Oe.unmount;function mO(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=dO({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return mO(i,t,n)})),e}function OO(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return OO(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ya(){this.__u=0,this.o=null,this.__b=null}function gO(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function vO(e){var t,n,i,r=null;function s(a){if(t||(t=e()).then(function(o){o&&(r=o.default||o),i=!0},function(o){n=o,i=!0}),n)throw n;if(!i)throw t;return r?lt(r,a):null}return s.displayName="Lazy",s.__f=!0,s}function Os(){this.i=null,this.l=null}Oe.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),fO&&fO(e)},(ya.prototype=new Cn).__c=function(e,t){var n=t.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var r=gO(i.__v),s=!1,a=function(){s||(s=!0,n.__R=null,r?r(o):o())};n.__R=a;var o=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=OO(c,c.__c.__P,c.__c.__O)}var l;for(i.setState({__a:i.__b=null});l=i.o.pop();)l.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(a,a)},ya.prototype.componentWillUnmount=function(){this.o=[]},ya.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=mO(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&lt(Ue,null,e.fallback);return r&&(r.__u&=-33),[lt(Ue,null,t.__a?null:e.children),r]};var bO=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function KE(e){return this.getChildContext=function(){return e.context},e.children}function JE(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Ki(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var i=t.__v;i!==null&&!i.__m&&i.__!==null;)i=i.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:i.__m},contains:function(){return!0},insertBefore:function(r,s){this.childNodes.push(r),t.h.insertBefore(r,s)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.h.removeChild(r)}}}Ki(lt(KE,{context:t.context},e.__v),t.v)}function nc(e,t){var n=lt(JE,{__v:e,h:t});return n.containerInfo=t,n}(Os.prototype=new Cn).__a=function(e){var t=this,n=gO(t.__v),i=t.l.get(e);return i[0]++,function(r){var s=function(){t.props.revealOrder?(i.push(r),bO(t,e,i)):r()};n?n(s):s()}},Os.prototype.render=function(e){this.i=null,this.l=new Map;var t=yi(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Os.prototype.componentDidUpdate=Os.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){bO(e,n,t)})};var TO=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ex=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,tx=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,nx=/[A-Z0-9]/g,ix=typeof document<"u",rx=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function kO(e,t,n){return t.__k==null&&(t.textContent=""),Ki(e,t),typeof n=="function"&&n(),e?e.__c:null}function yO(e,t,n){return Du(e,t),typeof n=="function"&&n(),e?e.__c:null}Cn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Cn.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var SO=Oe.event;function sx(){}function ax(){return this.cancelBubble}function ox(){return this.defaultPrevented}Oe.event=function(e){return SO&&(e=SO(e)),e.persist=sx,e.isPropagationStopped=ax,e.isDefaultPrevented=ox,e.nativeEvent=e};var Gu,cx={enumerable:!1,configurable:!0,get:function(){return this.class}},_O=Oe.vnode;Oe.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,i=t.type,r={},s=i.indexOf("-")===-1;for(var a in n){var o=n[a];if(!(a==="value"&&"defaultValue"in n&&o==null||ix&&a==="children"&&i==="noscript"||a==="class"||a==="className")){var c=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&o===!0?o="":c==="translate"&&o==="no"?o=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?a="ondblclick":c!=="onchange"||i!=="input"&&i!=="textarea"||rx(n.type)?c==="onfocus"?a="onfocusin":c==="onblur"?a="onfocusout":tx.test(a)&&(a=c):c=a="oninput":s&&ex.test(a)?a=a.replace(nx,"-$&").toLowerCase():o===null&&(o=void 0),c==="oninput"&&r[a=c]&&(a="oninputCapture"),r[a]=o}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=yi(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=yi(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",cx)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r})(e),e.$$typeof=TO,_O&&_O(e)};var wO=Oe.__r;Oe.__r=function(e){wO&&wO(e),Gu=e.__c};var EO=Oe.diffed;Oe.diffed=function(e){EO&&EO(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Gu=null};var xO={ReactCurrentDispatcher:{current:{readContext:function(e){return Gu.__n[e.__c].props.value},useCallback:oe,useContext:fn,useDebugValue:Uu,useDeferredValue:ju,useEffect:ke,useId:Jo,useImperativeHandle:$u,useInsertionEffect:Wu,useLayoutEffect:_i,useMemo:Me,useReducer:Ko,useRef:ue,useState:he,useSyncExternalStore:Bu,useTransition:Vu}}},lx="18.3.1";function CO(e){return lt.bind(null,e)}function Ct(e){return!!e&&e.$$typeof===TO}function PO(e){return Ct(e)&&e.type===Ue}function AO(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Nr(e){return Ct(e)?Mu.apply(null,arguments):e}function RO(e){return!!e.__k&&(Ki(null,e),!0)}function IO(e){return e&&(e.base||e.nodeType===1&&e)||null}var QO=function(e,t){return e(t)},ic=function(e,t){return e(t)},NO=Ue,DO=Ct,wi={useState:he,useId:Jo,useReducer:Ko,useEffect:ke,useLayoutEffect:_i,useInsertionEffect:Wu,useTransition:Vu,useDeferredValue:ju,useSyncExternalStore:Bu,startTransition:Zu,useRef:ue,useImperativeHandle:$u,useMemo:Me,useCallback:oe,useContext:fn,useDebugValue:Uu,version:"18.3.1",Children:mn,render:kO,hydrate:yO,unmountComponentAtNode:RO,createPortal:nc,createElement:lt,createContext:st,createFactory:CO,cloneElement:Nr,createRef:Fm,Fragment:Ue,isValidElement:Ct,isElement:DO,isFragment:PO,isMemo:AO,findDOMNode:IO,Component:Cn,PureComponent:tc,memo:Fe,forwardRef:Ee,flushSync:ic,unstable_batchedUpdates:QO,StrictMode:NO,Suspense:ya,SuspenseList:Os,lazy:vO,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xO};const Yu=Object.freeze(Object.defineProperty({__proto__:null,Children:mn,Component:Cn,Fragment:Ue,PureComponent:tc,StrictMode:NO,Suspense:ya,SuspenseList:Os,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xO,cloneElement:Nr,createContext:st,createElement:lt,createFactory:CO,createPortal:nc,createRef:Fm,default:wi,findDOMNode:IO,flushSync:ic,forwardRef:Ee,hydrate:yO,isElement:DO,isFragment:PO,isMemo:AO,isValidElement:Ct,lazy:vO,memo:Fe,render:kO,startTransition:Zu,unmountComponentAtNode:RO,unstable_batchedUpdates:QO,useCallback:oe,useContext:fn,useDebugValue:Uu,useDeferredValue:ju,useEffect:ke,useErrorBoundary:VE,useId:Jo,useImperativeHandle:$u,useInsertionEffect:Wu,useLayoutEffect:_i,useMemo:Me,useReducer:Ko,useRef:ue,useState:he,useSyncExternalStore:Bu,useTransition:Vu,version:lx},Symbol.toStringTag,{value:"Module"}));var ux=Symbol.for("preact-signals");function rc(){if(Ji>1)Ji--;else{for(var e,t=!1;Sa!==void 0;){var n=Sa;for(Sa=void 0,Hu++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&UO(n))try{n.c()}catch(r){t||(e=r,t=!0)}n=i}}if(Hu=0,Ji--,t)throw e}}function MO(e){if(Ji>0)return e();Ji++;try{return e()}finally{rc()}}var Ve=void 0;function LO(e){var t=Ve;Ve=void 0;try{return e()}finally{Ve=t}}var Sa=void 0,Ji=0,Hu=0,sc=0;function $O(e){if(Ve!==void 0){var t=e.n;if(t===void 0||t.t!==Ve)return t={i:0,S:e,p:Ve.s,n:void 0,t:Ve,e:void 0,x:void 0,r:t},Ve.s!==void 0&&(Ve.s.n=t),Ve.s=t,e.n=t,32&Ve.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=Ve.s,t.n=void 0,Ve.s.n=t,Ve.s=t),t}}function $t(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}$t.prototype.brand=ux,$t.prototype.h=function(){return!0},$t.prototype.S=function(e){var t=this,n=this.t;n!==e&&e.e===void 0&&(e.x=n,this.t=e,n!==void 0?n.e=e:LO(function(){var i;(i=t.W)==null||i.call(t)}))},$t.prototype.U=function(e){var t=this;if(this.t!==void 0){var n=e.e,i=e.x;n!==void 0&&(n.x=i,e.e=void 0),i!==void 0&&(i.e=n,e.x=void 0),e===this.t&&(this.t=i,i===void 0&&LO(function(){var r;(r=t.Z)==null||r.call(t)}))}},$t.prototype.subscribe=function(e){var t=this;return vs(function(){var n=t.value,i=Ve;Ve=void 0;try{e(n)}finally{Ve=i}},{name:"sub"})},$t.prototype.valueOf=function(){return this.value},$t.prototype.toString=function(){return this.value+""},$t.prototype.toJSON=function(){return this.value},$t.prototype.peek=function(){var e=Ve;Ve=void 0;try{return this.value}finally{Ve=e}},Object.defineProperty($t.prototype,"value",{get:function(){var e=$O(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Hu>100)throw new Error("Cycle detected");this.v=e,this.i++,sc++,Ji++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{rc()}}}});function Pn(e,t){return new $t(e,t)}function UO(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function qO(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function XO(e){for(var t=e.s,n=void 0;t!==void 0;){var i=t.p;t.i===-1?(t.S.U(t),i!==void 0&&(i.n=t.n),t.n!==void 0&&(t.n.p=i)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=i}e.s=n}function Dr(e,t){$t.call(this,void 0),this.x=e,this.s=void 0,this.g=sc-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}Dr.prototype=new $t,Dr.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===sc))return!0;if(this.g=sc,this.f|=1,this.i>0&&!UO(this))return this.f&=-2,!0;var e=Ve;try{qO(this),Ve=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return Ve=e,XO(this),this.f&=-2,!0},Dr.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}$t.prototype.S.call(this,e)},Dr.prototype.U=function(e){if(this.t!==void 0&&($t.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}},Dr.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}},Object.defineProperty(Dr.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=$O(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function jt(e,t){return new Dr(e,t)}function FO(e){var t=e.u;if(e.u=void 0,typeof t=="function"){Ji++;var n=Ve;Ve=void 0;try{t()}catch(i){throw e.f&=-2,e.f|=8,Ku(e),i}finally{Ve=n,rc()}}}function Ku(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,FO(e)}function dx(e){if(Ve!==this)throw new Error("Out-of-order effect");XO(this),Ve=e,this.f&=-2,8&this.f&&Ku(this),rc()}function gs(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}gs.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}},gs.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,FO(this),qO(this),Ji++;var e=Ve;return Ve=this,dx.bind(this,e)},gs.prototype.N=function(){2&this.f||(this.f|=2,this.o=Sa,Sa=this)},gs.prototype.d=function(){this.f|=8,1&this.f||Ku(this)},gs.prototype.dispose=function(){this.d()};function vs(e,t){var n=new gs(e,t);try{n.c()}catch(r){throw n.d(),r}var i=n.d.bind(n);return i[Symbol.dispose]=i,i}var Ju,ac,ed,oc=typeof window<"u"&&!!window.__PREACT_SIGNALS_DEVTOOLS__,BO=[],zO=[];vs(function(){Ju=this.N})();function bs(e,t){Oe[e]=t.bind(null,Oe[e]||function(){})}function cc(e){ed&&ed(),ed=e&&e.S()}function ZO(e){var t=this,n=e.data,i=We(n);i.value=n;var r=Me(function(){for(var o=t,c=t.__v;c=c.__;)if(c.__c){c.__c.__$f|=4;break}var l=jt(function(){var p=i.value.value;return p===0?0:p===!0?"":p||""}),u=jt(function(){return!Array.isArray(l.value)&&!Dm(l.value)}),d=vs(function(){if(this.N=jO,u.value){var p=l.value;o.__v&&o.__v.__e&&o.__v.__e.nodeType===3&&(o.__v.__e.data=p)}}),h=t.__$u.d;return t.__$u.d=function(){d(),h.call(this)},[u,l]},[]),s=r[0],a=r[1];return s.value?a.peek():a.value}ZO.displayName="ReactiveTextNode",Object.defineProperties($t.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:ZO},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),bs("__b",function(e,t){if(oc&&typeof t.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),typeof t.type=="string"){var n,i=t.props;for(var r in i)if(r!=="children"){var s=i[r];s instanceof $t&&(n||(t.__np=n={}),n[r]=s,i[r]=s.peek())}}e(t)}),bs("__r",function(e,t){if(oc&&typeof t.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.enterComponent(t),t.type!==Ue){cc();var n,i=t.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=(function(r){var s;return vs(function(){s=this}),s.c=function(){i.__$f|=1,i.setState({})},s})())),ac=i,cc(n)}e(t)}),bs("__e",function(e,t,n,i){oc&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),cc(),ac=void 0,e(t,n,i)}),bs("diffed",function(e,t){oc&&typeof t.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),cc(),ac=void 0;var n;if(typeof t.type=="string"&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var s=n.U;if(s)for(var a in s){var o=s[a];o!==void 0&&!(a in i)&&(o.d(),s[a]=void 0)}else s={},n.U=s;for(var c in i){var l=s[c],u=i[c];l===void 0?(l=hx(n,c,u,r),s[c]=l):l.o(u,r)}}}e(t)});function hx(e,t,n,i){var r=t in e&&e.ownerSVGElement===void 0,s=Pn(n);return{o:function(a,o){s.value=a,i=o},d:vs(function(){this.N=jO;var a=s.value.value;i[t]!==a&&(i[t]=a,r?e[t]=a:a!=null&&(a!==!1||t[4]==="-")?e.setAttribute(t,a):e.removeAttribute(t))})}}bs("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var r in i){var s=i[r];s&&s.d()}}}}else{var a=t.__c;if(a){var o=a.__$u;o&&(a.__$u=void 0,o.d())}}e(t)}),bs("__h",function(e,t,n,i){(i<3||i===9)&&(t.__$f|=2),e(t,n,i)}),Cn.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u,i=n&&n.s!==void 0;for(var r in t)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var s=2&this.__$f;if(!(i||s||4&this.__$f)||1&this.__$f)return!0}else if(!(i||4&this.__$f)||3&this.__$f)return!0;for(var a in e)if(a!=="__source"&&e[a]!==this.props[a])return!0;for(var o in this.props)if(!(o in e))return!0;return!1};function We(e,t){return he(function(){return Pn(e,t)})[0]}function pe(e,t){var n=ue(e);return n.current=e,ac.__$f|=4,Me(function(){return jt(function(){return n.current()},t)},[])}var px=typeof requestAnimationFrame>"u"?setTimeout:function(e){var t=function(){clearTimeout(n),cancelAnimationFrame(i),e()},n=setTimeout(t,35),i=requestAnimationFrame(t)},fx=function(e){queueMicrotask(function(){queueMicrotask(e)})};function mx(){MO(function(){for(var e;e=BO.shift();)Ju.call(e)})}function Ox(){BO.push(this)===1&&(Oe.requestAnimationFrame||px)(mx)}function gx(){MO(function(){for(var e;e=zO.shift();)Ju.call(e)})}function jO(){zO.push(this)===1&&(Oe.requestAnimationFrame||fx)(gx)}function An(e,t){var n=ue(e);n.current=e,ke(function(){return vs(function(){return this.N=Ox,n.current()},t)},[])}function vx(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in e)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(e)}var bx=Object.defineProperty,Tx=(e,t,n)=>t in e?bx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VO=(e,t,n)=>Tx(e,typeof t!="symbol"?t+"":t,n);let Ht=class{constructor(){VO(this,"_locking"),VO(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let t;const n=new Promise(r=>t=()=>{this._locks-=1,r()}),i=this._locking.then(()=>t);return this._locking=this._locking.then(()=>n),i}};function pt(e,t){if(!e)throw new Error(t)}const kx=34028234663852886e22,yx=-34028234663852886e22,Sx=4294967295,_x=2147483647,wx=-2147483648;function lc(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>_x||e<wx)throw new Error("invalid int 32: "+e)}function td(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>Sx||e<0)throw new Error("invalid uint 32: "+e)}function WO(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>kx||e<yx))throw new Error("invalid float 32: "+e)}const GO=Symbol("@bufbuild/protobuf/enum-type");function Ex(e){const t=e[GO];return pt(t,"missing enum type on enum object"),t}function YO(e,t,n,i){e[GO]=HO(t,n.map(r=>({no:r.no,name:r.name,localName:e[r.no]})))}function HO(e,t,n){const i=Object.create(null),r=Object.create(null),s=[];for(const a of t){const o=KO(a);s.push(o),i[a.name]=o,r[a.no]=o}return{typeName:e,values:s,findName(a){return i[a]},findNumber(a){return r[a]}}}function xx(e,t,n){const i={};for(const r of t){const s=KO(r);i[s.localName]=s.no,i[s.no]=s.localName}return YO(i,e,t),i}function KO(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class nd{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const i=this.getType(),r=i.runtime.bin,s=r.makeReadOptions(n);return r.readMessage(this,s.readerFactory(t),t.byteLength,s),this}fromJson(t,n){const i=this.getType(),r=i.runtime.json,s=r.makeReadOptions(n);return r.readMessage(i,t,s,this),this}fromJsonString(t,n){let i;try{i=JSON.parse(t)}catch(r){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(r instanceof Error?r.message:String(r)))}return this.fromJson(i,n)}toBinary(t){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(t),s=r.writerFactory();return i.writeMessage(this,s,r),s.finish()}toJson(t){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(t);return i.writeMessage(this,r)}toJsonString(t){var n;const i=this.toJson(t);return JSON.stringify(i,null,(n=t?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Cx(e,t,n,i){var r;const s=(r=i?.localName)!==null&&r!==void 0?r:t.substring(t.lastIndexOf(".")+1),a={[s]:function(o){e.util.initFields(this),e.util.initPartial(o,this)}}[s];return Object.setPrototypeOf(a.prototype,new nd),Object.assign(a,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(o,c){return new a().fromBinary(o,c)},fromJson(o,c){return new a().fromJson(o,c)},fromJsonString(o,c){return new a().fromJsonString(o,c)},equals(o,c){return e.util.equals(a,o,c)}}),a}function Px(){let e=0,t=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,(n&128)==0)return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function id(e,t,n){for(let s=0;s<28;s=s+7){const a=e>>>s,o=!(!(a>>>7)&&t==0),c=(o?a|128:a)&255;if(n.push(c),!o)return}const i=e>>>28&15|(t&7)<<4,r=t>>3!=0;if(n.push((r?i|128:i)&255),!!r){for(let s=3;s<31;s=s+7){const a=t>>>s,o=!!(a>>>7),c=(o?a|128:a)&255;if(n.push(c),!o)return}n.push(t>>>31&1)}}const uc=4294967296;function JO(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function s(a,o){const c=Number(e.slice(a,o));r*=n,i=i*n+c,i>=uc&&(r=r+(i/uc|0),i=i%uc)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),t?tg(i,r):rd(i,r)}function Ax(e,t){let n=rd(e,t);const i=n.hi&2147483648;i&&(n=tg(n.lo,n.hi));const r=eg(n.lo,n.hi);return i?"-"+r:r}function eg(e,t){if({lo:e,hi:t}=Rx(e,t),t<=2097151)return String(uc*t+e);const n=e&16777215,i=(e>>>24|t<<8)&16777215,r=t>>16&65535;let s=n+i*6777216+r*6710656,a=i+r*8147497,o=r*2;const c=1e7;return s>=c&&(a+=Math.floor(s/c),s%=c),a>=c&&(o+=Math.floor(a/c),a%=c),o.toString()+ng(a)+ng(s)}function Rx(e,t){return{lo:e>>>0,hi:t>>>0}}function rd(e,t){return{lo:e|0,hi:t|0}}function tg(e,t){return t=~t,e?e=~e+1:t+=1,rd(e,t)}const ng=e=>{const t=String(e);return"0000000".slice(t.length)+t};function ig(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function Ix(){let e=this.buf[this.pos++],t=e&127;if((e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,(e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,(e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,(e&128)==0)return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;(e&128)!==0&&n<10;n++)e=this.buf[this.pos++];if((e&128)!=0)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function Qx(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),a=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>s||l<r)throw new Error("int64 invalid: ".concat(c));return l},uParse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>o||l<a)throw new Error("uint64 invalid: ".concat(c));return l},enc(c){return e.setBigInt64(0,this.parse(c),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(c){return e.setBigInt64(0,this.uParse(c),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(c,l){return e.setInt32(0,c,!0),e.setInt32(4,l,!0),e.getBigInt64(0,!0)},uDec(c,l){return e.setInt32(0,c,!0),e.setInt32(4,l,!0),e.getBigUint64(0,!0)}}}const n=r=>pt(/^-?[0-9]+$/.test(r),"int64 invalid: ".concat(r)),i=r=>pt(/^[0-9]+$/.test(r),"uint64 invalid: ".concat(r));return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),JO(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),JO(r)},dec(r,s){return Ax(r,s)},uDec(r,s){return eg(r,s)}}}const ut=Qx();var V;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(V||(V={}));var er;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(er||(er={}));function tr(e,t,n){if(t===n)return!0;if(e==V.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}switch(e){case V.UINT64:case V.FIXED64:case V.INT64:case V.SFIXED64:case V.SINT64:return t==n}return!1}function Ts(e,t){switch(e){case V.BOOL:return!1;case V.UINT64:case V.FIXED64:case V.INT64:case V.SFIXED64:case V.SINT64:return t==0?ut.zero:"0";case V.DOUBLE:case V.FLOAT:return 0;case V.BYTES:return new Uint8Array(0);case V.STRING:return"";default:return 0}}function rg(e,t){switch(e){case V.BOOL:return t===!1;case V.STRING:return t==="";case V.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var gt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(gt||(gt={}));class Nx{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let r=0;r<this.chunks.length;r++)t+=this.chunks[r].length;let n=new Uint8Array(t),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(td(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return lc(t),ig(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){WO(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){td(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){lc(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return lc(t),t=(t<<1^t>>31)>>>0,ig(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ut.enc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ut.uEnc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(t){let n=ut.enc(t);return id(n.lo,n.hi,this.buf),this}sint64(t){let n=ut.enc(t),i=n.hi>>31,r=n.lo<<1^i,s=(n.hi<<1|n.lo>>>31)^i;return id(r,s,this.buf),this}uint64(t){let n=ut.uEnc(t);return id(n.lo,n.hi,this.buf),this}}class Dx{constructor(t,n){this.varint64=Px,this.uint32=Ix,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,i=t&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(t,n){let i=this.pos;switch(t){case gt.Varint:for(;this.buf[this.pos++]&128;);break;case gt.Bit64:this.pos+=4;case gt.Bit32:this.pos+=4;break;case gt.LengthDelimited:let r=this.uint32();this.pos+=r;break;case gt.StartGroup:for(;;){const[s,a]=this.tag();if(a===gt.EndGroup){if(n!==void 0&&s!==n)throw new Error("invalid end group tag");break}this.skip(a,s)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return ut.dec(...this.varint64())}uint64(){return ut.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),i=-(t&1);return t=(t>>>1|(n&1)<<31)^i,n=n>>>1^i,ut.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ut.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ut.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function Mx(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const s=typeof i=="function"?i():i;s.name=t.split(".").pop(),s.jsonName="[".concat(t,"]"),r=e.util.newFieldList([s]).list()[0]}return r},runtime:e}}function sg(e){const t=e.field.localName,n=Object.create(null);return n[t]=Lx(e),[n,()=>n[t]]}function Lx(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Ts(t.T,t.L);case"message":const n=t.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function $x(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),dc=[];for(let e=0;e<Ei.length;e++)dc[Ei[e].charCodeAt(0)]=e;dc[45]=Ei.indexOf("+"),dc[95]=Ei.indexOf("/");const ag={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),i=0,r=0,s,a=0;for(let o=0;o<e.length;o++){if(s=dc[e.charCodeAt(o)],s===void 0)switch(e[o]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:a=s,r=1;break;case 1:n[i++]=a<<2|(s&48)>>4,a=s,r=2;break;case 2:n[i++]=(a&15)<<4|(s&60)>>2,a=s,r=3;break;case 3:n[i++]=(a&3)<<6|s,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(e){let t="",n=0,i,r=0;for(let s=0;s<e.length;s++)switch(i=e[s],n){case 0:t+=Ei[i>>2],r=(i&3)<<4,n=1;break;case 1:t+=Ei[r|i>>4],r=(i&15)<<2,n=2;break;case 2:t+=Ei[r|i>>6],t+=Ei[i&63],n=0;break}return n&&(t+=Ei[r],t+="=",n==1&&(t+="=")),t}};function Ux(e,t,n){cg(t,e);const i=t.runtime.bin.makeReadOptions(n),r=$x(e.getType().runtime.bin.listUnknownFields(e),t.field),[s,a]=sg(t);for(const o of r)t.runtime.bin.readField(s,i.readerFactory(o.data),t.field,o.wireType,i);return a()}function qx(e,t,n,i){cg(t,e);const r=t.runtime.bin.makeReadOptions(i),s=t.runtime.bin.makeWriteOptions(i);if(og(e,t)){const l=e.getType().runtime.bin.listUnknownFields(e).filter(u=>u.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const u of l)e.getType().runtime.bin.onUnknownField(e,u.no,u.wireType,u.data)}const a=s.writerFactory();let o=t.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(o,n,a,s);const c=r.readerFactory(a.finish());for(;c.pos<c.len;){const[l,u]=c.tag(),d=c.skip(u,l);e.getType().runtime.bin.onUnknownField(e,l,u,d)}}function og(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(i=>i.no==t.field.no)}function cg(e,t){pt(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function lg(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!rg(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function ug(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?Ts(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function xi(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(nd.prototype).every(i=>i in e&&typeof e[i]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function dg(e,t){return xi(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}V.DOUBLE,V.FLOAT,V.INT64,V.UINT64,V.INT32,V.UINT32,V.BOOL,V.STRING,V.BYTES;const hg={ignoreUnknownFields:!1},pg={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Xx(e){return e?Object.assign(Object.assign({},hg),e):hg}function Fx(e){return e?Object.assign(Object.assign({},pg),e):pg}const hc=Symbol(),pc=Symbol();function Bx(){return{makeReadOptions:Xx,makeWriteOptions:Fx,readMessage(e,t,n,i){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(ti(t)));i=i??new e;const r=new Map,s=n.typeRegistry;for(const[a,o]of Object.entries(t)){const c=e.fields.findJsonName(a);if(c){if(c.oneof){if(o===null&&c.kind=="scalar")continue;const l=r.get(c.oneof);if(l!==void 0)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(c.oneof.name,'" present: "').concat(l,'", "').concat(a,'"'));r.set(c.oneof,a)}fg(i,o,c,n,e)}else{let l=!1;if(s?.findExtension&&a.startsWith("[")&&a.endsWith("]")){const u=s.findExtension(a.substring(1,a.length-1));if(u&&u.extendee.typeName==e.typeName){l=!0;const[d,h]=sg(u);fg(d,o,u.field,n,u),qx(i,u,h(),n)}}if(!l&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(a,'" is unknown'))}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!lg(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!Zx(r))continue}const a=r.oneof?e[r.oneof.localName].value:e[r.localName],o=mg(r,a,t);o!==void 0&&(i[t.useProtoFieldName?r.name:r.jsonName]=o)}const s=t.typeRegistry;if(s?.findExtensionFor)for(const a of n.runtime.bin.listUnknownFields(e)){const o=s.findExtensionFor(n.typeName,a.no);if(o&&og(e,o)){const c=Ux(e,o,t),l=mg(o.field,c,t);l!==void 0&&(i[o.field.jsonName]=l)}}}catch(s){const a=r?"cannot encode field ".concat(n.typeName,".").concat(r.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),o=s instanceof Error?s.message:String(s);throw new Error(a+(o.length>0?": ".concat(o):""))}return i},readScalar(e,t,n){return _a(e,t,n??er.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||rg(e,t)))return fc(e,t)},debug:ti}}function ti(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function fg(e,t,n,i,r){let s=n.localName;if(n.repeated){if(pt(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ti(t)));const a=e[s];for(const o of t){if(o===null)throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ti(o)));switch(n.kind){case"message":a.push(n.T.fromJson(o,i));break;case"enum":const c=sd(n.T,o,i.ignoreUnknownFields,!0);c!==pc&&a.push(c);break;case"scalar":try{a.push(_a(n.T,o,n.L,!0))}catch(l){let u="cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ti(o));throw l instanceof Error&&l.message.length>0&&(u+=": ".concat(l.message)),new Error(u)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ti(t)));const a=e[s];for(const[o,c]of Object.entries(t)){if(c===null)throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: map value null"));let l;try{l=zx(n.K,o)}catch(u){let d="cannot decode map key for field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ti(t));throw u instanceof Error&&u.message.length>0&&(d+=": ".concat(u.message)),new Error(d)}switch(n.V.kind){case"message":a[l]=n.V.T.fromJson(c,i);break;case"enum":const u=sd(n.V.T,c,i.ignoreUnknownFields,!0);u!==pc&&(a[l]=u);break;case"scalar":try{a[l]=_a(n.V.T,c,er.BIGINT,!0)}catch(d){let h="cannot decode map value for field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ti(t));throw d instanceof Error&&d.message.length>0&&(h+=": ".concat(d.message)),new Error(h)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:s},s="value"),n.kind){case"message":const a=n.T;if(t===null&&a.typeName!="google.protobuf.Value")return;let o=e[s];xi(o)?o.fromJson(t,i):(e[s]=o=a.fromJson(t,i),a.fieldWrapper&&!n.oneof&&(e[s]=a.fieldWrapper.unwrapField(o)));break;case"enum":const c=sd(n.T,t,i.ignoreUnknownFields,!1);switch(c){case hc:ug(n,e);break;case pc:break;default:e[s]=c;break}break;case"scalar":try{const l=_a(n.T,t,n.L,!1);switch(l){case hc:ug(n,e);break;default:e[s]=l;break}}catch(l){let u="cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ti(t));throw l instanceof Error&&l.message.length>0&&(u+=": ".concat(l.message)),new Error(u)}break}}function zx(e,t){if(e===V.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return _a(e,t,er.BIGINT,!0).toString()}function _a(e,t,n,i){if(t===null)return i?Ts(e,n):hc;switch(e){case V.DOUBLE:case V.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const r=Number(t);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==V.FLOAT&&WO(r),r;case V.INT32:case V.FIXED32:case V.SFIXED32:case V.SINT32:case V.UINT32:let s;if(typeof t=="number"?s=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(s=Number(t)),s===void 0)break;return e==V.UINT32||e==V.FIXED32?td(s):lc(s),s;case V.INT64:case V.SFIXED64:case V.SINT64:if(typeof t!="number"&&typeof t!="string")break;const a=ut.parse(t);return n?a.toString():a;case V.FIXED64:case V.UINT64:if(typeof t!="number"&&typeof t!="string")break;const o=ut.uParse(t);return n?o.toString():o;case V.BOOL:if(typeof t!="boolean")break;return t;case V.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case V.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return ag.dec(t)}throw new Error}function sd(e,t,n,i){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:i?e.values[0].no:hc;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r!==void 0)return r.no;if(n)return pc;break}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(ti(t)))}function Zx(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function mg(e,t,n){if(e.kind=="map"){pt(typeof t=="object"&&t!=null);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[a,o]of r)i[a.toString()]=fc(e.V.T,o);break;case"message":for(const[a,o]of r)i[a.toString()]=o.toJson(n);break;case"enum":const s=e.V.T;for(const[a,o]of r)i[a.toString()]=ad(s,o,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){pt(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++)i.push(fc(e.T,t[r]));break;case"enum":for(let r=0;r<t.length;r++)i.push(ad(e.T,t[r],n.enumAsInteger));break;case"message":for(let r=0;r<t.length;r++)i.push(t[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return fc(e.T,t);case"enum":return ad(e.T,t,n.enumAsInteger);case"message":return dg(e.T,t).toJson(n)}}function ad(e,t,n){var i;if(pt(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const r=e.findNumber(t);return(i=r?.name)!==null&&i!==void 0?i:t}function fc(e,t){switch(e){case V.INT32:case V.SFIXED32:case V.SINT32:case V.FIXED32:case V.UINT32:return pt(typeof t=="number"),t;case V.FLOAT:case V.DOUBLE:return pt(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case V.STRING:return pt(typeof t=="string"),t;case V.BOOL:return pt(typeof t=="boolean"),t;case V.UINT64:case V.FIXED64:case V.INT64:case V.SFIXED64:case V.SINT64:return pt(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case V.BYTES:return pt(t instanceof Uint8Array),ag.enc(t)}}const ks=Symbol("@bufbuild/protobuf/unknown-fields"),Og={readUnknownFields:!0,readerFactory:e=>new Dx(e)},gg={writeUnknownFields:!0,writerFactory:()=>new Nx};function jx(e){return e?Object.assign(Object.assign({},Og),e):Og}function Vx(e){return e?Object.assign(Object.assign({},gg),e):gg}function Wx(){return{makeReadOptions:jx,makeWriteOptions:Vx,listUnknownFields(e){var t;return(t=e[ks])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[ks]},writeUnknownFields(e,t){const i=e[ks];if(i)for(const r of i)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[ks])||(r[ks]=[]),r[ks].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const s=e.getType(),a=r?t.len:t.pos+n;let o,c;for(;t.pos<a&&([o,c]=t.tag(),!(r===!0&&c==gt.EndGroup));){const l=s.fields.find(o);if(!l){const u=t.skip(c,o);i.readUnknownFields&&this.onUnknownField(e,o,c,u);continue}vg(e,t,l,c,i)}if(r&&(c!=gt.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:vg,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber()){if(!lg(r,e)){if(r.req)throw new Error("cannot encode field ".concat(i.typeName,".").concat(r.name," to binary: required field not set"));continue}const s=r.oneof?e[r.oneof.localName].value:e[r.localName];bg(r,s,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){t!==void 0&&bg(e,t,n,i)}}}function vg(e,t,n,i,r){let{repeated:s,localName:a}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=a&&delete e.value,e.case=a,a="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?V.INT32:n.T;let c=Oc;if(n.kind=="scalar"&&n.L>0&&(c=Yx),s){let h=e[a];if(i==gt.LengthDelimited&&o!=V.STRING&&o!=V.BYTES){let m=t.uint32()+t.pos;for(;t.pos<m;)h.push(c(t,o))}else h.push(c(t,o))}else e[a]=c(t,o);break;case"message":const l=n.T;s?e[a].push(mc(t,new l,r,n)):xi(e[a])?mc(t,e[a],r,n):(e[a]=mc(t,new l,r,n),l.fieldWrapper&&!n.oneof&&!n.repeated&&(e[a]=l.fieldWrapper.unwrapField(e[a])));break;case"map":let[u,d]=Gx(n,t,r);e[a][u]=d;break}}function mc(e,t,n,i){const r=t.getType().runtime.bin,s=i?.delimited;return r.readMessage(t,e,s?i.no:e.uint32(),n,s),t}function Gx(e,t,n){const i=t.uint32(),r=t.pos+i;let s,a;for(;t.pos<r;){const[o]=t.tag();switch(o){case 1:s=Oc(t,e.K);break;case 2:switch(e.V.kind){case"scalar":a=Oc(t,e.V.T);break;case"enum":a=t.int32();break;case"message":a=mc(t,new e.V.T,n,void 0);break}break}}if(s===void 0&&(s=Ts(e.K,er.BIGINT)),typeof s!="string"&&typeof s!="number"&&(s=s.toString()),a===void 0)switch(e.V.kind){case"scalar":a=Ts(e.V.T,er.BIGINT);break;case"enum":a=e.V.T.values[0].no;break;case"message":a=new e.V.T;break}return[s,a]}function Yx(e,t){const n=Oc(e,t);return typeof n=="bigint"?n.toString():n}function Oc(e,t){switch(t){case V.STRING:return e.string();case V.BOOL:return e.bool();case V.DOUBLE:return e.double();case V.FLOAT:return e.float();case V.INT32:return e.int32();case V.INT64:return e.int64();case V.UINT64:return e.uint64();case V.FIXED64:return e.fixed64();case V.BYTES:return e.bytes();case V.FIXED32:return e.fixed32();case V.SFIXED32:return e.sfixed32();case V.SFIXED64:return e.sfixed64();case V.SINT64:return e.sint64();case V.UINT32:return e.uint32();case V.SINT32:return e.sint32()}}function bg(e,t,n,i){pt(t!==void 0);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let s=e.kind=="enum"?V.INT32:e.T;if(r)if(pt(Array.isArray(t)),e.packed)Kx(n,s,e.no,t);else for(const a of t)wa(n,s,e.no,a);else wa(n,s,e.no,t);break;case"message":if(r){pt(Array.isArray(t));for(const a of t)Tg(n,i,e,a)}else Tg(n,i,e,t);break;case"map":pt(typeof t=="object"&&t!=null);for(const[a,o]of Object.entries(t))Hx(n,i,e,a,o);break}}function Hx(e,t,n,i,r){e.tag(n.no,gt.LengthDelimited),e.fork();let s=i;switch(n.K){case V.INT32:case V.FIXED32:case V.UINT32:case V.SFIXED32:case V.SINT32:s=Number.parseInt(i);break;case V.BOOL:pt(i=="true"||i=="false"),s=i=="true";break}switch(wa(e,n.K,1,s),n.V.kind){case"scalar":wa(e,n.V.T,2,r);break;case"enum":wa(e,V.INT32,2,r);break;case"message":pt(r!==void 0),e.tag(2,gt.LengthDelimited).bytes(r.toBinary(t));break}e.join()}function Tg(e,t,n,i){const r=dg(n.T,i);n.delimited?e.tag(n.no,gt.StartGroup).raw(r.toBinary(t)).tag(n.no,gt.EndGroup):e.tag(n.no,gt.LengthDelimited).bytes(r.toBinary(t))}function wa(e,t,n,i){pt(i!==void 0);let[r,s]=kg(t);e.tag(n,r)[s](i)}function Kx(e,t,n,i){if(!i.length)return;e.tag(n,gt.LengthDelimited).fork();let[,r]=kg(t);for(let s=0;s<i.length;s++)e[r](i[s]);e.join()}function kg(e){let t=gt.Varint;switch(e){case V.BYTES:case V.STRING:t=gt.LengthDelimited;break;case V.DOUBLE:case V.FIXED64:case V.SFIXED64:t=gt.Bit64;break;case V.FIXED32:case V.SFIXED32:case V.FLOAT:t=gt.Bit32;break}const n=V[e].toLowerCase();return[t,n]}function Jx(){return{setEnumType:YO,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const i of n.fields.byMember()){const r=i.localName,s=t,a=e;if(a[r]!=null)switch(i.kind){case"oneof":const o=a[r].case;if(o===void 0)continue;const c=i.findField(o);let l=a[r].value;c&&c.kind=="message"&&!xi(l,c.T)?l=new c.T(l):c&&c.kind==="scalar"&&c.T===V.BYTES&&(l=Ea(l)),s[r]={case:o,value:l};break;case"scalar":case"enum":let u=a[r];i.T===V.BYTES&&(u=i.repeated?u.map(Ea):Ea(u)),s[r]=u;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===V.BYTES)for(const[p,m]of Object.entries(a[r]))s[r][p]=Ea(m);else Object.assign(s[r],a[r]);break;case"message":const h=i.V.T;for(const p of Object.keys(a[r])){let m=a[r][p];h.fieldWrapper||(m=new h(m)),s[r][p]=m}break}break;case"message":const d=i.T;if(i.repeated)s[r]=a[r].map(h=>xi(h,d)?h:new d(h));else{const h=a[r];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?s[r]=Ea(h):s[r]=h:s[r]=xi(h,d)?h:new d(h)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(i=>{const r=t[i.localName],s=n[i.localName];if(i.repeated){if(r.length!==s.length)return!1;switch(i.kind){case"message":return r.every((a,o)=>i.T.equals(a,s[o]));case"scalar":return r.every((a,o)=>tr(i.T,a,s[o]));case"enum":return r.every((a,o)=>tr(V.INT32,a,s[o]))}throw new Error("repeated cannot contain ".concat(i.kind))}switch(i.kind){case"message":let a=r,o=s;return i.T.fieldWrapper&&(a!==void 0&&!xi(a)&&(a=i.T.fieldWrapper.wrapField(a)),o!==void 0&&!xi(o)&&(o=i.T.fieldWrapper.wrapField(o))),i.T.equals(a,o);case"enum":return tr(V.INT32,r,s);case"scalar":return tr(i.T,r,s);case"oneof":if(r.case!==s.case)return!1;const c=i.findField(r.case);if(c===void 0)return!0;switch(c.kind){case"message":return c.T.equals(r.value,s.value);case"enum":return tr(V.INT32,r.value,s.value);case"scalar":return tr(c.T,r.value,s.value)}throw new Error("oneof cannot contain ".concat(c.kind));case"map":const l=Object.keys(r).concat(Object.keys(s));switch(i.V.kind){case"message":const u=i.V.T;return l.every(h=>u.equals(r[h],s[h]));case"enum":return l.every(h=>tr(V.INT32,r[h],s[h]));case"scalar":const d=i.V.T;return l.every(h=>tr(d,r[h],s[h]))}break}})},clone(e){const t=e.getType(),n=new t,i=n;for(const r of t.fields.byMember()){const s=e[r.localName];let a;if(r.repeated)a=s.map(gc);else if(r.kind=="map"){a=i[r.localName];for(const[o,c]of Object.entries(s))a[o]=gc(c)}else r.kind=="oneof"?a=r.findField(s.case)?{case:s.case,value:gc(s.value)}:{case:void 0}:a=gc(s);i[r.localName]=a}for(const r of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function gc(e){if(e===void 0)return e;if(xi(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Ea(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function eC(e,t,n){return{syntax:e,json:Bx(),bin:Wx(),util:Object.assign(Object.assign({},Jx()),{newFieldList:t,initFields:n}),makeMessageType(i,r,s){return Cx(this,i,r,s)},makeEnum:xx,makeEnumType:HO,getEnumType:Ex,makeExtension(i,r,s){return Mx(this,i,r,s)}}}class tC{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,t.push(n)):t.push(i)}return this.members}}function yg(e,t){const n=Sg(e);return t?n:oC(aC(n))}function nC(e){return yg(e,!1)}const iC=Sg;function Sg(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const rC=new Set(["constructor","toString","toJSON","valueOf"]),sC=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),_g=e=>"".concat(e,"$"),aC=e=>sC.has(e)?_g(e):e,oC=e=>rC.has(e)?_g(e):e;class cC{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=nC(t)}addField(t){pt(t.oneof===this,"field ".concat(t.name," not one of ").concat(this.name)),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function lC(e,t){var n,i,r,s,a,o;const c=[];let l;for(const u of typeof e=="function"?e():e){const d=u;if(d.localName=yg(u.name,u.oneof!==void 0),d.jsonName=(n=u.jsonName)!==null&&n!==void 0?n:iC(u.name),d.repeated=(i=u.repeated)!==null&&i!==void 0?i:!1,u.kind=="scalar"&&(d.L=(r=u.L)!==null&&r!==void 0?r:er.BIGINT),d.delimited=(s=u.delimited)!==null&&s!==void 0?s:!1,d.req=(a=u.req)!==null&&a!==void 0?a:!1,d.opt=(o=u.opt)!==null&&o!==void 0?o:!1,u.packed===void 0&&(d.packed=u.kind=="enum"||u.kind=="scalar"&&u.T!=V.BYTES&&u.T!=V.STRING),u.oneof!==void 0){const h=typeof u.oneof=="string"?u.oneof:u.oneof.name;(!l||l.name!=h)&&(l=new cC(h)),d.oneof=l,l.addField(d)}c.push(d)}return c}const U=eC("proto3",e=>new tC(e,t=>lC(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated){i[n]=[];continue}switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Ts(t.T,t.L);break}}});class sn extends nd{constructor(t){super(),this.seconds=ut.zero,this.nanos=0,U.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(U.json.debug(t)));const i=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ut.parse(r/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const r=(this.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?i="."+r.substring(0,3)+"Z":r.substring(6)==="000"?i="."+r.substring(0,6)+"Z":i="."+r+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return sn.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new sn({seconds:ut.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new sn().fromBinary(t,n)}static fromJson(t,n){return new sn().fromJson(t,n)}static fromJsonString(t,n){return new sn().fromJsonString(t,n)}static equals(t,n){return U.util.equals(sn,t,n)}}sn.runtime=U,sn.typeName="google.protobuf.Timestamp",sn.fields=U.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const uC=U.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:sn},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:dC,repeated:!0},{no:5,name:"events",kind:"message",T:pC,repeated:!0}]),dC=U.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:hC,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),hC=U.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:sn},{no:3,name:"value",kind:"scalar",T:2}]),pC=U.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:sn},{no:7,name:"normalized_end_timestamp",kind:"message",T:sn,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),wg=U.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Un=U.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),St=U.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),od=U.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),xa=U.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),Ca=U.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),qn=U.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),Mr=U.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),fC=U.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),Nt=U.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),vc=U.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:bc,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:Ug}]),bc=U.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),mC=U.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:U.getEnumType(St),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),Lr=U.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:U.getEnumType(ys)},{no:4,name:"tracks",kind:"message",T:Ss,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:mC},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:U.getEnumType(Pa)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:U.getEnumType(qn)},{no:18,name:"kind_details",kind:"enum",T:U.getEnumType(OC),repeated:!0}]),ys=U.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),Pa=U.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"}]),OC=U.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),Pt=U.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),gC=U.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:nr,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:U.getEnumType(Eg)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),Ss=U.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:U.getEnumType(Un)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:U.getEnumType(St)},{no:10,name:"layers",kind:"message",T:nr,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:gC,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:U.getEnumType(Pt)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:Ug},{no:19,name:"audio_features",kind:"enum",T:U.getEnumType(Nt),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:U.getEnumType(wg)}]),nr=U.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:U.getEnumType(od)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),Eg=U.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),Kt=U.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:U.getEnumType(Ce)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:cd,oneof:"value"},{no:3,name:"speaker",kind:"message",T:vC,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:Ag,oneof:"value"},{no:7,name:"transcription",kind:"message",T:bC,oneof:"value"},{no:8,name:"metrics",kind:"message",T:uC,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:Tc,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:ld,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:ud,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:dd,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:kc,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:yc,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:Sc,oneof:"value"},{no:18,name:"encrypted_packet",kind:"message",T:xg,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),Ce=U.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),xg=U.makeMessageType("livekit.EncryptedPacket",()=>[{no:1,name:"encryption_type",kind:"enum",T:U.getEnumType(Pt)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}]),Cg=U.makeMessageType("livekit.EncryptedPacketPayload",()=>[{no:1,name:"user",kind:"message",T:cd,oneof:"value"},{no:3,name:"chat_message",kind:"message",T:Tc,oneof:"value"},{no:4,name:"rpc_request",kind:"message",T:ld,oneof:"value"},{no:5,name:"rpc_ack",kind:"message",T:ud,oneof:"value"},{no:6,name:"rpc_response",kind:"message",T:dd,oneof:"value"},{no:7,name:"stream_header",kind:"message",T:kc,oneof:"value"},{no:8,name:"stream_chunk",kind:"message",T:yc,oneof:"value"},{no:9,name:"stream_trailer",kind:"message",T:Sc,oneof:"value"}]),vC=U.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:Pg,repeated:!0}]),Pg=U.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),cd=U.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),Ag=U.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),bC=U.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:TC,repeated:!0}]),TC=U.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),Tc=U.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),ld=U.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),ud=U.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),dd=U.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:Rg,oneof:"value"}]),Rg=U.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),Ig=U.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),Qg=U.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:U.getEnumType(Ng)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),Ng=U.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),Dg=U.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:U.getEnumType(Mg)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),Mg=U.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),Lg=U.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:$g},{no:2,name:"screen",kind:"message",T:$g},{no:3,name:"resume_connection",kind:"enum",T:U.getEnumType(Ca)},{no:4,name:"disabled_codecs",kind:"message",T:kC},{no:5,name:"force_relay",kind:"enum",T:U.getEnumType(Ca)}]),$g=U.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:U.getEnumType(Ca)}]),kC=U.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:bc,repeated:!0},{no:2,name:"publish",kind:"message",T:bc,repeated:!0}]),Ug=U.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),hd=U.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),qg=U.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:U.getEnumType(hd)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),Xg=U.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),kc=U.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:U.getEnumType(Pt)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:qg,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:Xg,oneof:"content_header"}],{localName:"DataStream_Header"}),yc=U.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),Sc=U.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),yC=U.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),Xn=U.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),pd=U.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),SC=U.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),_C=U.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:ir,oneof:"message"},{no:2,name:"answer",kind:"message",T:ir,oneof:"message"},{no:3,name:"trickle",kind:"message",T:_c,oneof:"message"},{no:4,name:"add_track",kind:"message",T:Aa,oneof:"message"},{no:5,name:"mute",kind:"message",T:wc,oneof:"message"},{no:6,name:"subscription",kind:"message",T:Ec,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:Bg,oneof:"message"},{no:8,name:"leave",kind:"message",T:xc,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:Zg,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:Wg,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:bd,oneof:"message"},{no:13,name:"simulate",kind:"message",T:ni,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:gd,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:Hg,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:Od,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:zg,oneof:"message"}]),Fg=U.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:wC,oneof:"message"},{no:2,name:"answer",kind:"message",T:ir,oneof:"message"},{no:3,name:"offer",kind:"message",T:ir,oneof:"message"},{no:4,name:"trickle",kind:"message",T:_c,oneof:"message"},{no:5,name:"update",kind:"message",T:CC,oneof:"message"},{no:6,name:"track_published",kind:"message",T:md,oneof:"message"},{no:8,name:"leave",kind:"message",T:xc,oneof:"message"},{no:9,name:"mute",kind:"message",T:wc,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:PC,oneof:"message"},{no:11,name:"room_update",kind:"message",T:AC,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:IC,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:NC,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:MC,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:$C,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:xC,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:EC,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:qC,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:BC,oneof:"message"},{no:22,name:"request_response",kind:"message",T:zC,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:ZC,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:UC,oneof:"message"},{no:25,name:"media_sections_requirement",kind:"message",T:GC,oneof:"message"},{no:26,name:"subscribed_audio_codec_update",kind:"message",T:LC,oneof:"message"}]),fd=U.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:nr,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:U.getEnumType(Eg)}]),Aa=U.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:U.getEnumType(Un)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:U.getEnumType(St)},{no:9,name:"layers",kind:"message",T:nr,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:fd,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:U.getEnumType(Pt)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:U.getEnumType(wg)},{no:17,name:"audio_features",kind:"enum",T:U.getEnumType(Nt),repeated:!0}]),_c=U.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:U.getEnumType(Xn)},{no:3,name:"final",kind:"scalar",T:8}]),wc=U.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),wC=U.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:vc},{no:2,name:"participant",kind:"message",T:Lr},{no:3,name:"other_participants",kind:"message",T:Lr,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:jg,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Lg},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:Qg},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:bc,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),EC=U.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:jg,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Lg},{no:3,name:"server_info",kind:"message",T:Qg},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),md=U.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:Ss}]),xC=U.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),ir=U.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}]),CC=U.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:Lr,repeated:!0}]),Ec=U.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:Ig,repeated:!0}]),Bg=U.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:U.getEnumType(od)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),Od=U.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:U.getEnumType(Nt),repeated:!0}]),zg=U.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),xc=U.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:U.getEnumType(qn)},{no:3,name:"action",kind:"enum",T:U.getEnumType(_s)},{no:4,name:"regions",kind:"message",T:XC}]),_s=U.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),Zg=U.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:nr,repeated:!0}]),gd=U.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),jg=U.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),PC=U.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:Pg,repeated:!0}]),AC=U.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:vc}]),RC=U.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:U.getEnumType(xa)},{no:3,name:"score",kind:"scalar",T:2}]),IC=U.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:RC,repeated:!0}]),QC=U.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:U.getEnumType(pd)}]),NC=U.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:QC,repeated:!0}]),vd=U.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:U.getEnumType(od)},{no:2,name:"enabled",kind:"scalar",T:8}]),DC=U.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:vd,repeated:!0}]),MC=U.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:vd,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:DC,repeated:!0}]),LC=U.makeMessageType("livekit.SubscribedAudioCodecUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_audio_codecs",kind:"message",T:yC,repeated:!0}]),Vg=U.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),Wg=U.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:Vg,repeated:!0}]),$C=U.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),UC=U.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:vc},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:Lr},{no:4,name:"other_participants",kind:"message",T:Lr,repeated:!0}]),bd=U.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:ir},{no:2,name:"subscription",kind:"message",T:Ec},{no:3,name:"publish_tracks",kind:"message",T:md,repeated:!0},{no:4,name:"data_channels",kind:"message",T:Yg,repeated:!0},{no:5,name:"offer",kind:"message",T:ir},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:Gg,repeated:!0}]),Gg=U.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),Yg=U.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:U.getEnumType(Xn)}]),ni=U.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:U.getEnumType(SC),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),Hg=U.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),qC=U.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),XC=U.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:FC,repeated:!0}]),FC=U.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),BC=U.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:U.getEnumType(fC)}]),zC=U.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:U.getEnumType(Td)},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"trickle",kind:"message",T:_c,oneof:"request"},{no:5,name:"add_track",kind:"message",T:Aa,oneof:"request"},{no:6,name:"mute",kind:"message",T:wc,oneof:"request"},{no:7,name:"update_metadata",kind:"message",T:gd,oneof:"request"},{no:8,name:"update_audio_track",kind:"message",T:Od,oneof:"request"},{no:9,name:"update_video_track",kind:"message",T:zg,oneof:"request"}]),Td=U.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"}]),ZC=U.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),Kg=U.makeMessageType("livekit.ConnectionSettings",()=>[{no:1,name:"auto_subscribe",kind:"scalar",T:8},{no:2,name:"adaptive_stream",kind:"scalar",T:8},{no:3,name:"subscriber_allow_pause",kind:"scalar",T:8,opt:!0},{no:4,name:"disable_ice_lite",kind:"scalar",T:8}]),jC=U.makeMessageType("livekit.JoinRequest",()=>[{no:1,name:"client_info",kind:"message",T:Dg},{no:2,name:"connection_settings",kind:"message",T:Kg},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"participant_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"add_track_requests",kind:"message",T:Aa,repeated:!0},{no:6,name:"publisher_offer",kind:"message",T:ir},{no:7,name:"reconnect",kind:"scalar",T:8},{no:8,name:"reconnect_reason",kind:"enum",T:U.getEnumType(Mr)},{no:9,name:"participant_sid",kind:"scalar",T:9},{no:10,name:"sync_state",kind:"message",T:bd}]),VC=U.makeMessageType("livekit.WrappedJoinRequest",()=>[{no:1,name:"compression",kind:"enum",T:U.getEnumType(WC)},{no:2,name:"join_request",kind:"scalar",T:12}]),WC=U.makeEnum("livekit.WrappedJoinRequest.Compression",[{no:0,name:"NONE"},{no:1,name:"GZIP"}]),GC=U.makeMessageType("livekit.MediaSectionsRequirement",()=>[{no:1,name:"num_audios",kind:"scalar",T:13},{no:2,name:"num_videos",kind:"scalar",T:13}]);function YC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cc={exports:{}},HC=Cc.exports,Jg;function KC(){return Jg||(Jg=1,(function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(HC,function(){var t=function(){},n="undefined",i=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],s={},a=null;function o(O,b){var v=O[b];if(typeof v.bind=="function")return v.bind(O);try{return Function.prototype.bind.call(v,O)}catch{return function(){return Function.prototype.apply.apply(v,[O,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(O){return O==="debug"&&(O="log"),typeof console===n?!1:O==="trace"&&i?c:console[O]!==void 0?o(console,O):console.log!==void 0?o(console,"log"):t}function u(){for(var O=this.getLevel(),b=0;b<r.length;b++){var v=r[b];this[v]=b<O?t:this.methodFactory(v,O,this.name)}if(this.log=this.debug,typeof console===n&&O<this.levels.SILENT)return"No console available for logging"}function d(O){return function(){typeof console!==n&&(u.call(this),this[O].apply(this,arguments))}}function h(O,b,v){return l(O)||d.apply(this,arguments)}function p(O,b){var v=this,T,S,k,y="loglevel";typeof O=="string"?y+=":"+O:typeof O=="symbol"&&(y=void 0);function _(M){var L=(r[M]||"silent").toUpperCase();if(!(typeof window===n||!y)){try{window.localStorage[y]=L;return}catch{}try{window.document.cookie=encodeURIComponent(y)+"="+L+";"}catch{}}}function x(){var M;if(!(typeof window===n||!y)){try{M=window.localStorage[y]}catch{}if(typeof M===n)try{var L=window.document.cookie,z=encodeURIComponent(y),X=L.indexOf(z+"=");X!==-1&&(M=/^([^;]+)/.exec(L.slice(X+z.length+1))[1])}catch{}return v.levels[M]===void 0&&(M=void 0),M}}function N(){if(!(typeof window===n||!y)){try{window.localStorage.removeItem(y)}catch{}try{window.document.cookie=encodeURIComponent(y)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function D(M){var L=M;if(typeof L=="string"&&v.levels[L.toUpperCase()]!==void 0&&(L=v.levels[L.toUpperCase()]),typeof L=="number"&&L>=0&&L<=v.levels.SILENT)return L;throw new TypeError("log.setLevel() called with invalid level: "+M)}v.name=O,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=b||h,v.getLevel=function(){return k??S??T},v.setLevel=function(M,L){return k=D(M),L!==!1&&_(k),u.call(v)},v.setDefaultLevel=function(M){S=D(M),x()||v.setLevel(M,!1)},v.resetLevel=function(){k=null,N(),u.call(v)},v.enableAll=function(M){v.setLevel(v.levels.TRACE,M)},v.disableAll=function(M){v.setLevel(v.levels.SILENT,M)},v.rebuild=function(){if(a!==v&&(T=D(a.getLevel())),u.call(v),a===v)for(var M in s)s[M].rebuild()},T=D(a?a.getLevel():"WARN");var E=x();E!=null&&(k=D(E)),u.call(v)}a=new p,a.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var v=s[b];return v||(v=s[b]=new p(b,a.methodFactory)),v};var m=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=m),a},a.getLoggers=function(){return s},a.default=a,a})})(Cc)),Cc.exports}var Pc=KC(),kd;(function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"})(kd||(kd={}));var Fn;(function(e){e.Default="livekit",e.Room="livekit-room",e.TokenSource="livekit-token-source",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"})(Fn||(Fn={}));let ye=Pc.getLogger("livekit");Object.values(Fn).map(e=>Pc.getLogger(e)),ye.setDefaultLevel(kd.info);function Ci(e){const t=Pc.getLogger(e);return t.setDefaultLevel(ye.getLevel()),t}const JC=Pc.getLogger("lk-e2ee"),Ra=7e3,eP=[0,300,4*300,9*300,16*300,Ra,Ra,Ra,Ra,Ra];class tP{constructor(t){this._retryDelays=t!==void 0?[...t]:eP}nextRetryDelayInMs(t){if(t.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[t.retryCount];return t.retryCount<=1?n:n+Math.random()*1e3}}function nP(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function P(e,t,n,i){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(d){a(d)}}function c(u){try{l(i.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((i=i.apply(e,t||[])).next())})}function ev(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ev=="function"?ev(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(a){return new Promise(function(o,c){a=e[s](a),r(o,c,a.done,a.value)})}}function r(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}}typeof SuppressedError=="function"&&SuppressedError;var Ac={exports:{}},tv;function iP(){if(tv)return Ac.exports;tv=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(y,_,x){return Function.prototype.apply.call(y,_,x)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:n=function(y){return Object.getOwnPropertyNames(y)};function i(k){console&&console.warn&&console.warn(k)}var r=Number.isNaN||function(y){return y!==y};function s(){s.init.call(this)}Ac.exports=s,Ac.exports.once=v,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(k){if(typeof k!="number"||k<0||r(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");a=k}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||r(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this};function c(k){return k._maxListeners===void 0?s.defaultMaxListeners:k._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(y){for(var _=[],x=1;x<arguments.length;x++)_.push(arguments[x]);var N=y==="error",D=this._events;if(D!==void 0)N=N&&D.error===void 0;else if(!N)return!1;if(N){var E;if(_.length>0&&(E=_[0]),E instanceof Error)throw E;var M=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw M.context=E,M}var L=D[y];if(L===void 0)return!1;if(typeof L=="function")t(L,this,_);else for(var z=L.length,X=m(L,z),x=0;x<z;++x)t(X[x],this,_);return!0};function l(k,y,_,x){var N,D,E;if(o(_),D=k._events,D===void 0?(D=k._events=Object.create(null),k._eventsCount=0):(D.newListener!==void 0&&(k.emit("newListener",y,_.listener?_.listener:_),D=k._events),E=D[y]),E===void 0)E=D[y]=_,++k._eventsCount;else if(typeof E=="function"?E=D[y]=x?[_,E]:[E,_]:x?E.unshift(_):E.push(_),N=c(k),N>0&&E.length>N&&!E.warned){E.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=k,M.type=y,M.count=E.length,i(M)}return k}s.prototype.addListener=function(y,_){return l(this,y,_,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(y,_){return l(this,y,_,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(k,y,_){var x={fired:!1,wrapFn:void 0,target:k,type:y,listener:_},N=u.bind(x);return N.listener=_,x.wrapFn=N,N}s.prototype.once=function(y,_){return o(_),this.on(y,d(this,y,_)),this},s.prototype.prependOnceListener=function(y,_){return o(_),this.prependListener(y,d(this,y,_)),this},s.prototype.removeListener=function(y,_){var x,N,D,E,M;if(o(_),N=this._events,N===void 0)return this;if(x=N[y],x===void 0)return this;if(x===_||x.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete N[y],N.removeListener&&this.emit("removeListener",y,x.listener||_));else if(typeof x!="function"){for(D=-1,E=x.length-1;E>=0;E--)if(x[E]===_||x[E].listener===_){M=x[E].listener,D=E;break}if(D<0)return this;D===0?x.shift():O(x,D),x.length===1&&(N[y]=x[0]),N.removeListener!==void 0&&this.emit("removeListener",y,M||_)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(y){var _,x,N;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[y]),this;if(arguments.length===0){var D=Object.keys(x),E;for(N=0;N<D.length;++N)E=D[N],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=x[y],typeof _=="function")this.removeListener(y,_);else if(_!==void 0)for(N=_.length-1;N>=0;N--)this.removeListener(y,_[N]);return this};function h(k,y,_){var x=k._events;if(x===void 0)return[];var N=x[y];return N===void 0?[]:typeof N=="function"?_?[N.listener||N]:[N]:_?b(N):m(N,N.length)}s.prototype.listeners=function(y){return h(this,y,!0)},s.prototype.rawListeners=function(y){return h(this,y,!1)},s.listenerCount=function(k,y){return typeof k.listenerCount=="function"?k.listenerCount(y):p.call(k,y)},s.prototype.listenerCount=p;function p(k){var y=this._events;if(y!==void 0){var _=y[k];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function m(k,y){for(var _=new Array(y),x=0;x<y;++x)_[x]=k[x];return _}function O(k,y){for(;y+1<k.length;y++)k[y]=k[y+1];k.pop()}function b(k){for(var y=new Array(k.length),_=0;_<y.length;++_)y[_]=k[_].listener||k[_];return y}function v(k,y){return new Promise(function(_,x){function N(E){k.removeListener(y,D),x(E)}function D(){typeof k.removeListener=="function"&&k.removeListener("error",N),_([].slice.call(arguments))}S(k,y,D,{once:!0}),y!=="error"&&T(k,N,{once:!0})})}function T(k,y,_){typeof k.on=="function"&&S(k,"error",y,_)}function S(k,y,_,x){if(typeof k.on=="function")x.once?k.once(y,_):k.on(y,_);else if(typeof k.addEventListener=="function")k.addEventListener(y,function N(D){x.once&&k.removeEventListener(y,N),_(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return Ac.exports}var ii=iP();let nv=!0,iv=!0;function Ia(e,t,n){const i=e.match(t);return i&&i.length>=n&&parseFloat(i[n],10)}function $r(e,t,n){if(!e.RTCPeerConnection)return;const i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(a,o){if(a!==t)return r.apply(this,arguments);const c=l=>{const u=n(l);u&&(o.handleEvent?o.handleEvent(u):o(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(o,c),r.apply(this,[a,c])};const s=i.removeEventListener;i.removeEventListener=function(a,o){if(a!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(o))return s.apply(this,arguments);const c=this._eventMap[t].get(o);return this._eventMap[t].delete(o),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[a,c])},Object.defineProperty(i,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function rP(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(nv=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function sP(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(iv=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function rv(){if(typeof window=="object"){if(nv)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function yd(e,t){iv&&console.warn(e+" is deprecated, please use "+t+" instead.")}function aP(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const i=n.userAgentData.brands.find(r=>r.brand==="Chromium");if(i)return{browser:"chrome",version:parseInt(i.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Ia(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Ia(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Ia(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Ia(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function sv(e){return Object.prototype.toString.call(e)==="[object Object]"}function av(e){return sv(e)?Object.keys(e).reduce(function(t,n){const i=sv(e[n]),r=i?av(e[n]):e[n],s=i&&!Object.keys(r).length;return r===void 0||s?t:Object.assign(t,{[n]:r})},{}):e}function Sd(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(i=>{i.endsWith("Id")?Sd(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach(r=>{Sd(e,e.get(r),n)})}))}function ov(e,t,n){const i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(t===null)return r;const s=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&s.push(a)}),s.forEach(a=>{e.forEach(o=>{o.type===i&&o.trackId===a.id&&Sd(e,o,r)})}),r}const cv=rv;function lv(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const i=function(o){if(typeof o!="object"||o.mandatory||o.optional)return o;const c={};return Object.keys(o).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const u=typeof o[l]=="object"?o[l]:{ideal:o[l]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const d=function(h,p){return h?h+p.charAt(0).toUpperCase()+p.slice(1):p==="deviceId"?"sourceId":p};if(u.ideal!==void 0){c.optional=c.optional||[];let h={};typeof u.ideal=="number"?(h[d("min",l)]=u.ideal,c.optional.push(h),h={},h[d("max",l)]=u.ideal,c.optional.push(h)):(h[d("",l)]=u.ideal,c.optional.push(h))}u.exact!==void 0&&typeof u.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[d("",l)]=u.exact):["min","max"].forEach(h=>{u[h]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[d(h,l)]=u[h])})}),o.advanced&&(c.optional=(c.optional||[]).concat(o.advanced)),c},r=function(o,c){if(t.version>=61)return c(o);if(o=JSON.parse(JSON.stringify(o)),o&&typeof o.audio=="object"){const l=function(u,d,h){d in u&&!(h in u)&&(u[h]=u[d],delete u[d])};o=JSON.parse(JSON.stringify(o)),l(o.audio,"autoGainControl","googAutoGainControl"),l(o.audio,"noiseSuppression","googNoiseSuppression"),o.audio=i(o.audio)}if(o&&typeof o.video=="object"){let l=o.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const u=t.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete o.video.facingMode;let d;if(l.exact==="environment"||l.ideal==="environment"?d=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(d=["front"]),d)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(m=>m.kind==="videoinput");let p=h.find(m=>d.some(O=>m.label.toLowerCase().includes(O)));return!p&&h.length&&d.includes("back")&&(p=h[h.length-1]),p&&(o.video.deviceId=l.exact?{exact:p.deviceId}:{ideal:p.deviceId}),o.video=i(o.video),cv("chrome: "+JSON.stringify(o)),c(o)})}o.video=i(o.video)}return cv("chrome: "+JSON.stringify(o)),c(o)},s=function(o){return t.version>=64?o:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(o,c,l){r(o,u=>{n.webkitGetUserMedia(u,c,d=>{l&&l(s(d))})})};if(n.getUserMedia=a.bind(n),n.mediaDevices.getUserMedia){const o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return r(c,l=>o(l).then(u=>{if(l.audio&&!u.getAudioTracks().length||l.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(s(u))))}}}function uv(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function dv(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=i=>{i.stream.addEventListener("addtrack",r=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(o=>o.track&&o.track.id===r.track.id):s={track:r.track};const a=new Event("track");a.track=r.track,a.receiver=s,a.transceiver={receiver:s},a.streams=[i.stream],this.dispatchEvent(a)}),i.stream.getTracks().forEach(r=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(o=>o.track&&o.track.id===r.id):s={track:r};const a=new Event("track");a.track=r,a.receiver=s,a.transceiver={receiver:s},a.streams=[i.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else $r(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function hv(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(r,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=r.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:r}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,c){let l=r.apply(this,arguments);return l||(l=t(this,o),this._senders.push(l)),l};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){s.apply(this,arguments);const c=this._senders.indexOf(o);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(a=>{this._senders.push(t(this,a))})};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],i.apply(this,[s]),s.getTracks().forEach(a=>{const o=this._senders.find(c=>c.track===a);o&&this._senders.splice(this._senders.indexOf(o),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(r=>r._pc=this),i},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function pv(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(a=>a._pc=this),s});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=i.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(a=>ov(a,s.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=n.apply(this,[]);return r.forEach(s=>s._pc=this),r}),$r(e,"track",i=>(i.receiver._pc=i.srcElement,i)),e.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(s=>ov(s,r.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const i=arguments[0];let r,s,a;return this.getSenders().forEach(o=>{o.track===i&&(r?a=!0:r=o)}),this.getReceivers().forEach(o=>(o.track===i&&(s?a=!0:s=o),o.track===i)),a||r&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function fv(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,o){if(!o)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[o.id]?this._shimmedLocalStreams[o.id].indexOf(c)===-1&&this._shimmedLocalStreams[o.id].push(c):this._shimmedLocalStreams[o.id]=[o,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(l=>{if(this.getSenders().find(d=>d.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const o=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(l=>o.indexOf(l)===-1);this._shimmedLocalStreams[a.id]=[a].concat(c)};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],i.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(o=>{const c=this._shimmedLocalStreams[o].indexOf(a);c!==-1&&this._shimmedLocalStreams[o].splice(c,1),this._shimmedLocalStreams[o].length===1&&delete this._shimmedLocalStreams[o]}),r.apply(this,arguments)}}function mv(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return fv(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(d=>this._reverseStreams[d.id])};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(d=>{if(this.getSenders().find(p=>p.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const d=new e.MediaStream(u.getTracks());this._streams[u.id]=d,this._reverseStreams[d.id]=u,u=d}i.apply(this,[u])};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},e.RTCPeerConnection.prototype.addTrack=function(u,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(O=>O===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(O=>O.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const m=this._streams[d.id];if(m)m.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const O=new e.MediaStream([u]);this._streams[d.id]=O,this._reverseStreams[O.id]=d,this.addStream(O)}return this.getSenders().find(O=>O.track===u)};function s(l,u){let d=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(h=>{const p=l._reverseStreams[h],m=l._streams[p.id];d=d.replace(new RegExp(m.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:d})}function a(l,u){let d=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(h=>{const p=l._reverseStreams[h],m=l._streams[p.id];d=d.replace(new RegExp(p.id,"g"),m.id)}),new RTCSessionDescription({type:u.type,sdp:d})}["createOffer","createAnswer"].forEach(function(l){const u=e.RTCPeerConnection.prototype[l],d={[l](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[m=>{const O=s(this,m);h[0].apply(null,[O])},m=>{h[1]&&h[1].apply(null,m)},arguments[2]]):u.apply(this,arguments).then(m=>s(this,m))}};e.RTCPeerConnection.prototype[l]=d[l]});const o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?o.apply(this,arguments):(arguments[0]=a(this,arguments[0]),o.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const l=c.get.apply(this);return l.type===""?l:s(this,l)}}),e.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(p=>{this._streams[p].getTracks().find(O=>u.track===O)&&(h=this._streams[p])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function _d(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const i=e.RTCPeerConnection.prototype[n],r={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=r[n]})}function Ov(e,t){$r(e,"negotiationneeded",n=>{const i=n.target;if(!((t.version<72||i.getConfiguration&&i.getConfiguration().sdpSemantics==="plan-b")&&i.signalingState!=="stable"))return n})}var gv=Object.freeze({__proto__:null,fixNegotiationNeeded:Ov,shimAddTrackRemoveTrack:mv,shimAddTrackRemoveTrackWithNative:fv,shimGetSendersWithDtmf:hv,shimGetUserMedia:lv,shimMediaStream:uv,shimOnTrack:dv,shimPeerConnection:_d,shimSenderReceiverGetStats:pv});function vv(e,t){const n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(r,s,a){yd("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(r).then(s,a)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const r=function(a,o,c){o in a&&!(c in a)&&(a[c]=a[o],delete a[o])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),r(a.audio,"autoGainControl","mozAutoGainControl"),r(a.audio,"noiseSuppression","mozNoiseSuppression")),s(a)},i&&i.prototype.getSettings){const a=i.prototype.getSettings;i.prototype.getSettings=function(){const o=a.apply(this,arguments);return r(o,"mozAutoGainControl","autoGainControl"),r(o,"mozNoiseSuppression","noiseSuppression"),o}}if(i&&i.prototype.applyConstraints){const a=i.prototype.applyConstraints;i.prototype.applyConstraints=function(o){return this.kind==="audio"&&typeof o=="object"&&(o=JSON.parse(JSON.stringify(o)),r(o,"autoGainControl","mozAutoGainControl"),r(o,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[o])}}}}function oP(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return i.video===!0?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})}function bv(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function wd(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const s=e.RTCPeerConnection.prototype[r],a={[r](){return arguments[0]=new(r==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};e.RTCPeerConnection.prototype[r]=a[r]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[s,a,o]=arguments;return i.apply(this,[s||null]).then(c=>{if(t.version<53&&!a)try{c.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;c.forEach((u,d)=>{c.set(d,Object.assign({},u,{type:n[u.type]||u.type}))})}return c}).then(a,o)}}function Tv(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const r=n.apply(this,arguments);return r._pc=this,r}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function kv(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=t.apply(this,[]);return i.forEach(r=>r._pc=this),i}),$r(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function yv(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){yd("removeStream","removeTrack"),this.getSenders().forEach(i=>{i.track&&n.getTracks().includes(i.track)&&this.removeTrack(i)})})}function Sv(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function _v(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let i=arguments[1]&&arguments[1].sendEncodings;i===void 0&&(i=[]),i=[...i];const r=i.length>0;r&&i.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=t.apply(this,arguments);if(r){const{sender:a}=s,o=a.getParameters();(!("encodings"in o)||o.encodings.length===1&&Object.keys(o.encodings[0]).length===0)&&(o.encodings=i,a.sendEncodings=i,this.setParametersPromises.push(a.setParameters(o).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return s})}function wv(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const i=t.apply(this,arguments);return"encodings"in i||(i.encodings=[].concat(this.sendEncodings||[{}])),i})}function Ev(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function xv(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var Cv=Object.freeze({__proto__:null,shimAddTransceiver:_v,shimCreateAnswer:xv,shimCreateOffer:Ev,shimGetDisplayMedia:oP,shimGetParameters:wv,shimGetUserMedia:vv,shimOnTrack:bv,shimPeerConnection:wd,shimRTCDataChannel:Sv,shimReceiverGetStats:kv,shimRemoveStream:yv,shimSenderGetStats:Tv});function Pv(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(i){this._localStreams||(this._localStreams=[]),this._localStreams.includes(i)||this._localStreams.push(i),i.getAudioTracks().forEach(r=>t.call(this,r,i)),i.getVideoTracks().forEach(r=>t.call(this,r,i))},e.RTCPeerConnection.prototype.addTrack=function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s&&s.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const i=this._localStreams.indexOf(n);if(i===-1)return;this._localStreams.splice(i,1);const r=n.getTracks();this.getSenders().forEach(s=>{r.includes(s.track)&&this.removeTrack(s)})})}}function Av(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=i=>{i.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);const s=new Event("addstream");s.stream=r,this.dispatchEvent(s)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const i=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(s=>{if(i._remoteStreams||(i._remoteStreams=[]),i._remoteStreams.indexOf(s)>=0)return;i._remoteStreams.push(s);const a=new Event("addstream");a.stream=s,i.dispatchEvent(a)})}),t.apply(i,arguments)}}}function Rv(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,r=t.setLocalDescription,s=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(l,u){const d=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[d]);return u?(h.then(l,u),Promise.resolve()):h},t.createAnswer=function(l,u){const d=arguments.length>=2?arguments[2]:arguments[0],h=i.apply(this,[d]);return u?(h.then(l,u),Promise.resolve()):h};let o=function(c,l,u){const d=r.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d};t.setLocalDescription=o,o=function(c,l,u){const d=s.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d},t.setRemoteDescription=o,o=function(c,l,u){const d=a.apply(this,[c]);return u?(d.then(l,u),Promise.resolve()):d},t.addIceCandidate=o}function Iv(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,i=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=r=>i(Qv(r))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(i,r,s){t.mediaDevices.getUserMedia(i).then(r,s)}).bind(t))}function Qv(e){return e&&e.video!==void 0?Object.assign({},e,{video:av(e.video)}):e}function Nv(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(i,r){if(i&&i.iceServers){const s=[];for(let a=0;a<i.iceServers.length;a++){let o=i.iceServers[a];o.urls===void 0&&o.url?(yd("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,s.push(o)):s.push(i.iceServers[a])}i.iceServers=s}return new t(i,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Dv(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Mv(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(i){if(i){typeof i.offerToReceiveAudio<"u"&&(i.offerToReceiveAudio=!!i.offerToReceiveAudio);const r=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");i.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):i.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof i.offerToReceiveVideo<"u"&&(i.offerToReceiveVideo=!!i.offerToReceiveVideo);const s=this.getTransceivers().find(a=>a.receiver.track.kind==="video");i.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):i.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Lv(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var $v=Object.freeze({__proto__:null,shimAudioContext:Lv,shimCallbacksAPI:Rv,shimConstraints:Qv,shimCreateOfferLegacy:Mv,shimGetUserMedia:Iv,shimLocalStreamsAPI:Pv,shimRTCIceServerUrls:Nv,shimRemoteStreamsAPI:Av,shimTrackEventTransceiver:Dv}),Ed={exports:{}},Uv;function cP(){return Uv||(Uv=1,(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(i=>i.trim())},t.splitSections=function(n){return n.split(`
m=`).map((r,s)=>(s>0?"m="+r:r).trim()+`\r
`)},t.getDescription=function(n){const i=t.splitSections(n);return i&&i[0]},t.getMediaSections=function(n){const i=t.splitSections(n);return i.shift(),i},t.matchPrefix=function(n,i){return t.splitLines(n).filter(r=>r.indexOf(i)===0)},t.parseCandidate=function(n){let i;n.indexOf("a=candidate:")===0?i=n.substring(12).split(" "):i=n.substring(10).split(" ");const r={foundation:i[0],component:{1:"rtp",2:"rtcp"}[i[1]]||i[1],protocol:i[2].toLowerCase(),priority:parseInt(i[3],10),ip:i[4],address:i[4],port:parseInt(i[5],10),type:i[7]};for(let s=8;s<i.length;s+=2)switch(i[s]){case"raddr":r.relatedAddress=i[s+1];break;case"rport":r.relatedPort=parseInt(i[s+1],10);break;case"tcptype":r.tcpType=i[s+1];break;case"ufrag":r.ufrag=i[s+1],r.usernameFragment=i[s+1];break;default:r[i[s]]===void 0&&(r[i[s]]=i[s+1]);break}return r},t.writeCandidate=function(n){const i=[];i.push(n.foundation);const r=n.component;r==="rtp"?i.push(1):r==="rtcp"?i.push(2):i.push(r),i.push(n.protocol.toUpperCase()),i.push(n.priority),i.push(n.address||n.ip),i.push(n.port);const s=n.type;return i.push("typ"),i.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(i.push("raddr"),i.push(n.relatedAddress),i.push("rport"),i.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(i.push("tcptype"),i.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(i.push("ufrag"),i.push(n.usernameFragment||n.ufrag)),"candidate:"+i.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let i=n.substring(9).split(" ");const r={payloadType:parseInt(i.shift(),10)};return i=i[0].split("/"),r.name=i[0],r.clockRate=parseInt(i[1],10),r.channels=i.length===3?parseInt(i[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(n){let i=n.payloadType;n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType);const r=n.channels||n.numChannels||1;return"a=rtpmap:"+i+" "+n.name+"/"+n.clockRate+(r!==1?"/"+r:"")+`\r
`},t.parseExtmap=function(n){const i=n.substring(9).split(" ");return{id:parseInt(i[0],10),direction:i[0].indexOf("/")>0?i[0].split("/")[1]:"sendrecv",uri:i[1],attributes:i.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const i={};let r;const s=n.substring(n.indexOf(" ")+1).split(";");for(let a=0;a<s.length;a++)r=s[a].trim().split("="),i[r[0].trim()]=r[1];return i},t.writeFmtp=function(n){let i="",r=n.payloadType;if(n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(a=>{n.parameters[a]!==void 0?s.push(a+"="+n.parameters[a]):s.push(a)}),i+="a=fmtp:"+r+" "+s.join(";")+`\r
`}return i},t.parseRtcpFb=function(n){const i=n.substring(n.indexOf(" ")+1).split(" ");return{type:i.shift(),parameter:i.join(" ")}},t.writeRtcpFb=function(n){let i="",r=n.payloadType;return n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{i+="a=rtcp-fb:"+r+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),i},t.parseSsrcMedia=function(n){const i=n.indexOf(" "),r={ssrc:parseInt(n.substring(7,i),10)},s=n.indexOf(":",i);return s>-1?(r.attribute=n.substring(i+1,s),r.value=n.substring(s+1)):r.attribute=n.substring(i+1),r},t.parseSsrcGroup=function(n){const i=n.substring(13).split(" ");return{semantics:i.shift(),ssrcs:i.map(r=>parseInt(r,10))}},t.getMid=function(n){const i=t.matchPrefix(n,"a=mid:")[0];if(i)return i.substring(6)},t.parseFingerprint=function(n){const i=n.substring(14).split(" ");return{algorithm:i[0].toLowerCase(),value:i[1].toUpperCase()}},t.getDtlsParameters=function(n,i){return{role:"auto",fingerprints:t.matchPrefix(n+i,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,i){let r="a=setup:"+i+`\r
`;return n.fingerprints.forEach(s=>{r+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),r},t.parseCryptoLine=function(n){const i=n.substring(9).split(" ");return{tag:parseInt(i[0],10),cryptoSuite:i[1],keyParams:i[2],sessionParams:i.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const i=n.substring(7).split("|");return{keyMethod:"inline",keySalt:i[0],lifeTime:i[1],mkiValue:i[2]?i[2].split(":")[0]:void 0,mkiLength:i[2]?i[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,i){return t.matchPrefix(n+i,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,i){const r=t.matchPrefix(n+i,"a=ice-ufrag:")[0],s=t.matchPrefix(n+i,"a=ice-pwd:")[0];return r&&s?{usernameFragment:r.substring(12),password:s.substring(10)}:null},t.writeIceParameters=function(n){let i="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(i+=`a=ice-lite\r
`),i},t.parseRtpParameters=function(n){const i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=t.splitLines(n)[0].split(" ");i.profile=s[2];for(let o=3;o<s.length;o++){const c=s[o],l=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(l){const u=t.parseRtpMap(l),d=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(u.parameters=d.length?t.parseFmtp(d[0]):{},u.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),i.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(u.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(o=>{i.headerExtensions.push(t.parseExtmap(o))});const a=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return i.codecs.forEach(o=>{a.forEach(c=>{o.rtcpFeedback.find(u=>u.type===c.type&&u.parameter===c.parameter)||o.rtcpFeedback.push(c)})}),i},t.writeRtpDescription=function(n,i){let r="";r+="m="+n+" ",r+=i.codecs.length>0?"9":"0",r+=" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=i.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,r+=`c=IN IP4 0.0.0.0\r
`,r+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,i.codecs.forEach(a=>{r+=t.writeRtpMap(a),r+=t.writeFmtp(a),r+=t.writeRtcpFb(a)});let s=0;return i.codecs.forEach(a=>{a.maxptime>s&&(s=a.maxptime)}),s>0&&(r+="a=maxptime:"+s+`\r
`),i.headerExtensions&&i.headerExtensions.forEach(a=>{r+=t.writeExtmap(a)}),r},t.parseRtpEncodingParameters=function(n){const i=[],r=t.parseRtpParameters(n),s=r.fecMechanisms.indexOf("RED")!==-1,a=r.fecMechanisms.indexOf("ULPFEC")!==-1,o=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),c=o.length>0&&o[0].ssrc;let l;const u=t.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(m=>parseInt(m,10)));u.length>0&&u[0].length>1&&u[0][0]===c&&(l=u[0][1]),r.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let p={ssrc:c,codecPayloadType:parseInt(h.parameters.apt,10)};c&&l&&(p.rtx={ssrc:l}),i.push(p),s&&(p=JSON.parse(JSON.stringify(p)),p.fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},i.push(p))}}),i.length===0&&c&&i.push({ssrc:c});let d=t.matchPrefix(n,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substring(5),10)*1e3*.95-2e3*8:d=void 0,i.forEach(h=>{h.maxBitrate=d})),i},t.parseRtcpParameters=function(n){const i={},r=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];r&&(i.cname=r.value,i.ssrc=r.ssrc);const s=t.matchPrefix(n,"a=rtcp-rsize");i.reducedSize=s.length>0,i.compound=s.length===0;const a=t.matchPrefix(n,"a=rtcp-mux");return i.mux=a.length>0,i},t.writeRtcpParameters=function(n){let i="";return n.reducedSize&&(i+=`a=rtcp-rsize\r
`),n.mux&&(i+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(i+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),i},t.parseMsid=function(n){let i;const r=t.matchPrefix(n,"a=msid:");if(r.length===1)return i=r[0].substring(7).split(" "),{stream:i[0],track:i[1]};const s=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");if(s.length>0)return i=s[0].value.split(" "),{stream:i[0],track:i[1]}},t.parseSctpDescription=function(n){const i=t.parseMLine(n),r=t.matchPrefix(n,"a=max-message-size:");let s;r.length>0&&(s=parseInt(r[0].substring(19),10)),isNaN(s)&&(s=65536);const a=t.matchPrefix(n,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:i.fmt,maxMessageSize:s};const o=t.matchPrefix(n,"a=sctpmap:");if(o.length>0){const c=o[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:s}}},t.writeSctpDescription=function(n,i){let r=[];return n.protocol!=="DTLS/SCTP"?r=["m="+n.kind+" 9 "+n.protocol+" "+i.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+i.port+`\r
`]:r=["m="+n.kind+" 9 "+n.protocol+" "+i.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+i.port+" "+i.protocol+` 65535\r
`],i.maxMessageSize!==void 0&&r.push("a=max-message-size:"+i.maxMessageSize+`\r
`),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,i,r){let s;const a=i!==void 0?i:2;return n?s=n:s=t.generateSessionId(),`v=0\r
o=`+(r||"thisisadapterortc")+" "+s+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,i){const r=t.splitLines(n);for(let s=0;s<r.length;s++)switch(r[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[s].substring(2)}return i?t.getDirection(i):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const r=t.splitLines(n)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(n){const r=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const i=t.splitLines(n);for(let r=0;r<i.length;r++)if(i[r].length<2||i[r].charAt(1)!=="=")return!1;return!0},e.exports=t})(Ed)),Ed.exports}var qv=cP(),ws=YC(qv),lP=vx({__proto__:null,default:ws},[qv]);function Rc(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(i){if(typeof i=="object"&&i.candidate&&i.candidate.indexOf("a=")===0&&(i=JSON.parse(JSON.stringify(i)),i.candidate=i.candidate.substring(2)),i.candidate&&i.candidate.length){const r=new t(i),s=ws.parseCandidate(i.candidate);for(const a in s)a in r||Object.defineProperty(r,a,{value:s[a]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(i)},e.RTCIceCandidate.prototype=t.prototype,$r(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function xd(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||$r(e,"icecandidate",t=>{if(t.candidate){const n=ws.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Ic(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(o){if(!o||!o.sdp)return!1;const c=ws.splitSections(o.sdp);return c.shift(),c.some(l=>{const u=ws.parseMLine(l);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},i=function(o){const c=o.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const l=parseInt(c[1],10);return l!==l?-1:l},r=function(o){let c=65536;return t.browser==="firefox"&&(t.version<57?o===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},s=function(o,c){let l=65536;t.browser==="firefox"&&t.version===57&&(l=65535);const u=ws.matchPrefix(o.sdp,"a=max-message-size:");return u.length>0?l=parseInt(u[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(l=2147483637),l},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=i(arguments[0]),l=r(c),u=s(arguments[0],c);let d;l===0&&u===0?d=Number.POSITIVE_INFINITY:l===0||u===0?d=Math.max(l,u):d=Math.min(l,u);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return d}}),this._sctp=h}return a.apply(this,arguments)}}function Qc(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(i,r){const s=i.send;i.send=function(){const o=arguments[0],c=o.length||o.size||o.byteLength;if(i.readyState==="open"&&r.sctp&&c>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return s.apply(i,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const r=n.apply(this,arguments);return t(r,this),r},$r(e,"datachannel",i=>(t(i.channel,i.target),i))}function Cd(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const i=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{const s=r.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const a=new Event("connectionstatechange",r);s.dispatchEvent(a)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function Pd(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=r.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&r instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:r.type,sdp:s}):r.sdp=s}return n.apply(this,arguments)}}function Nc(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Dc(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return n.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer";break}return r.sdp||r.type!=="offer"&&r.type!=="answer"?n.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(a=>n.apply(this,[a]))})}var uP=Object.freeze({__proto__:null,removeExtmapAllowMixed:Pd,shimAddIceCandidateNullOrEmpty:Nc,shimConnectionState:Cd,shimMaxMessageSize:Ic,shimParameterlessSetLocalDescription:Dc,shimRTCIceCandidate:Rc,shimRTCIceCandidateRelayProtocol:xd,shimSendThrowTypeError:Qc});function dP(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=rv,i=aP(e),r={browserDetails:i,commonShim:uP,extractVersion:Ia,disableLog:rP,disableWarnings:sP,sdp:lP};switch(i.browser){case"chrome":if(!gv||!_d||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(i.version===null)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=gv,Nc(e,i),Dc(e),lv(e,i),uv(e),_d(e,i),dv(e),mv(e,i),hv(e),pv(e),Ov(e,i),Rc(e),xd(e),Cd(e),Ic(e,i),Qc(e),Pd(e,i);break;case"firefox":if(!Cv||!wd||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=Cv,Nc(e,i),Dc(e),vv(e,i),wd(e,i),bv(e),yv(e),Tv(e),kv(e),Sv(e),_v(e),wv(e),Ev(e),xv(e),Rc(e),Cd(e),Ic(e,i),Qc(e);break;case"safari":if(!$v||!t.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=$v,Nc(e,i),Dc(e),Nv(e),Mv(e),Rv(e),Pv(e),Av(e),Dv(e),Iv(e),Lv(e),Rc(e),xd(e),Ic(e,i),Qc(e),Pd(e,i);break;default:n("Unsupported browser!");break}return r}dP({window:typeof window>"u"?void 0:window});const hP=10,Qa="lk_e2ee",pP={sharedKey:!1,ratchetSalt:"LKFrameEncryptionKey",ratchetWindowSize:8,failureTolerance:hP,keyringSize:16};var rr;(function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"})(rr||(rr={}));var Xv;(function(e){e.KeyRatcheted="keyRatcheted"})(Xv||(Xv={}));var sr;(function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"})(sr||(sr={}));var Fv;(function(e){e.Error="cryptorError"})(Fv||(Fv={}));function fP(){return mP()||Ad()}function Ad(){return typeof window.RTCRtpScriptTransform<"u"}function mP(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}function OP(e){var t,n,i,r,s;if(((t=e.value)===null||t===void 0?void 0:t.case)!=="sipDtmf"&&((n=e.value)===null||n===void 0?void 0:n.case)!=="metrics"&&((i=e.value)===null||i===void 0?void 0:i.case)!=="speaker"&&((r=e.value)===null||r===void 0?void 0:r.case)!=="transcription"&&((s=e.value)===null||s===void 0?void 0:s.case)!=="encryptedPacket")return new Cg({value:e.value})}class Aj extends ii.EventEmitter{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,i,r)=>{ye.debug("key ratcheted event received",{ratchetResult:n,participantId:i,keyIndex:r})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},pP),t),this.on(rr.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(t,n,i){const r={key:t,participantIdentity:n,keyIndex:i};if(!this.options.sharedKey&&!n)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(n??"shared","-").concat(i??0),r),this.emit(rr.SetKey,r)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(t,n){this.emit(rr.RatchetRequest,t,n)}}class Ai extends Error{constructor(t,n){super(n||"an error has occured"),this.name="LiveKitError",this.code=t}}var ve;(function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest",e[e.Timeout=5]="Timeout"})(ve||(ve={}));class Qe extends Ai{constructor(t,n,i,r){super(1,t),this.name="ConnectionError",this.status=i,this.reason=n,this.context=r,this.reasonName=ve[n]}}class Rd extends Ai{constructor(t){super(21,t??"device is unsupported"),this.name="DeviceUnsupportedError"}}class Ri extends Ai{constructor(t){super(20,t??"track is invalid"),this.name="TrackInvalidError"}}class gP extends Ai{constructor(t){super(10,t??"unsupported server"),this.name="UnsupportedServer"}}class At extends Ai{constructor(t){super(12,t??"unexpected connection state"),this.name="UnexpectedConnectionState"}}class Id extends Ai{constructor(t){super(13,t??"unable to negotiate"),this.name="NegotiationError"}}class Bv extends Ai{constructor(t,n){super(15,t),this.name="PublishTrackError",this.status=n}}class zv extends Ai{constructor(t,n){super(15,t),this.reason=n,this.reasonName=typeof n=="string"?n:Td[n]}}var Jt;(function(e){e[e.AlreadyOpened=0]="AlreadyOpened",e[e.AbnormalEnd=1]="AbnormalEnd",e[e.DecodeFailed=2]="DecodeFailed",e[e.LengthExceeded=3]="LengthExceeded",e[e.Incomplete=4]="Incomplete",e[e.HandlerAlreadyRegistered=7]="HandlerAlreadyRegistered",e[e.EncryptionTypeMismatch=8]="EncryptionTypeMismatch"})(Jt||(Jt={}));class Rn extends Ai{constructor(t,n){super(16,t),this.name="DataStreamError",this.reason=n,this.reasonName=Jt[n]}}var Mc;(function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"})(Mc||(Mc={})),(function(e){function t(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?e.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?e.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?e.DeviceInUse:e.Other}e.getFailure=t})(Mc||(Mc={}));var Zv;(function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"})(Zv||(Zv={}));var G;(function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.Moved="moved",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.ParticipantActive="participantActive",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"})(G||(G={}));var ie;(function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackCpuConstrained="localTrackCpuConstrained",e.LocalSenderCreated="localSenderCreated",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.TrackCpuConstrained="trackCpuConstrained",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage",e.Active="active"})(ie||(ie={}));var te;(function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected",e.RoomMoved="roomMoved"})(te||(te={}));var J;(function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.CpuConstrained="cpuConstrained",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate",e.PreConnectBufferFlushed="preConnectBufferFlushed"})(J||(J={}));function vP(e){return typeof e>"u"?e:typeof structuredClone=="function"?typeof e=="object"&&e!==null?structuredClone(Object.assign({},e)):structuredClone(e):JSON.parse(JSON.stringify(e))}const bP=/version\/(\d+(\.?_?\d+)+)/i;let Qd;function an(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(Qd===void 0||t){const i=TP.find(r=>{let{test:s}=r;return s.test(n)});Qd=i?.describe(n)}return Qd}const TP=[{test:/firefox|iceweasel|fxios/i,describe(e){return{name:"Firefox",version:Lc(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:Nd(e)}}},{test:/chrom|crios|crmo/i,describe(e){return{name:"Chrome",version:Lc(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:Nd(e)}}},{test:/safari|applewebkit/i,describe(e){return{name:"Safari",version:Lc(bP,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:Nd(e)}}}];function Lc(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const i=t.match(e);return i&&i.length>=n&&i[n]||""}function Nd(e){return e.includes("mac os")?Lc(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}var kP="2.16.0";const yP=kP,SP=16;class Ut{}Ut.setTimeout=function(){return setTimeout(...arguments)},Ut.setInterval=function(){return setInterval(...arguments)},Ut.clearTimeout=function(){return clearTimeout(...arguments)},Ut.clearInterval=function(){return clearInterval(...arguments)};const _P=5e3,Na=[];var On;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"})(On||(On={}));class Z extends ii.EventEmitter{get streamState(){return this._streamState}setStreamState(t){this._streamState=t}constructor(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;super(),this.attachedElements=[],this.isMuted=!1,this._streamState=Z.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=ye,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),_P):this.handleAppVisibilityChanged()},this.log=Ci((r=i.loggerName)!==null&&r!==void 0?r:Fn.Track),this.loggerContextCb=i.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=t,this._mediaStreamID=t.id,this.source=Z.Source.Unknown}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),Pe(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(t){let n="audio";this.kind===Z.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===Z.Kind.Video&&this.addAppVisibilityListener(),t||(n==="audio"&&(Na.forEach(s=>{s.parentElement===null&&!t&&(t=s)}),t&&Na.splice(Na.indexOf(t),1)),t||(t=document.createElement(n))),this.attachedElements.includes(t)||this.attachedElements.push(t),Es(this.mediaStreamTrack,t);const i=t.srcObject.getTracks(),r=i.some(s=>s.kind==="audio");return t.play().then(()=>{this.emit(r?J.AudioPlaybackStarted:J.VideoPlaybackStarted)}).catch(s=>{s.name==="NotAllowedError"?this.emit(r?J.AudioPlaybackFailed:J.VideoPlaybackFailed,s):s.name==="AbortError"?ye.debug("".concat(r?"audio":"video"," playback aborted, likely due to new play request")):ye.warn("could not playback ".concat(r?"audio":"video"),s),r&&t&&i.some(a=>a.kind==="video")&&s.name==="NotAllowedError"&&(t.muted=!0,t.play().catch(()=>{}))}),this.emit(J.ElementAttached,t),t}detach(t){try{if(t){xs(this.mediaStreamTrack,t);const i=this.attachedElements.indexOf(t);return i>=0&&(this.attachedElements.splice(i,1),this.recycleElement(t),this.emit(J.ElementDetached,t)),t}const n=[];return this.attachedElements.forEach(i=>{xs(this.mediaStreamTrack,i),n.push(i),this.recycleElement(i),this.emit(J.ElementDetached,i)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(t){t.loggerName&&(this.log=Ci(t.loggerName)),t.loggerContextCb&&(this.loggerContextCb=t.loggerContextCb)}recycleElement(t){if(t instanceof HTMLAudioElement){let n=!0;t.pause(),Na.forEach(i=>{i.parentElement||(n=!1)}),n&&Na.push(t)}}handleAppVisibilityChanged(){return P(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===Z.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(t=>t.play().catch(()=>{})),0)})}addAppVisibilityListener(){on()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){on()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function Es(e,t){let n;t.srcObject instanceof MediaStream?n=t.srcObject:n=new MediaStream;let i;e.kind==="audio"?i=n.getAudioTracks():i=n.getVideoTracks(),i.includes(e)||(i.forEach(r=>{n.removeTrack(r)}),n.addTrack(e)),(!qr()||!(t instanceof HTMLVideoElement))&&(t.autoplay=!0),t.muted=n.getAudioTracks().length===0,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(qr()||Ur())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function xs(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}(function(e){let t;(function(l){l.Audio="audio",l.Video="video",l.Unknown="unknown"})(t=e.Kind||(e.Kind={}));let n;(function(l){l.Camera="camera",l.Microphone="microphone",l.ScreenShare="screen_share",l.ScreenShareAudio="screen_share_audio",l.Unknown="unknown"})(n=e.Source||(e.Source={}));let i;(function(l){l.Active="active",l.Paused="paused",l.Unknown="unknown"})(i=e.StreamState||(e.StreamState={}));function r(l){switch(l){case t.Audio:return Un.AUDIO;case t.Video:return Un.VIDEO;default:return Un.DATA}}e.kindToProto=r;function s(l){switch(l){case Un.AUDIO:return t.Audio;case Un.VIDEO:return t.Video;default:return t.Unknown}}e.kindFromProto=s;function a(l){switch(l){case n.Camera:return St.CAMERA;case n.Microphone:return St.MICROPHONE;case n.ScreenShare:return St.SCREEN_SHARE;case n.ScreenShareAudio:return St.SCREEN_SHARE_AUDIO;default:return St.UNKNOWN}}e.sourceToProto=a;function o(l){switch(l){case St.CAMERA:return n.Camera;case St.MICROPHONE:return n.Microphone;case St.SCREEN_SHARE:return n.ScreenShare;case St.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}e.sourceFromProto=o;function c(l){switch(l){case pd.ACTIVE:return i.Active;case pd.PAUSED:return i.Paused;default:return i.Unknown}}e.streamStateFromProto=c})(Z||(Z={}));class He{constructor(t,n,i,r,s){if(typeof t=="object")this.width=t.width,this.height=t.height,this.aspectRatio=t.aspectRatio,this.encoding={maxBitrate:t.maxBitrate,maxFramerate:t.maxFramerate,priority:t.priority};else if(n!==void 0&&i!==void 0)this.width=t,this.height=n,this.aspectRatio=t/n,this.encoding={maxBitrate:i,maxFramerate:r,priority:s};else throw new TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const wP=["vp8","h264"],EP=["vp8","h264","vp9","av1","h265"];function xP(e){return!!wP.find(t=>t===e)}const CP=xP;var jv;(function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"})(jv||(jv={}));var Dd;(function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}})(Dd||(Dd={}));const Da={h90:new He(160,90,9e4,20),h180:new He(320,180,16e4,20),h216:new He(384,216,18e4,20),h360:new He(640,360,45e4,20),h540:new He(960,540,8e5,25),h720:new He(1280,720,17e5,30),h1080:new He(1920,1080,3e6,30),h1440:new He(2560,1440,5e6,30),h2160:new He(3840,2160,8e6,30)},Md={h120:new He(160,120,7e4,20),h180:new He(240,180,125e3,20),h240:new He(320,240,14e4,20),h360:new He(480,360,33e4,20),h480:new He(640,480,5e5,20),h540:new He(720,540,6e5,25),h720:new He(960,720,13e5,30),h1080:new He(1440,1080,23e5,30),h1440:new He(1920,1440,38e5,30)},Ld={h360fps3:new He(640,360,2e5,3,"medium"),h360fps15:new He(640,360,4e5,15,"medium"),h720fps5:new He(1280,720,8e5,5,"medium"),h720fps15:new He(1280,720,15e5,15,"medium"),h720fps30:new He(1280,720,2e6,30,"medium"),h1080fps15:new He(1920,1080,25e5,15,"medium"),h1080fps30:new He(1920,1080,5e6,30,"medium"),original:new He(0,0,7e6,30,"medium")},PP="|",Vv="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function AP(e){const t=e.split(PP);return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}function qt(e){return P(this,void 0,void 0,function*(){return new Promise(t=>Ut.setTimeout(t,e))})}function $d(){return"addTransceiver"in RTCPeerConnection.prototype}function Ud(){return"addTrack"in RTCPeerConnection.prototype}function RP(){if(!("getCapabilities"in RTCRtpSender)||qr()||Ur())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType.toLowerCase()==="video/av1"){t=!0;break}}return t}function IP(){if(!("getCapabilities"in RTCRtpSender)||Ur())return!1;if(qr()){const n=an();if(n?.version&&si(n.version,"16")<0||n?.os==="iOS"&&n?.osVersion&&si(n.osVersion,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType.toLowerCase()==="video/vp9"){t=!0;break}}return t}function Bn(e){return e==="av1"||e==="vp9"}function qd(e){return!document||Ma()?!1:(e||(e=document.createElement("audio")),"setSinkId"in e)}function QP(){return typeof RTCPeerConnection>"u"?!1:$d()||Ud()}function Ur(){var e;return((e=an())===null||e===void 0?void 0:e.name)==="Firefox"}function Wv(){const e=an();return!!e&&e.name==="Chrome"&&e.os!=="iOS"}function qr(){var e;return((e=an())===null||e===void 0?void 0:e.name)==="Safari"}function Ma(){const e=an();return e?.name==="Safari"||e?.os==="iOS"}function NP(){const e=an();return e?.name==="Safari"&&e.version.startsWith("17.")||e?.os==="iOS"&&!!e?.osVersion&&si(e.osVersion,"17")>=0}function DP(e){return e||(e=an()),e?.name==="Safari"&&si(e.version,"18.3")>0||e?.os==="iOS"&&!!e?.osVersion&&si(e.osVersion,"18.3")>0}function Gv(){var e,t;return on()?(t=(e=navigator.userAgentData)===null||e===void 0?void 0:e.mobile)!==null&&t!==void 0?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function MP(){const e=an(),t="17.2";if(e)return e.name!=="Safari"&&e.os!=="iOS"||e.os==="iOS"&&e.osVersion&&si(e.osVersion,t)>=0?!0:e.name==="Safari"&&si(e.version,t)>=0}function on(){return typeof document<"u"}function ri(){return navigator.product=="ReactNative"}function $c(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function Xd(e){return $c(e)?e.hostname.split(".")[0]:null}function Yv(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function Hv(){if(!ri())return;let e=Yv();if(e)return e.platform}function Kv(){if(on())return window.devicePixelRatio;if(ri()){let e=Yv();if(e)return e.devicePixelRatio}return 1}function si(e,t){const n=e.split("."),i=t.split("."),r=Math.min(n.length,i.length);for(let s=0;s<r;++s){const a=parseInt(n[s],10),o=parseInt(i[s],10);if(a>o)return 1;if(a<o)return-1;if(s===r-1&&a===o)return 0}return e===""&&t!==""?-1:t===""?1:n.length==i.length?0:n.length<i.length?-1:1}function LP(e){for(const t of e)t.target.handleResize(t)}function $P(e){for(const t of e)t.target.handleVisibilityChanged(t)}let Fd=null;const Jv=()=>(Fd||(Fd=new ResizeObserver(LP)),Fd);let Bd=null;const eb=()=>(Bd||(Bd=new IntersectionObserver($P,{root:null,rootMargin:"0px"})),Bd);function UP(){var e;const t=new Dg({sdk:Mg.JS,protocol:SP,version:yP});return ri()&&(t.os=(e=Hv())!==null&&e!==void 0?e:""),t}function tb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const r=document.createElement("canvas");r.width=e,r.height=t;const s=r.getContext("2d");s?.fillRect(0,0,r.width,r.height),i&&s&&(s.beginPath(),s.arc(e/2,t/2,50,0,Math.PI*2,!0),s.closePath(),s.fillStyle="grey",s.fill());const a=r.captureStream(),[o]=a.getTracks();if(!o)throw Error("Could not get empty media stream video track");return o.enabled=n,o}let La;function zd(){if(!La){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const i=e.createMediaStreamDestination();if(t.connect(n),n.connect(i),t.start(),[La]=i.stream.getAudioTracks(),!La)throw Error("Could not get empty media stream audio track");La.enabled=!1}return La.clone()}class In{get isResolved(){return this._isResolved}constructor(t,n){this._isResolved=!1,this.onFinally=n,this.promise=new Promise((i,r)=>P(this,void 0,void 0,function*(){this.resolve=i,this.reject=r,t&&(yield t(i,r))})).finally(()=>{var i;this._isResolved=!0,(i=this.onFinally)===null||i===void 0||i.call(this)})}}function qP(e){return EP.includes(e)}function ar(e){if(typeof e=="string"||typeof e=="number")return e;if(Array.isArray(e))return e[0];if(e.exact!==void 0)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal!==void 0)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function XP(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}function $a(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function FP(e,t){return e.segments.map(n=>{let{id:i,text:r,language:s,startTime:a,endTime:o,final:c}=n;var l;const u=(l=t.get(i))!==null&&l!==void 0?l:Date.now(),d=Date.now();return c?t.delete(i):t.set(i,u),{id:i,text:r,startTime:Number.parseInt(a.toString()),endTime:Number.parseInt(o.toString()),final:c,language:s,firstReceivedTime:u,lastReceivedTime:d}})}function BP(e){const{id:t,timestamp:n,message:i,editTimestamp:r}=e;return{id:t,timestamp:Number.parseInt(n.toString()),editTimestamp:r?Number.parseInt(r.toString()):void 0,message:i}}function nb(e){switch(e.reason){case ve.LeaveRequest:return e.context;case ve.Cancelled:return qn.CLIENT_INITIATED;case ve.NotAllowed:return qn.USER_REJECTED;case ve.ServerUnreachable:return qn.JOIN_FAILURE;default:return qn.UNKNOWN_REASON}}function Uc(e){return e!==void 0?Number(e):void 0}function Xr(e){return e!==void 0?BigInt(e):void 0}function Cs(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function ai(e){return!!e&&e.kind==Z.Kind.Audio}function or(e){return!!e&&e.kind==Z.Kind.Video}function cr(e){return Cs(e)&&or(e)}function Ii(e){return Cs(e)&&ai(e)}function Zd(e){return!!e&&!e.isLocal}function zP(e){return!!e&&!e.isLocal}function jd(e){return Zd(e)&&or(e)}function ZP(e){return e.isLocal}function jP(e,t){const n=[];let i=new TextEncoder().encode(e);for(;i.length>t;){let r=t;for(;r>0;){const s=i[r];if(s!==void 0&&(s&192)!==128)break;r--}n.push(i.slice(0,r)),i=i.slice(r)}return i.length>0&&n.push(i),n}function VP(e){var t;const n=e.get("Cache-Control");if(n){const i=(t=n.match(/(?:^|[,\s])max-age=(\d+)/))===null||t===void 0?void 0:t[1];if(i)return parseInt(i,10)}}function ib(e,t,n){var i,r,s,a;const{optionsWithoutProcessor:o,audioProcessor:c,videoProcessor:l}=ab(e??{}),u=t?.processor,d=n?.processor,h=o??{};return h.audio===!0&&(h.audio={}),h.video===!0&&(h.video={}),h.audio&&(Vd(h.audio,t),(i=(s=h.audio).deviceId)!==null&&i!==void 0||(s.deviceId={ideal:"default"}),(c||u)&&(h.audio.processor=c??u)),h.video&&(Vd(h.video,n),(r=(a=h.video).deviceId)!==null&&r!==void 0||(a.deviceId={ideal:"default"}),(l||d)&&(h.video.processor=l??d)),h}function Vd(e,t){return Object.keys(t).forEach(n=>{e[n]===void 0&&(e[n]=t[n])}),e}function Wd(e){var t,n,i,r;const s={};if(e.video)if(typeof e.video=="object"){const a={},o=a,c=e.video;Object.keys(c).forEach(l=>{switch(l){case"resolution":Vd(o,c.resolution);break;default:o[l]=c[l]}}),s.video=a,(t=(i=s.video).deviceId)!==null&&t!==void 0||(i.deviceId={ideal:"default"})}else s.video=e.video?{deviceId:{ideal:"default"}}:!1;else s.video=!1;return e.audio?typeof e.audio=="object"?(s.audio=e.audio,(n=(r=s.audio).deviceId)!==null&&n!==void 0||(r.deviceId={ideal:"default"})):s.audio={deviceId:{ideal:"default"}}:s.audio=!1,s}function rb(e){return P(this,arguments,void 0,function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return(function*(){const i=sb();if(i){const r=i.createAnalyser();r.fftSize=2048;const s=r.frequencyBinCount,a=new Uint8Array(s);i.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(r),yield qt(n),r.getByteTimeDomainData(a);const c=a.some(l=>l!==128&&l!==0);return i.close(),!c}return!1})()})}function sb(){var e;const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(!((e=window.document)===null||e===void 0)&&e.body)){const i=()=>P(this,void 0,void 0,function*(){var r;try{n.state==="suspended"&&(yield n.resume())}catch(s){console.warn("Error trying to auto-resume audio context",s)}finally{(r=window.document.body)===null||r===void 0||r.removeEventListener("click",i)}});n.addEventListener("statechange",()=>{var r;n.state==="closed"&&((r=window.document.body)===null||r===void 0||r.removeEventListener("click",i))}),window.document.body.addEventListener("click",i)}return n}}function WP(e){return e==="audioinput"?Z.Source.Microphone:e==="videoinput"?Z.Source.Camera:Z.Source.Unknown}function Gd(e){return e===Z.Source.Microphone?"audioinput":e===Z.Source.Camera?"videoinput":void 0}function GP(e){var t,n;let i=(t=e.video)!==null&&t!==void 0?t:!0;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(i=typeof i=="boolean"?{}:i,qr()?i=Object.assign(Object.assign({},i),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):i=Object.assign(Object.assign({},i),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:(n=e.audio)!==null&&n!==void 0?n:!1,video:i,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio,preferCurrentTab:e.preferCurrentTab}}function Ua(e){return e.split("/")[1].toLowerCase()}function YP(e){const t=[];return e.forEach(n=>{n.track!==void 0&&t.push(new md({cid:n.track.mediaStreamID,track:n.trackInfo}))}),t}function Pe(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?Pe(e.track):{})}}function HP(){return typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver}function KP(e,t){var n;e===void 0&&(e={}),t===void 0&&(t={});const i=[...Object.keys(t),...Object.keys(e)],r={};for(const s of i)e[s]!==t[s]&&(r[s]=(n=t[s])!==null&&n!==void 0?n:"");return r}function ab(e){const t=Object.assign({},e);let n,i;return typeof t.audio=="object"&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),typeof t.video=="object"&&t.video.processor&&(i=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:i,optionsWithoutProcessor:vP(t)}}function JP(e){switch(e){case St.CAMERA:return Z.Source.Camera;case St.MICROPHONE:return Z.Source.Microphone;case St.SCREEN_SHARE:return Z.Source.ScreenShare;case St.SCREEN_SHARE_AUDIO:return Z.Source.ScreenShareAudio;default:return Z.Source.Unknown}}function ob(e,t){return e.width*e.height<t.width*t.height}function eA(e,t){var n;return(n=e.layers)===null||n===void 0?void 0:n.find(i=>i.quality===t)}class tA extends ii.EventEmitter{constructor(t,n){super(),this.decryptDataRequests=new Map,this.encryptDataRequests=new Map,this.onWorkerMessage=i=>{var r,s;const{kind:a,data:o}=i.data;switch(a){case"error":if(ye.error(o.error.message),o.uuid){const u=this.decryptDataRequests.get(o.uuid);if(u?.reject){u.reject(o.error);break}const d=this.encryptDataRequests.get(o.uuid);if(d?.reject){d.reject(o.error);break}}this.emit(sr.EncryptionError,o.error,o.participantIdentity);break;case"initAck":o.enabled&&this.keyProvider.getKeys().forEach(u=>{this.postKey(u)});break;case"enable":if(o.enabled&&this.keyProvider.getKeys().forEach(u=>{this.postKey(u)}),this.encryptionEnabled!==o.enabled&&o.participantIdentity===((r=this.room)===null||r===void 0?void 0:r.localParticipant.identity))this.emit(sr.ParticipantEncryptionStatusChanged,o.enabled,this.room.localParticipant),this.encryptionEnabled=o.enabled;else if(o.participantIdentity){const u=(s=this.room)===null||s===void 0?void 0:s.getParticipantByIdentity(o.participantIdentity);if(!u)throw TypeError("couldn't set encryption status, participant not found".concat(o.participantIdentity));this.emit(sr.ParticipantEncryptionStatusChanged,o.enabled,u)}break;case"ratchetKey":this.keyProvider.emit(rr.KeyRatcheted,o.ratchetResult,o.participantIdentity,o.keyIndex);break;case"decryptDataResponse":const c=this.decryptDataRequests.get(o.uuid);c?.resolve&&c.resolve(o);break;case"encryptDataResponse":const l=this.encryptDataRequests.get(o.uuid);l?.resolve&&l.resolve(o);break}},this.onWorkerError=i=>{ye.error("e2ee worker encountered an error:",{error:i.error}),this.emit(sr.EncryptionError,i.error,void 0)},this.keyProvider=t.keyProvider,this.worker=t.worker,this.encryptionEnabled=!1,this.dataChannelEncryptionEnabled=n}get isEnabled(){return this.encryptionEnabled}get isDataChannelEncryptionEnabled(){return this.isEnabled&&this.dataChannelEncryptionEnabled}setup(t){if(!fP())throw new Rd("tried to setup end-to-end encryption on an unsupported browser");if(ye.info("setting up e2ee"),t!==this.room){this.room=t,this.setupEventListeners(t,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:JC.getLevel()}};this.worker&&(ye.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(t,n){ye.debug("set e2ee to ".concat(t," for participant ").concat(n)),this.postEnable(t,n)}setSifTrailer(t){!t||t.length===0?ye.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(t)}setupEngine(t){t.on(te.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(t,n){t.on(G.TrackPublished,(i,r)=>this.setParticipantCryptorEnabled(i.trackInfo.encryption!==Pt.NONE,r.identity)),t.on(G.ConnectionStateChanged,i=>{i===Be.Connected&&t.remoteParticipants.forEach(r=>{r.trackPublications.forEach(s=>{this.setParticipantCryptorEnabled(s.trackInfo.encryption!==Pt.NONE,r.identity)})})}).on(G.TrackUnsubscribed,(i,r,s)=>{var a;const o={kind:"removeTransform",data:{participantIdentity:s.identity,trackId:i.mediaStreamID}};(a=this.worker)===null||a===void 0||a.postMessage(o)}).on(G.TrackSubscribed,(i,r,s)=>{this.setupE2EEReceiver(i,s.identity,r.trackInfo)}).on(G.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(i=>{this.postKey(i)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),t.localParticipant.on(ie.LocalSenderCreated,(i,r)=>P(this,void 0,void 0,function*(){this.setupE2EESender(r,i)})),t.localParticipant.on(ie.LocalTrackPublished,i=>{if(!or(i.track)||!Ma())return;const r={kind:"updateCodec",data:{trackId:i.track.mediaStreamID,codec:Ua(i.trackInfo.codecs[0].mimeType),participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}),n.on(rr.SetKey,i=>this.postKey(i)).on(rr.RatchetRequest,(i,r)=>this.postRatchetRequest(i,r))}encryptData(t){return P(this,void 0,void 0,function*(){if(!this.worker)throw Error("could not encrypt data, worker is missing");const n=crypto.randomUUID(),i={kind:"encryptDataRequest",data:{uuid:n,payload:t,participantIdentity:this.room.localParticipant.identity}},r=new In;return r.onFinally=()=>{this.encryptDataRequests.delete(n)},this.encryptDataRequests.set(n,r),this.worker.postMessage(i),r.promise})}handleEncryptedData(t,n,i,r){if(!this.worker)throw Error("could not handle encrypted data, worker is missing");const s=crypto.randomUUID(),a={kind:"decryptDataRequest",data:{uuid:s,payload:t,iv:n,participantIdentity:i,keyIndex:r}},o=new In;return o.onFinally=()=>{this.decryptDataRequests.delete(s)},this.decryptDataRequests.set(s,o),this.worker.postMessage(a),o.promise}postRatchetRequest(t,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const i={kind:"ratchetRequest",data:{participantIdentity:t,keyIndex:n}};this.worker.postMessage(i)}postKey(t){let{key:n,participantIdentity:i,keyIndex:r}=t;var s;if(!this.worker)throw Error("could not set key, worker is missing");const a={kind:"setKey",data:{participantIdentity:i,isPublisher:i===((s=this.room)===null||s===void 0?void 0:s.localParticipant.identity),key:n,keyIndex:r}};this.worker.postMessage(a)}postEnable(t,n){if(this.worker){const i={kind:"enable",data:{enabled:t,participantIdentity:n}};this.worker.postMessage(i)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(t){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const i={kind:"setRTPMap",data:{map:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(i)}postSifTrailer(t){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:t}};this.worker.postMessage(n)}setupE2EEReceiver(t,n,i){if(t.receiver){if(!i?.mimeType||i.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(t.receiver,t.mediaStreamID,n,t.kind==="video"?Ua(i.mimeType):void 0)}}setupE2EESender(t,n){if(!Cs(t)||!n){n||ye.warn("early return because sender is not ready");return}this.handleSender(n,t.mediaStreamID,void 0)}handleReceiver(t,n,i,r){return P(this,void 0,void 0,function*(){if(this.worker){if(Ad()&&!Wv()){const s={kind:"decode",participantIdentity:i,trackId:n,codec:r};t.transform=new RTCRtpScriptTransform(this.worker,s)}else{if(Qa in t&&r){const c={kind:"updateCodec",data:{trackId:n,codec:r,participantIdentity:i}};this.worker.postMessage(c);return}let s=t.writableStream,a=t.readableStream;if(!s||!a){const c=t.createEncodedStreams();t.writableStream=c.writable,s=c.writable,t.readableStream=c.readable,a=c.readable}const o={kind:"decode",data:{readableStream:a,writableStream:s,trackId:n,codec:r,participantIdentity:i,isReuse:Qa in t}};this.worker.postMessage(o,[a,s])}t[Qa]=!0}})}handleSender(t,n,i){var r;if(!(Qa in t||!this.worker)){if(!(!((r=this.room)===null||r===void 0)&&r.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(Ad()&&!Wv()){ye.info("initialize script transform");const s={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:i};t.transform=new RTCRtpScriptTransform(this.worker,s)}else{ye.info("initialize encoded streams");const s=t.createEncodedStreams(),a={kind:"encode",data:{readableStream:s.readable,writableStream:s.writable,codec:i,trackId:n,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(a,[s.readable,s.writable])}t[Qa]=!0}}}const nA=500,iA=15e3;class Ps{constructor(){this.failedConnectionAttempts=new Map,this.backOffPromises=new Map}static getInstance(){return this._instance||(this._instance=new Ps),this._instance}addFailedConnectionAttempt(t){var n;const i=new URL(t),r=Xd(i);if(!r)return;let s=(n=this.failedConnectionAttempts.get(r))!==null&&n!==void 0?n:0;this.failedConnectionAttempts.set(r,s+1),this.backOffPromises.set(r,qt(Math.min(nA*Math.pow(2,s),iA)))}getBackOffPromise(t){const n=new URL(t),i=n&&Xd(n);return i&&this.backOffPromises.get(i)||Promise.resolve()}resetFailedConnectionAttempts(t){const n=new URL(t),i=n&&Xd(n);i&&(this.failedConnectionAttempts.set(i,0),this.backOffPromises.set(i,Promise.resolve()))}resetAll(){this.backOffPromises.clear(),this.failedConnectionAttempts.clear()}}Ps._instance=null;const Yd="default";class Dt{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new Dt),this.instance}get previousDevices(){return this._previousDevices}getDevices(t){return P(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(function*(){var s;if(((s=Dt.userMediaPromiseMap)===null||s===void 0?void 0:s.size)>0){ye.debug("awaiting getUserMedia promise");try{n?yield Dt.userMediaPromiseMap.get(n):yield Promise.all(Dt.userMediaPromiseMap.values())}catch{ye.warn("error waiting for media permissons")}}let a=yield navigator.mediaDevices.enumerateDevices();if(r&&!(qr()&&i.hasDeviceInUse(n))&&(a.filter(c=>c.kind===n).length===0||a.some(c=>{const l=c.label==="",u=n?c.kind===n:!0;return l&&u}))){const c={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},l=yield navigator.mediaDevices.getUserMedia(c);a=yield navigator.mediaDevices.enumerateDevices(),l.getTracks().forEach(u=>{u.stop()})}return i._previousDevices=a,n&&(a=a.filter(o=>o.kind===n)),a})()})}normalizeDeviceId(t,n,i){return P(this,void 0,void 0,function*(){if(n!==Yd)return n;const r=yield this.getDevices(t),s=r.find(o=>o.deviceId===Yd);if(!s){ye.warn("could not reliably determine default device");return}const a=r.find(o=>o.deviceId!==Yd&&o.groupId===(i??s.groupId));if(!a){ye.warn("could not reliably determine default device");return}return a?.deviceId})}hasDeviceInUse(t){return t?Dt.userMediaPromiseMap.has(t):Dt.userMediaPromiseMap.size>0}}Dt.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],Dt.userMediaPromiseMap=new Map;var qa;(function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"})(qa||(qa={}));class rA{constructor(){this.pendingTasks=new Map,this.taskMutex=new Ht,this.nextTaskIndex=0}run(t){return P(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:qa.WAITING};this.pendingTasks.set(n.id,n);const i=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=qa.RUNNING,yield t()}finally{n.status=qa.COMPLETED,this.pendingTasks.delete(n.id),i()}})}flush(){return P(this,void 0,void 0,function*(){return this.run(()=>P(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}class sA{get readyState(){return this.ws.readyState}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var i,r;if(!((i=n.signal)===null||i===void 0)&&i.aborted)throw new DOMException("This operation was aborted","AbortError");this.url=t;const s=new WebSocket(t,(r=n.protocols)!==null&&r!==void 0?r:[]);s.binaryType="arraybuffer",this.ws=s;const a=function(){let{closeCode:o,reason:c}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return s.close(o,c)};this.opened=new Promise((o,c)=>{s.onopen=()=>{o({readable:new ReadableStream({start(l){s.onmessage=u=>{let{data:d}=u;return l.enqueue(d)},s.onerror=u=>l.error(u)},cancel:a}),writable:new WritableStream({write(l){s.send(l)},abort(){s.close()},close:a}),protocol:s.protocol,extensions:s.extensions}),s.removeEventListener("error",c)},s.addEventListener("error",c)}),this.closed=new Promise((o,c)=>{const l=()=>P(this,void 0,void 0,function*(){const u=new Promise(h=>{s.readyState!==WebSocket.CLOSED&&s.addEventListener("close",p=>{h(p)},{once:!0})}),d=yield Promise.race([qt(250),u]);d?o(d):c(new Error("Encountered unspecified websocket error without a timely close event"))});s.onclose=u=>{let{code:d,reason:h}=u;o({closeCode:d,reason:h}),s.removeEventListener("error",l)},s.addEventListener("error",l)}),n.signal&&(n.signal.onabort=()=>s.close()),this.close=a}}function aA(e,t){const n=new URL(XP(e));return t.forEach((i,r)=>{n.searchParams.set(r,i)}),cb(n,"rtc")}function oA(e){const t=new URL($a(e));return cb(t,"validate")}function cA(e){return e.endsWith("/")?e:"".concat(e,"/")}function cb(e,t){return e.pathname="".concat(cA(e.pathname)).concat(t),e.toString()}function lb(e){if(typeof e=="string")return Fg.fromJson(JSON.parse(e),{ignoreUnknownFields:!0});if(e instanceof ArrayBuffer)return Fg.fromBinary(new Uint8Array(e));throw new Error("could not decode websocket message: ".concat(typeof e))}function lA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Unknown reason";if(!(e instanceof AbortSignal))return t;const n=e.reason;switch(typeof n){case"string":return n;case"object":return n instanceof Error?n.message:t;default:return"toString"in n?n.toString():t}}const uA=["syncState","trickle","offer","answer","simulate","leave"];function dA(e){const t=uA.indexOf(e.case)>=0;return ye.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}var tt;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"})(tt||(tt={}));const hA=250;class Hd{get currentState(){return this.state}get isDisconnected(){return this.state===tt.DISCONNECTING||this.state===tt.DISCONNECTED}get isEstablishingConnection(){return this.state===tt.CONNECTING||this.state===tt.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var i;this.rtt=0,this.state=tt.DISCONNECTED,this.log=ye,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0,this.onMediaSectionsRequirement=void 0},this.log=Ci((i=n.loggerName)!==null&&i!==void 0?i:Fn.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=t,this.requestQueue=new rA,this.queuedRequests=[],this.closingLock=new Ht,this.connectionLock=new Ht,this.state=tt.DISCONNECTED}get logContext(){var t,n;return(n=(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this))!==null&&n!==void 0?n:{}}join(t,n,i,r){return P(this,void 0,void 0,function*(){return this.state=tt.CONNECTING,this.options=i,yield this.connect(t,n,i,r)})}reconnect(t,n,i,r){return P(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=tt.RECONNECTING,this.clearPingInterval(),yield this.connect(t,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:i,reconnectReason:r}))})}connect(t,n,i,r){return P(this,void 0,void 0,function*(){const s=yield this.connectionLock.lock();this.connectOptions=i;const a=UP(),o=i.singlePeerConnection?fA(n,a,i):pA(n,a,i),c=aA(t,o),l=oA(c);return new Promise((u,d)=>P(this,void 0,void 0,function*(){var h,p;try{let m=!1;const O=k=>P(this,void 0,void 0,function*(){if(m)return;m=!0;const y=k instanceof Event?k.currentTarget:k,_=lA(y,"Abort handler called");this.streamWriter&&!this.isDisconnected?this.sendLeave().then(()=>this.close(_)).catch(x=>{this.log.error(x),this.close()}):this.close(),b(),d(y instanceof AbortSignal?y.reason:y)});r?.addEventListener("abort",O);const b=()=>{clearTimeout(v),r?.removeEventListener("abort",O)},v=setTimeout(()=>{O(new Qe("room connection has timed out (signal)",ve.ServerUnreachable))},i.websocketTimeout),T=(k,y)=>{this.handleSignalConnected(k,v,y)},S=new URL(c);S.searchParams.has("access_token")&&S.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(S),Object.assign({reconnect:i.reconnect,reconnectReason:i.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new sA(c);try{this.ws.closed.then(E=>{var M;this.isEstablishingConnection&&d(new Qe("Websocket got closed during a (re)connection attempt: ".concat(E.reason),ve.InternalError)),E.closeCode!==1e3&&(this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:E.reason,code:E.closeCode,wasClean:E.closeCode===1e3,state:this.state})),this.state===tt.CONNECTED&&this.handleOnClose((M=E.reason)!==null&&M!==void 0?M:"Unexpected WS error"))}).catch(E=>{this.isEstablishingConnection&&d(new Qe("Websocket error during a (re)connection attempt: ".concat(E),ve.InternalError))});const k=yield this.ws.opened.catch(E=>P(this,void 0,void 0,function*(){if(this.state!==tt.CONNECTED){this.state=tt.DISCONNECTED,clearTimeout(v);const M=yield this.handleConnectionError(E,l);d(M);return}this.handleWSError(E),d(E)}));if(clearTimeout(v),!k)return;const y=k.readable.getReader();this.streamWriter=k.writable.getWriter();const _=yield y.read();if(y.releaseLock(),!_.value)throw new Qe("no message received as first message",ve.InternalError);const x=lb(_.value),N=this.validateFirstMessage(x,(h=i.reconnect)!==null&&h!==void 0?h:!1);if(!N.isValid){d(N.error);return}((p=x.message)===null||p===void 0?void 0:p.case)==="join"&&(this.pingTimeoutDuration=x.message.value.pingTimeout,this.pingIntervalDuration=x.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})));const D=N.shouldProcessFirstMessage?x:void 0;T(k,D),u(N.response)}catch(k){d(k)}finally{b()}}finally{s()}}))})}startReadingLoop(t,n){return P(this,void 0,void 0,function*(){for(n&&this.handleSignalResponse(n);;){this.signalLatency&&(yield qt(this.signalLatency));const{done:i,value:r}=yield t.read();if(i)break;const s=lb(r);this.handleSignalResponse(s)}})}close(){return P(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Close method called on signal client";return(function*(){if([tt.DISCONNECTING||tt.DISCONNECTED].includes(t.state)){t.log.debug("ignoring signal close as it's already in disconnecting state");return}const r=yield t.closingLock.lock();try{if(t.clearPingInterval(),n&&(t.state=tt.DISCONNECTING),t.ws){t.ws.close({closeCode:1e3,reason:i});const s=t.ws.closed;t.ws=void 0,t.streamWriter=void 0,yield Promise.race([s,qt(hA)])}}catch(s){t.log.debug("websocket error while closing",Object.assign(Object.assign({},t.logContext),{error:s}))}finally{n&&(t.state=tt.DISCONNECTED),r()}})()})}sendOffer(t,n){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:t.sdp})),this.sendRequest({case:"offer",value:As(t,n)})}sendAnswer(t,n){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:t.sdp})),this.sendRequest({case:"answer",value:As(t,n)})}sendIceCandidate(t,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:t})),this.sendRequest({case:"trickle",value:new _c({candidateInit:JSON.stringify(t),target:n})})}sendMuteTrack(t,n){return this.sendRequest({case:"mute",value:new wc({sid:t,muted:n})})}sendAddTrack(t){return this.sendRequest({case:"addTrack",value:t})}sendUpdateLocalMetadata(t,n){return P(this,arguments,void 0,function(i,r){var s=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(function*(){const o=s.getNextRequestId();return yield s.sendRequest({case:"updateMetadata",value:new gd({requestId:o,metadata:i,name:r,attributes:a})}),o})()})}sendUpdateTrackSettings(t){this.sendRequest({case:"trackSetting",value:t})}sendUpdateSubscription(t){return this.sendRequest({case:"subscription",value:t})}sendSyncState(t){return this.sendRequest({case:"syncState",value:t})}sendUpdateVideoLayers(t,n){return this.sendRequest({case:"updateLayers",value:new Zg({trackSid:t,layers:n})})}sendUpdateSubscriptionPermissions(t,n){return this.sendRequest({case:"subscriptionPermission",value:new Wg({allParticipants:t,trackPermissions:n})})}sendSimulateScenario(t){return this.sendRequest({case:"simulate",value:t})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:ut.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new Hg({timestamp:ut.parse(Date.now()),rtt:ut.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(t,n){return this.sendRequest({case:"updateAudioTrack",value:new Od({trackSid:t,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new xc({reason:qn.CLIENT_INITIATED,action:_s.DISCONNECT})})}sendRequest(t){return P(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(function*(){if(!r&&!dA(n)&&i.state===tt.RECONNECTING){i.queuedRequests.push(()=>P(i,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));return}if(r||(yield i.requestQueue.flush()),i.signalLatency&&(yield qt(i.signalLatency)),i.isDisconnected){i.log.debug("skipping signal request (type: ".concat(n.case,") - SignalClient disconnected"));return}if(!i.streamWriter){i.log.error("cannot send signal request before connected, type: ".concat(n?.case),i.logContext);return}const a=new _C({message:n});try{i.useJSON?yield i.streamWriter.write(a.toJsonString()):yield i.streamWriter.write(a.toBinary())}catch(o){i.log.error("error sending signal message",Object.assign(Object.assign({},i.logContext),{error:o}))}})()})}handleSignalResponse(t){var n,i;const r=t.message;if(r==null){this.log.debug("received unsupported message",this.logContext);return}let s=!1;if(r.case==="answer"){const a=ub(r.value);this.onAnswer&&this.onAnswer(a,r.value.id,r.value.midToTrackId)}else if(r.case==="offer"){const a=ub(r.value);this.onOffer&&this.onOffer(a,r.value.id,r.value.midToTrackId)}else if(r.case==="trickle"){const a=JSON.parse(r.value.candidateInit);this.onTrickle&&this.onTrickle(a,r.value.target)}else r.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=r.value.participants)!==null&&n!==void 0?n:[]):r.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(r.value):r.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((i=r.value.speakers)!==null&&i!==void 0?i:[]):r.case==="leave"?this.onLeave&&this.onLeave(r.value):r.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(r.value.sid,r.value.muted):r.case==="roomUpdate"?this.onRoomUpdate&&r.value.room&&this.onRoomUpdate(r.value.room):r.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(r.value):r.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(r.value):r.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(r.value):r.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(r.value):r.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(r.value):r.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(r.value):r.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(r.value):r.case==="pong"||(r.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(r.value.lastPingTimestamp.toString()),this.resetPingTimeout(),s=!0):r.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(r.value):r.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(r.value.trackSid):r.case==="roomMoved"?(this.onTokenRefresh&&this.onTokenRefresh(r.value.token),this.onRoomMoved&&this.onRoomMoved(r.value)):r.case==="mediaSectionsRequirement"?this.onMediaSectionsRequirement&&this.onMediaSectionsRequirement(r.value):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:r.case})));s||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const t=this.queuedRequests.shift();t&&this.requestQueue.run(t)}}handleOnClose(t){return P(this,void 0,void 0,function*(){if(this.state===tt.DISCONNECTED)return;const n=this.onClose;yield this.close(void 0,t),this.log.debug("websocket connection closed: ".concat(t),Object.assign(Object.assign({},this.logContext),{reason:t})),n&&n(t)})}handleWSError(t){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:t}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=Ut.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&Ut.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=Ut.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&Ut.clearInterval(this.pingInterval)}handleSignalConnected(t,n,i){this.state=tt.CONNECTED,clearTimeout(n),this.startPingInterval(),this.startReadingLoop(t.readable.getReader(),i)}validateFirstMessage(t,n){var i,r,s,a,o;return((i=t.message)===null||i===void 0?void 0:i.case)==="join"?{isValid:!0,response:t.message.value}:this.state===tt.RECONNECTING&&((r=t.message)===null||r===void 0?void 0:r.case)!=="leave"?((s=t.message)===null||s===void 0?void 0:s.case)==="reconnect"?{isValid:!0,response:t.message.value}:(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),{isValid:!0,response:void 0,shouldProcessFirstMessage:!0}):this.isEstablishingConnection&&((a=t.message)===null||a===void 0?void 0:a.case)==="leave"?{isValid:!1,error:new Qe("Received leave request while trying to (re)connect",ve.LeaveRequest,void 0,t.message.value.reason)}:n?{isValid:!1,error:new Qe("Unexpected first message",ve.InternalError)}:{isValid:!1,error:new Qe("did not receive join response, got ".concat((o=t.message)===null||o===void 0?void 0:o.case," instead"),ve.InternalError)}}handleConnectionError(t,n){return P(this,void 0,void 0,function*(){try{const i=yield fetch(n);if(i.status.toFixed(0).startsWith("4")){const r=yield i.text();return new Qe(r,ve.NotAllowed,i.status)}else return t instanceof Qe?t:new Qe("Encountered unknown websocket error during connection: ".concat(t),ve.InternalError,i.status)}catch(i){return i instanceof Qe?i:new Qe(i instanceof Error?i.message:"server was not reachable",ve.ServerUnreachable)}})}}function ub(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type;break}return t}function As(e,t){return new ir({sdp:e.sdp,type:e.type,id:t})}function pA(e,t,n){var i;const r=new URLSearchParams;return r.set("access_token",e),n.reconnect&&(r.set("reconnect","1"),n.sid&&r.set("sid",n.sid)),r.set("auto_subscribe",n.autoSubscribe?"1":"0"),r.set("sdk",ri()?"reactnative":"js"),r.set("version",t.version),r.set("protocol",t.protocol.toString()),t.deviceModel&&r.set("device_model",t.deviceModel),t.os&&r.set("os",t.os),t.osVersion&&r.set("os_version",t.osVersion),t.browser&&r.set("browser",t.browser),t.browserVersion&&r.set("browser_version",t.browserVersion),n.adaptiveStream&&r.set("adaptive_stream","1"),n.reconnectReason&&r.set("reconnect_reason",n.reconnectReason.toString()),!((i=navigator.connection)===null||i===void 0)&&i.type&&r.set("network",navigator.connection.type),r}function fA(e,t,n){const i=new URLSearchParams;i.set("access_token",e);const r=new jC({clientInfo:t,connectionSettings:new Kg({autoSubscribe:!!n.autoSubscribe,adaptiveStream:!!n.adaptiveStream}),reconnect:!!n.reconnect,participantSid:n.sid?n.sid:void 0});n.reconnectReason&&(r.reconnectReason=n.reconnectReason);const s=new VC({joinRequest:r.toBinary()});return i.set("join_request",btoa(new TextDecoder("utf-8").decode(s.toBinary()))),i}class db{constructor(){this.buffer=[],this._totalSize=0}push(t){this.buffer.push(t),this._totalSize+=t.data.byteLength}pop(){const t=this.buffer.shift();return t&&(this._totalSize-=t.data.byteLength),t}getAll(){return this.buffer.slice()}popToSequence(t){for(;this.buffer.length>0&&this.buffer[0].sequence<=t;)this.pop()}alignBufferedAmount(t){for(;this.buffer.length>0;){const n=this.buffer[0];if(this._totalSize-n.data.byteLength<=t)break;this.pop()}}get length(){return this.buffer.length}}class mA{constructor(t){this._map=new Map,this._lastCleanup=0,this.ttl=t}set(t,n){const i=Date.now();i-this._lastCleanup>this.ttl/2&&this.cleanup();const r=i+this.ttl;return this._map.set(t,{value:n,expiresAt:r}),this}get(t){const n=this._map.get(t);if(n){if(n.expiresAt<Date.now()){this._map.delete(t);return}return n.value}}has(t){const n=this._map.get(t);return n?n.expiresAt<Date.now()?(this._map.delete(t),!1):!0:!1}delete(t){return this._map.delete(t)}clear(){this._map.clear()}cleanup(){const t=Date.now();for(const[n,i]of this._map.entries())i.expiresAt<t&&this._map.delete(n);this._lastCleanup=t}get size(){return this.cleanup(),this._map.size}forEach(t){this.cleanup();for(const[n,i]of this._map.entries())i.expiresAt>=Date.now()&&t(i.value,n,this.asValueMap())}map(t){this.cleanup();const n=[],i=this.asValueMap();for(const[r,s]of i.entries())n.push(t(s,r,i));return n}asValueMap(){const t=new Map;for(const[n,i]of this._map.entries())i.expiresAt>=Date.now()&&t.set(n,i.value);return t}}var zn={},Kd={},Jd={exports:{}},hb;function eh(){if(hb)return Jd.exports;hb=1;var e=Jd.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=t.raddr!=null?" raddr %s rport %d":"%v%v",n+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(n+=" generation %d"),n+=t["network-id"]!=null?" network-id %d":"%v",n+=t["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return t.attribute!=null&&(n+=" %s",t.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=t.id!=null?"id=%s %s":"%v%s",n+=t.mediaClockValue!=null?"=%s":"",n+=t.rateNumerator!=null?" rate=%s":"",n+=t.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var n=e[t];n.forEach(function(i){i.reg||(i.reg=/(.*)/),i.format||(i.format="%s")})}),Jd.exports}var pb;function OA(){return pb||(pb=1,(function(e){var t=function(o){return String(Number(o))===o?Number(o):o},n=function(o,c,l,u){if(u&&!l)c[u]=t(o[1]);else for(var d=0;d<l.length;d+=1)o[d+1]!=null&&(c[l[d]]=t(o[d+1]))},i=function(o,c,l){var u=o.name&&o.names;o.push&&!c[o.push]?c[o.push]=[]:u&&!c[o.name]&&(c[o.name]={});var d=o.push?{}:u?c[o.name]:c;n(l.match(o.reg),d,o.names,o.name),o.push&&c[o.push].push(d)},r=eh(),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(o){var c={},l=[],u=c;return o.split(/(\r\n|\r|\n)/).filter(s).forEach(function(d){var h=d[0],p=d.slice(2);h==="m"&&(l.push({rtp:[],fmtp:[]}),u=l[l.length-1]);for(var m=0;m<(r[h]||[]).length;m+=1){var O=r[h][m];if(O.reg.test(p))return i(O,u,p)}}),c.media=l,c};var a=function(o,c){var l=c.split(/=(.+)/,2);return l.length===2?o[l[0]]=t(l[1]):l.length===1&&c.length>1&&(o[l[0]]=void 0),o};e.parseParams=function(o){return o.split(/;\s?/).reduce(a,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(o){return o.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(o){for(var c=[],l=o.split(" ").map(t),u=0;u<l.length;u+=3)c.push({component:l[u],ip:l[u+1],port:l[u+2]});return c},e.parseImageAttributes=function(o){return o.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(a,{})})},e.parseSimulcastStreamList=function(o){return o.split(";").map(function(c){return c.split(",").map(function(l){var u,d=!1;return l[0]!=="~"?u=t(l):(u=t(l.substring(1,l.length)),d=!0),{scid:u,paused:d}})})}})(Kd)),Kd}var th,fb;function gA(){if(fb)return th;fb=1;var e=eh(),t=/%[sdv%]/g,n=function(a){var o=1,c=arguments,l=c.length;return a.replace(t,function(u){if(o>=l)return u;var d=c[o];switch(o+=1,u){case"%%":return"%";case"%s":return String(d);case"%d":return Number(d);case"%v":return""}})},i=function(a,o,c){var l=o.format instanceof Function?o.format(o.push?c:c[o.name]):o.format,u=[a+"="+l];if(o.names)for(var d=0;d<o.names.length;d+=1){var h=o.names[d];o.name?u.push(c[o.name][h]):u.push(c[o.names[d]])}else u.push(c[o.name]);return n.apply(null,u)},r=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];return th=function(a,o){o=o||{},a.version==null&&(a.version=0),a.name==null&&(a.name=" "),a.media.forEach(function(d){d.payloads==null&&(d.payloads="")});var c=o.outerOrder||r,l=o.innerOrder||s,u=[];return c.forEach(function(d){e[d].forEach(function(h){h.name in a&&a[h.name]!=null?u.push(i(d,h,a)):h.push in a&&a[h.push]!=null&&a[h.push].forEach(function(p){u.push(i(d,h,p))})})}),a.media.forEach(function(d){u.push(i("m",e.m[0],d)),l.forEach(function(h){e[h].forEach(function(p){p.name in d&&d[p.name]!=null?u.push(i(h,p,d)):p.push in d&&d[p.push]!=null&&d[p.push].forEach(function(m){u.push(i(h,p,m))})})})}),u.join(`\r
`)+`\r
`},th}var mb;function vA(){if(mb)return zn;mb=1;var e=OA(),t=gA(),n=eh();return zn.grammar=n,zn.write=t,zn.parse=e.parse,zn.parseParams=e.parseParams,zn.parseFmtpConfig=e.parseFmtpConfig,zn.parsePayloads=e.parsePayloads,zn.parseRemoteCandidates=e.parseRemoteCandidates,zn.parseImageAttributes=e.parseImageAttributes,zn.parseSimulcastStreamList=e.parseSimulcastStreamList,zn}var lr=vA();function nh(e,t,n){var i,r,s;t===void 0&&(t=50),n===void 0&&(n={});var a=(i=n.isImmediate)!=null&&i,o=(r=n.callback)!=null&&r,c=n.maxWait,l=Date.now(),u=[];function d(){if(c!==void 0){var p=Date.now()-l;if(p+t>=c)return c-p}return t}var h=function(){var p=[].slice.call(arguments),m=this;return new Promise(function(O,b){var v=a&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,l=Date.now(),!a){var S=e.apply(m,p);o&&o(S),u.forEach(function(k){return(0,k.resolve)(S)}),u=[]}},d()),v){var T=e.apply(m,p);return o&&o(T),O(T)}u.push({resolve:O,reject:b})})};return h.cancel=function(p){s!==void 0&&clearTimeout(s),u.forEach(function(m){return(0,m.reject)(p)}),u=[]},h}const bA=.7,TA=20,Rs={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class Ob extends ii.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var i;super(),this.log=ye,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=nh(r=>P(this,void 0,void 0,function*(){this.emit(Rs.NegotiationStarted);try{yield this.createAndSendOffer()}catch(s){if(r)r(s);else throw s}}),TA),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=Ci((i=n.loggerName)!==null&&i!==void 0?i:Fn.PCTransport),this.loggerOptions=n,this.config=t,this._pc=this.createPC(),this.offerLock=new Ht}createPC(){const t=new RTCPeerConnection(this.config);return t.onicecandidate=n=>{var i;n.candidate&&((i=this.onIceCandidate)===null||i===void 0||i.call(this,n.candidate))},t.onicecandidateerror=n=>{var i;(i=this.onIceCandidateError)===null||i===void 0||i.call(this,n)},t.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,t.iceConnectionState)},t.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,t.signalingState)},t.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,t.connectionState)},t.ondatachannel=n=>{var i;(i=this.onDataChannel)===null||i===void 0||i.call(this,n)},t.ontrack=n=>{var i;(i=this.onTrack)===null||i===void 0||i.call(this,n)},t}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(t){return P(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(t);this.pendingCandidates.push(t)})}setRemoteDescription(t,n){return P(this,void 0,void 0,function*(){var i;if(t.type==="answer"&&this.latestOfferId>0&&n>0&&n!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:n,latestOfferId:this.latestOfferId})),!1;let r;if(t.type==="offer"){let{stereoMids:s,nackMids:a}=kA(t);this.remoteStereoMids=s,this.remoteNackMids=a}else if(t.type==="answer"){const s=lr.parse((i=t.sdp)!==null&&i!==void 0?i:"");s.media.forEach(a=>{const o=ih(a.mid);a.type==="audio"&&this.trackBitrates.some(c=>{if(!c.transceiver||o!=c.transceiver.mid)return!1;let l=0;if(a.rtp.some(d=>d.codec.toUpperCase()===c.codec.toUpperCase()?(l=d.payload,!0):!1),l===0)return!0;let u=!1;for(const d of a.fmtp)if(d.payload===l){d.config=d.config.split(";").filter(h=>!h.includes("maxaveragebitrate")).join(";"),c.maxbr>0&&(d.config+=";maxaveragebitrate=".concat(c.maxbr*1e3)),u=!0;break}return u||c.maxbr>0&&a.fmtp.push({payload:l,config:"maxaveragebitrate=".concat(c.maxbr*1e3)}),!0})}),r=lr.write(s)}return yield this.setMungedSDP(t,r,!0),this.pendingCandidates.forEach(s=>{this.pc.addIceCandidate(s)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):t.type==="answer"&&(this.emit(Rs.NegotiationComplete),t.sdp&&lr.parse(t.sdp).media.forEach(a=>{a.type==="video"&&this.emit(Rs.RTPVideoPayloadTypes,a.rtp)})),!0})}createAndSendOffer(t){return P(this,void 0,void 0,function*(){var n;const i=yield this.offerLock.lock();try{if(this.onOffer===void 0)return;if(t?.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const o=this._pc.remoteDescription;if(t?.iceRestart&&o)yield this._pc.setRemoteDescription(o);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);const r=this.latestOfferId+1;this.latestOfferId=r;const s=yield this.pc.createOffer(t);this.log.debug("original offer",Object.assign({sdp:s.sdp},this.logContext));const a=lr.parse((n=s.sdp)!==null&&n!==void 0?n:"");if(a.media.forEach(o=>{vb(o),o.type==="audio"?gb(o,["all"],[]):o.type==="video"&&this.trackBitrates.some(c=>{if(!o.msid||!c.cid||!o.msid.includes(c.cid))return!1;let l=0;if(o.rtp.some(d=>d.codec.toUpperCase()===c.codec.toUpperCase()?(l=d.payload,!0):!1),l===0||(Bn(c.codec)&&!qr()&&this.ensureVideoDDExtensionForSVC(o,a),!Bn(c.codec)))return!0;const u=Math.round(c.maxbr*bA);for(const d of o.fmtp)if(d.payload===l){d.config.includes("x-google-start-bitrate")||(d.config+=";x-google-start-bitrate=".concat(u));break}return!0})}),this.latestOfferId>r){this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:r}));return}yield this.setMungedSDP(s,lr.write(a)),this.onOffer(s,this.latestOfferId)}finally{i()}})}createAndSetAnswer(){return P(this,void 0,void 0,function*(){var t;const n=yield this.pc.createAnswer(),i=lr.parse((t=n.sdp)!==null&&t!==void 0?t:"");return i.media.forEach(r=>{vb(r),r.type==="audio"&&gb(r,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,lr.write(i)),n})}createDataChannel(t,n){return this.pc.createDataChannel(t,n)}addTransceiver(t,n){return this.pc.addTransceiver(t,n)}addTransceiverOfKind(t,n){return this.pc.addTransceiver(t,n)}addTrack(t){if(!this._pc)throw new At("PC closed, cannot add track");return this._pc.addTrack(t)}setTrackCodecBitrate(t){this.trackBitrates.push(t)}setConfiguration(t){var n;if(!this._pc)throw new At("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(t)}canRemoveTrack(){var t;return!!(!((t=this._pc)===null||t===void 0)&&t.removeTrack)}removeTrack(t){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(t)}getConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var t;return(t=this._pc)===null||t===void 0?void 0:t.localDescription}getRemoteDescription(){var t;return(t=this.pc)===null||t===void 0?void 0:t.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return P(this,void 0,void 0,function*(){var t;if(!this._pc)return;let n="";const i=new Map,r=new Map;if((yield this._pc.getStats()).forEach(o=>{switch(o.type){case"transport":n=o.selectedCandidatePairId;break;case"candidate-pair":n===""&&o.selected&&(n=o.id),i.set(o.id,o);break;case"remote-candidate":r.set(o.id,"".concat(o.address,":").concat(o.port));break}}),n==="")return;const a=(t=i.get(n))===null||t===void 0?void 0:t.remoteCandidateId;if(a!==void 0)return r.get(a)})}setMungedSDP(t,n,i){return P(this,void 0,void 0,function*(){if(n){const r=t.sdp;t.sdp=n;try{this.log.debug("setting munged ".concat(i?"remote":"local"," description"),this.logContext),i?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t);return}catch(s){this.log.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:s,sdp:n})),t.sdp=r}}try{i?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t)}catch(r){let s="unknown error";r instanceof Error?s=r.message:typeof r=="string"&&(s=r);const a={error:s,sdp:t.sdp};throw!i&&this.pc.remoteDescription&&(a.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(t.type),Object.assign(Object.assign({},this.logContext),{fields:a})),new Id(s)}})}ensureVideoDDExtensionForSVC(t,n){var i,r;if(!((i=t.ext)===null||i===void 0?void 0:i.some(a=>a.uri===Vv))){if(this.ddExtID===0){let a=0;n.media.forEach(o=>{var c;o.type==="video"&&((c=o.ext)===null||c===void 0||c.forEach(l=>{l.value>a&&(a=l.value)}))}),this.ddExtID=a+1}(r=t.ext)===null||r===void 0||r.push({value:this.ddExtID,uri:Vv})}}}function gb(e,t,n){const i=ih(e.mid);let r=0;e.rtp.some(s=>s.codec==="opus"?(r=s.payload,!0):!1),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(i)&&!e.rtcpFb.some(s=>s.payload===r&&s.type==="nack")&&e.rtcpFb.push({payload:r,type:"nack"}),(t.includes(i)||t.length===1&&t[0]==="all")&&e.fmtp.some(s=>s.payload===r?(s.config.includes("stereo=1")||(s.config+=";stereo=1"),!0):!1))}function kA(e){var t;const n=[],i=[],r=lr.parse((t=e.sdp)!==null&&t!==void 0?t:"");let s=0;return r.media.forEach(a=>{var o;const c=ih(a.mid);a.type==="audio"&&(a.rtp.some(l=>l.codec==="opus"?(s=l.payload,!0):!1),!((o=a.rtcpFb)===null||o===void 0)&&o.some(l=>l.payload===s&&l.type==="nack")&&i.push(c),a.fmtp.some(l=>l.payload===s?(l.config.includes("sprop-stereo=1")&&n.push(c),!0):!1))}),{stereoMids:n,nackMids:i}}function vb(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(e.connection.version===4&&t||e.connection.version===6&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}function ih(e){return typeof e=="number"?e.toFixed(0):e}const rh="vp8",yA={audioPreset:Dd.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:Ld.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:rh,backupCodec:!0,preConnectBuffer:!1},bb={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},Tb={deviceId:{ideal:"default"},resolution:Da.h720.resolution},SA={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new tP,disconnectOnPageLeave:!0,webAudioMix:!1,singlePeerConnection:!1},sh={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var ft;(function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"})(ft||(ft={}));class _A{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(t,n,i){var r;this.peerConnectionTimeout=sh.peerConnectionTimeout,this.log=ye,this.updateState=()=>{var s,a;const o=this.state,c=this.requiredTransports.map(l=>l.getConnectionState());c.every(l=>l==="connected")?this.state=ft.CONNECTED:c.some(l=>l==="failed")?this.state=ft.FAILED:c.some(l=>l==="connecting")?this.state=ft.CONNECTING:c.every(l=>l==="closed")?this.state=ft.CLOSED:c.some(l=>l==="closed")?this.state=ft.CLOSING:c.every(l=>l==="new")&&(this.state=ft.NEW),o!==this.state&&(this.log.debug("pc state change: from ".concat(ft[o]," to ").concat(ft[this.state]),this.logContext),(s=this.onStateChange)===null||s===void 0||s.call(this,this.state,this.publisher.getConnectionState(),(a=this.subscriber)===null||a===void 0?void 0:a.getConnectionState()))},this.log=Ci((r=i.loggerName)!==null&&r!==void 0?r:Fn.PCManager),this.loggerOptions=i,this.isPublisherConnectionRequired=n!=="subscriber-primary",this.isSubscriberConnectionRequired=n==="subscriber-primary",this.publisher=new Ob(t,i),n!=="publisher-only"&&(this.subscriber=new Ob(t,i),this.subscriber.onConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.subscriber.onIceCandidate=s=>{var a;(a=this.onIceCandidate)===null||a===void 0||a.call(this,s,Xn.SUBSCRIBER)},this.subscriber.onDataChannel=s=>{var a;(a=this.onDataChannel)===null||a===void 0||a.call(this,s)},this.subscriber.onTrack=s=>{var a;(a=this.onTrack)===null||a===void 0||a.call(this,s)}),this.publisher.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=s=>{var a;(a=this.onIceCandidate)===null||a===void 0||a.call(this,s,Xn.PUBLISHER)},this.publisher.onTrack=s=>{var a;(a=this.onTrack)===null||a===void 0||a.call(this,s)},this.publisher.onOffer=(s,a)=>{var o;(o=this.onPublisherOffer)===null||o===void 0||o.call(this,s,a)},this.state=ft.NEW,this.connectionLock=new Ht,this.remoteOfferLock=new Ht}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}requirePublisher(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=t,this.updateState()}createAndSendPublisherOffer(t){return this.publisher.createAndSendOffer(t)}setPublisherAnswer(t,n){return this.publisher.setRemoteDescription(t,n)}removeTrack(t){return this.publisher.removeTrack(t)}close(){return P(this,void 0,void 0,function*(){var t;if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const n=this.publisher;for(const i of n.getSenders())try{n.canRemoveTrack()&&n.removeTrack(i)}catch(r){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:r}))}}yield Promise.all([this.publisher.close(),(t=this.subscriber)===null||t===void 0?void 0:t.close()]),this.updateState()})}triggerIceRestart(){return P(this,void 0,void 0,function*(){this.subscriber&&(this.subscriber.restartingIce=!0),this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(t,n){return P(this,void 0,void 0,function*(){var i;n===Xn.PUBLISHER?yield this.publisher.addIceCandidate(t):yield(i=this.subscriber)===null||i===void 0?void 0:i.addIceCandidate(t)})}createSubscriberAnswerFromOffer(t,n){return P(this,void 0,void 0,function*(){var i,r,s;this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,signalingState:(i=this.subscriber)===null||i===void 0?void 0:i.getSignallingState().toString()}));const a=yield this.remoteOfferLock.lock();try{return(yield(r=this.subscriber)===null||r===void 0?void 0:r.setRemoteDescription(t,n))?yield(s=this.subscriber)===null||s===void 0?void 0:s.createAndSetAnswer():void 0}finally{a()}})}updateConfiguration(t,n){var i;this.publisher.setConfiguration(t),(i=this.subscriber)===null||i===void 0||i.setConfiguration(t),n&&this.triggerIceRestart()}ensurePCTransportConnection(t,n){return P(this,void 0,void 0,function*(){var i;const r=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((i=this.requiredTransports)===null||i===void 0?void 0:i.map(s=>this.ensureTransportConnected(s,t,n)))}finally{r()}})}negotiate(t){return P(this,void 0,void 0,function*(){return new Promise((n,i)=>P(this,void 0,void 0,function*(){const r=setTimeout(()=>{i("negotiation timed out")},this.peerConnectionTimeout),s=()=>{clearTimeout(r),i("negotiation aborted")};t.signal.addEventListener("abort",s),this.publisher.once(Rs.NegotiationStarted,()=>{t.signal.aborted||this.publisher.once(Rs.NegotiationComplete,()=>{clearTimeout(r),n()})}),yield this.publisher.negotiate(a=>{clearTimeout(r),i(a)})}))})}addPublisherTransceiver(t,n){return this.publisher.addTransceiver(t,n)}addPublisherTransceiverOfKind(t,n){return this.publisher.addTransceiverOfKind(t,n)}getMidForReceiver(t){const i=(this.subscriber?this.subscriber.getTransceivers():this.publisher.getTransceivers()).find(r=>r.receiver===t);return i?.mid}addPublisherTrack(t){return this.publisher.addTrack(t)}createPublisherDataChannel(t,n){return this.publisher.createDataChannel(t,n)}getConnectedAddress(t){return t===Xn.PUBLISHER?this.publisher.getConnectedAddress():t===Xn.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const t=[];return this.isPublisherConnectionRequired&&t.push(this.publisher),this.isSubscriberConnectionRequired&&this.subscriber&&t.push(this.subscriber),t}ensureTransportConnected(t,n){return P(this,arguments,void 0,function(i,r){var s=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return(function*(){if(i.getConnectionState()!=="connected")return new Promise((c,l)=>P(s,void 0,void 0,function*(){const u=()=>{this.log.warn("abort transport connection",this.logContext),Ut.clearTimeout(d),l(new Qe("room connection has been cancelled",ve.Cancelled))};r?.signal.aborted&&u(),r?.signal.addEventListener("abort",u);const d=Ut.setTimeout(()=>{r?.signal.removeEventListener("abort",u),l(new Qe("could not establish pc connection",ve.InternalError))},a);for(;this.state!==ft.CONNECTED;)if(yield qt(50),r?.signal.aborted){l(new Qe("room connection has been cancelled",ve.Cancelled));return}Ut.clearTimeout(d),r?.signal.removeEventListener("abort",u),c()}))})()})}}const kb=5e3,wA=3e4;class Ze{static fetchRegionSettings(t,n,i){return P(this,void 0,void 0,function*(){const r=yield Ze.fetchLock.lock();try{const s=yield fetch("".concat(EA(t),"/regions"),{headers:{authorization:"Bearer ".concat(n)},signal:i});if(s.ok){const a=VP(s.headers),o=a?a*1e3:kb;return{regionSettings:yield s.json(),updatedAtInMs:Date.now(),maxAgeInMs:o}}else throw new Qe("Could not fetch region settings: ".concat(s.statusText),s.status===401?ve.NotAllowed:ve.InternalError,s.status)}catch(s){throw s instanceof Qe?s:i?.aborted?new Qe("Region fetching was aborted",ve.Cancelled):new Qe("Could not fetch region settings, ".concat(s instanceof Error?"".concat(s.name,": ").concat(s.message):s),ve.ServerUnreachable,500)}finally{r()}})}static scheduleRefetch(t,n,i){return P(this,void 0,void 0,function*(){const r=Ze.settingsTimeouts.get(t.hostname);clearTimeout(r),Ze.settingsTimeouts.set(t.hostname,setTimeout(()=>P(this,void 0,void 0,function*(){try{const s=yield Ze.fetchRegionSettings(t,n);Ze.updateCachedRegionSettings(t,n,s)}catch(s){if(s instanceof Qe&&s.reason===ve.NotAllowed){ye.debug("token is not valid, cancelling auto region refresh");return}ye.debug("auto refetching of region settings failed",{error:s}),Ze.scheduleRefetch(t,n,i)}}),i))})}static updateCachedRegionSettings(t,n,i){Ze.cache.set(t.hostname,i),Ze.scheduleRefetch(t,n,i.maxAgeInMs)}static stopRefetch(t){const n=Ze.settingsTimeouts.get(t);n&&(clearTimeout(n),Ze.settingsTimeouts.delete(t))}static scheduleCleanup(t){let n=Ze.connectionTrackers.get(t);n&&(n.cleanupTimeout&&clearTimeout(n.cleanupTimeout),n.cleanupTimeout=setTimeout(()=>{const i=Ze.connectionTrackers.get(t);i&&i.connectionCount===0&&(ye.debug("stopping region refetch after disconnect delay",{hostname:t}),Ze.stopRefetch(t)),i&&(i.cleanupTimeout=void 0)},wA))}static cancelCleanup(t){const n=Ze.connectionTrackers.get(t);n?.cleanupTimeout&&(clearTimeout(n.cleanupTimeout),n.cleanupTimeout=void 0)}notifyConnected(){const t=this.serverUrl.hostname;let n=Ze.connectionTrackers.get(t);n||(n={connectionCount:0},Ze.connectionTrackers.set(t,n)),n.connectionCount++,Ze.cancelCleanup(t)}notifyDisconnected(){const t=this.serverUrl.hostname,n=Ze.connectionTrackers.get(t);n&&(n.connectionCount=Math.max(0,n.connectionCount-1),n.connectionCount===0&&Ze.scheduleCleanup(t))}constructor(t,n){this.attemptedRegions=[],this.serverUrl=new URL(t),this.token=n}updateToken(t){this.token=t}isCloud(){return $c(this.serverUrl)}getServerUrl(){return this.serverUrl}fetchRegionSettings(t){return P(this,void 0,void 0,function*(){return Ze.fetchRegionSettings(this.serverUrl,this.token,t)})}getNextBestRegionUrl(t){return P(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");let n=Ze.cache.get(this.serverUrl.hostname);(!n||Date.now()-n.updatedAtInMs>n.maxAgeInMs)&&(n=yield this.fetchRegionSettings(t),Ze.updateCachedRegionSettings(this.serverUrl,this.token,n));const i=n.regionSettings.regions.filter(r=>!this.attemptedRegions.find(s=>s.url===r.url));if(i.length>0){const r=i[0];return this.attemptedRegions.push(r),ye.debug("next region: ".concat(r.region)),r.url}else return null})}resetAttempts(){this.attemptedRegions=[]}setServerReportedRegions(t){Ze.updateCachedRegionSettings(this.serverUrl,this.token,t)}}Ze.cache=new Map,Ze.settingsTimeouts=new Map,Ze.connectionTrackers=new Map,Ze.fetchLock=new Ht;function EA(e){return"".concat(e.protocol.replace("ws","http"),"//").concat(e.host,"/settings")}class mt extends Error{constructor(t,n,i){super(n),this.code=t,this.message=Sb(n,mt.MAX_MESSAGE_BYTES),this.data=i?Sb(i,mt.MAX_DATA_BYTES):void 0}static fromProto(t){return new mt(t.code,t.message,t.data)}toProto(){return new Rg({code:this.code,message:this.message,data:this.data})}static builtIn(t,n){return new mt(mt.ErrorCode[t],mt.ErrorMessage[t],n)}}mt.MAX_MESSAGE_BYTES=256,mt.MAX_DATA_BYTES=15360,mt.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404},mt.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};const yb=15360;function ah(e){return new TextEncoder().encode(e).length}function Sb(e,t){if(ah(e)<=t)return e;let n=0,i=e.length;const r=new TextEncoder;for(;n<i;){const s=Math.floor((n+i+1)/2);r.encode(e.slice(0,s)).length<=t?n=s:i=s-1}return e.slice(0,n)}const oh=2e3;function qc(e,t){if(!t)return 0;let n,i;return"bytesReceived"in e?(n=e.bytesReceived,i=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,i=t.bytesSent),n===void 0||i===void 0||e.timestamp===void 0||t.timestamp===void 0?0:(n-i)*8*1e3/(e.timestamp-t.timestamp)}const ch=typeof MediaRecorder<"u";class xA{constructor(){throw new Error("MediaRecorder is not available in this environment")}}const CA=ch?MediaRecorder:xA;class PA extends CA{constructor(t,n){if(!ch)throw new Error("MediaRecorder is not available in this environment");super(new MediaStream([t.mediaStreamTrack]),n);let i,r;const s=()=>r===void 0,a=()=>{this.removeEventListener("dataavailable",i),this.removeEventListener("stop",a),this.removeEventListener("error",o),r?.close(),r=void 0},o=c=>{r?.error(c),this.removeEventListener("dataavailable",i),this.removeEventListener("stop",a),this.removeEventListener("error",o),r=void 0};this.byteStream=new ReadableStream({start:c=>{r=c,i=l=>P(this,void 0,void 0,function*(){let u;if(l.data.arrayBuffer){const d=yield l.data.arrayBuffer();u=new Uint8Array(d)}else if(l.data.byteArray)u=l.data.byteArray;else throw new Error("no data available!");s()||c.enqueue(u)}),this.addEventListener("dataavailable",i)},cancel:()=>{a()}}),this.addEventListener("stop",a),this.addEventListener("error",o)}}function AA(){return ch}const RA=1e3,IA=1e4;class _b extends Z{get sender(){return this._sender}set sender(t){this._sender=t}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(t,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4?arguments[4]:void 0;super(t,n,s),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=nh(()=>P(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>P(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(J.Ended,this)},this.reacquireTrack=!1,this.providedByUser=r,this.muteLock=new Ht,this.pauseUpstreamLock=new Ht,this.trackChangeLock=new Ht,this.trackChangeLock.lock().then(a=>P(this,void 0,void 0,function*(){try{yield this.setMediaStreamTrack(t,!0)}finally{a()}})),this._constraints=t.getConstraints(),i&&(this._constraints=i)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==Z.Kind.Video)return;const{width:t,height:n}=this._mediaStreamTrack.getSettings();if(t&&n)return{width:t,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var t,n;return(n=(t=this.processor)===null||t===void 0?void 0:t.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(t,n){return P(this,void 0,void 0,function*(){var i;if(t===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(s=>{xs(this._mediaStreamTrack,s)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([t]),t&&(t.addEventListener("ended",this.handleEnded),t.addEventListener("mute",this.handleTrackMuteEvent),t.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=t.getConstraints());let r;if(this.processor&&t){if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(Es(t,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:t,kind:this.kind,element:this.processorElement}),r=this.processor.processedTrack}this.sender&&((i=this.sender.transport)===null||i===void 0?void 0:i.state)!=="closed"&&(yield this.sender.replaceTrack(r??t)),!this.providedByUser&&this._mediaStreamTrack!==t&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=t,t&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(s=>{Es(r??t,s)}))})}waitForDimensions(){return P(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:RA;return(function*(){var i;if(t.kind===Z.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((i=an())===null||i===void 0?void 0:i.os)==="iOS"&&(yield qt(10));const r=Date.now();for(;Date.now()-r<n;){const s=t.dimensions;if(s)return s;yield qt(50)}throw new Ri("unable to get track dimensions after timeout")})()})}setDeviceId(t){return P(this,void 0,void 0,function*(){return this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===ar(t)||(this._constraints.deviceId=t,this.isMuted)?!0:(yield this.restartTrack(),ar(t)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return P(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(function*(){if(t.source===Z.Source.ScreenShare)return;const{deviceId:i,groupId:r}=t._mediaStreamTrack.getSettings(),s=t.kind===Z.Kind.Audio?"audioinput":"videoinput";return n?Dt.getInstance().normalizeDeviceId(s,i,r):i})()})}mute(){return P(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return P(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(t,n){return P(this,void 0,void 0,function*(){const i=yield this.trackChangeLock.lock();try{if(!this.sender)throw new Ri("unable to replace an unpublished track");let r,s;return typeof n=="boolean"?r=n:n!==void 0&&(r=n.userProvidedTrack,s=n.stopProcessor),this.providedByUser=r??!0,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(t),s&&this.processor&&(yield this.internalStopProcessor()),this}finally{i()}})}restart(t){return P(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.trackChangeLock.lock();try{t||(t=this._constraints);const{deviceId:i,facingMode:r}=t,s=nP(t,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:t}));const a={audio:!1,video:!1};this.kind===Z.Kind.Video?a.video=i||r?{deviceId:i,facingMode:r}:!0:a.audio=i?Object.assign({deviceId:i},s):!0,this.attachedElements.forEach(l=>{xs(this.mediaStreamTrack,l)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const c=(yield navigator.mediaDevices.getUserMedia(a)).getTracks()[0];return this.kind===Z.Kind.Video&&(yield c.applyConstraints(s)),c.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(c),this._constraints=t,this.emit(J.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(t){this.log.debug("setting ".concat(this.kind," track ").concat(t?"muted":"unmuted"),this.logContext),!(this.isMuted===t&&this._mediaStreamTrack.enabled!==t)&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?J.Muted:J.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return P(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),Gv()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var t;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(t=this.processor)===null||t===void 0||t.destroy(),this.processor=void 0}pauseUpstream(){return P(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(J.UpstreamPaused,this);const i=an();if(i?.name==="Safari"&&si(i.version,"12.0")<0)throw new Rd("pauseUpstream is not supported on Safari < 12.");((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return P(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(J.UpstreamResumed,this),((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return P(this,void 0,void 0,function*(){var t;return!((t=this.sender)===null||t===void 0)&&t.getStats?yield this.sender.getStats():void 0})}setProcessor(t){return P(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(function*(){var s;const a=yield i.trackChangeLock.lock();try{i.log.debug("setting up processor",i.logContext);const o=document.createElement(i.kind),c={kind:i.kind,track:i._mediaStreamTrack,element:o,audioContext:i.audioContext};if(yield n.init(c),i.log.debug("processor initialized",i.logContext),i.processor&&(yield i.internalStopProcessor()),i.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(Es(i._mediaStreamTrack,o),o.muted=!0,o.play().catch(l=>{l instanceof DOMException&&l.name==="AbortError"?(i.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},i.logContext),{error:l})),setTimeout(()=>{o.play().catch(u=>{i.log.error("failed to play processor element",Object.assign(Object.assign({},i.logContext),{err:u}))})},100)):i.log.error("failed to play processor element",Object.assign(Object.assign({},i.logContext),{error:l}))}),i.processor=n,i.processorElement=o,i.processor.processedTrack){for(const l of i.attachedElements)l!==i.processorElement&&r&&(xs(i._mediaStreamTrack,l),Es(i.processor.processedTrack,l));yield(s=i.sender)===null||s===void 0?void 0:s.replaceTrack(i.processor.processedTrack)}i.emit(J.TrackProcessorUpdate,i.processor)}finally{a()}})()})}getProcessor(){return this.processor}stopProcessor(){return P(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(function*(){const i=yield t.trackChangeLock.lock();try{yield t.internalStopProcessor(n)}finally{i()}})()})}internalStopProcessor(){return P(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(function*(){var i,r;t.processor&&(t.log.debug("stopping processor",t.logContext),(i=t.processor.processedTrack)===null||i===void 0||i.stop(),yield t.processor.destroy(),t.processor=void 0,n||((r=t.processorElement)===null||r===void 0||r.remove(),t.processorElement=void 0),yield t._mediaStreamTrack.applyConstraints(t._constraints),yield t.setMediaStreamTrack(t._mediaStreamTrack,!0),t.emit(J.TrackProcessorUpdate))})()})}startPreConnectBuffer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;if(!AA()){this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext);return}if(this.localTrackRecorder){this.log.warn("preconnect buffer already started");return}else{let n="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(n)||(n="video/mp4"),this.localTrackRecorder=new PA(this,{mimeType:n})}this.localTrackRecorder.start(t),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},IA)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.byteStream}getPreConnectBufferMimeType(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.mimeType}}class Xc extends _b{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;super(t,Z.Kind.Audio,n,i,s),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>P(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let a;try{a=yield this.getSenderStats()}catch(o){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:o}));return}a&&this.prevStats&&(this._currentBitrate=qc(a,this.prevStats)),this.prevStats=a}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(J.AudioTrackFeatureUpdate,this,Nt.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(J.AudioTrackFeatureUpdate,this,Nt.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=r,this.checkForSilence()}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return P(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Z.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return P(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const i=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==ar(this._constraints.deviceId);return this.source===Z.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||i)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this}finally{n()}})}restartTrack(t){return P(this,void 0,void 0,function*(){let n;if(t){const i=Wd({audio:t});typeof i.audio!="boolean"&&(n=i.audio)}yield this.restart(n)})}restart(t){const n=Object.create(null,{restart:{get:()=>super.restart}});return P(this,void 0,void 0,function*(){const i=yield n.restart.call(this,t);return this.checkForSilence(),i})}startMonitor(){on()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},oh)))}setProcessor(t){return P(this,void 0,void 0,function*(){var n;const i=yield this.trackChangeLock.lock();try{if(!ri()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.internalStopProcessor());const r={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(t.name),this.logContext),yield t.init(r),this.processor=t,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(J.TrackProcessorUpdate,this.processor)}finally{i()}})}setAudioContext(t){this.audioContext=t}getSenderStats(){return P(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return;const n=yield this.sender.getStats();let i;return n.forEach(r=>{r.type==="outbound-rtp"&&(i={type:"audio",streamId:r.id,packetsSent:r.packetsSent,packetsLost:r.packetsLost,bytesSent:r.bytesSent,timestamp:r.timestamp,roundTripTime:r.roundTripTime,jitter:r.jitter})}),i})}checkForSilence(){return P(this,void 0,void 0,function*(){const t=yield rb(this);return t&&(this.isMuted||this.log.debug("silence detected on local audio track",this.logContext),this.emit(J.AudioSilenceDetected)),t})}}function QA(e,t,n){switch(e.kind){case"audio":return new Xc(e,t,!1,void 0,n);case"video":return new Fc(e,t,!1,n);default:throw new Ri("unsupported track type: ".concat(e.kind))}}const NA=Object.values(Da),DA=Object.values(Md),MA=Object.values(Ld),LA=[Da.h180,Da.h360],$A=[Md.h180,Md.h360],UA=e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(n=>{var i,r;return new He(Math.floor(e.width/n.scaleResolutionDownBy),Math.floor(e.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((i=e.encoding.maxFramerate)!==null&&i!==void 0?i:30)/((r=n.fps)!==null&&r!==void 0?r:30))))),n.fps,e.encoding.priority)}),lh=["q","h","f"];function uh(e,t,n,i){var r,s;let a=i?.videoEncoding;e&&(a=i?.screenShareEncoding);const o=i?.simulcast,c=i?.scalabilityMode,l=i?.videoCodec;if(!a&&!o&&!c||!t||!n)return[{}];a||(a=XA(e,t,n,l),ye.debug("using video encoding",a));const u=a.maxFramerate,d=new He(t,n,a.maxBitrate,a.maxFramerate,a.priority);if(c&&Bn(l)){const m=new xb(c),O=[];if(m.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(c));const b=an();if(Ma()||ri()||b?.name==="Chrome"&&si(b?.version,"113")<0){const v=m.suffix=="h"?2:3,T=DP(b);for(let S=0;S<m.spatial;S+=1)O.push({rid:lh[2-S],maxBitrate:a.maxBitrate/Math.pow(v,S),maxFramerate:d.encoding.maxFramerate,scaleResolutionDownBy:T?Math.pow(2,S):void 0});O[0].scalabilityMode=c}else O.push({maxBitrate:a.maxBitrate,maxFramerate:d.encoding.maxFramerate,scalabilityMode:c});return d.encoding.priority&&(O[0].priority=d.encoding.priority,O[0].networkPriority=d.encoding.priority),ye.debug("using svc encoding",{encodings:O}),O}if(!o)return[a];let h=[];e?h=(r=Eb(i?.screenShareSimulcastLayers))!==null&&r!==void 0?r:wb(e,d):h=(s=Eb(i?.videoSimulcastLayers))!==null&&s!==void 0?s:wb(e,d);let p;if(h.length>0){const m=h[0];h.length>1&&([,p]=h);const O=Math.max(t,n);if(O>=960&&p)return dh(t,n,[m,p,d],u);if(O>=480)return dh(t,n,[m,d],u)}return dh(t,n,[d])}function qA(e,t,n){var i,r,s,a;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&ye.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const o=e.mediaStreamTrack.getSettings(),c=(i=o.width)!==null&&i!==void 0?i:(r=e.dimensions)===null||r===void 0?void 0:r.width,l=(s=o.height)!==null&&s!==void 0?s:(a=e.dimensions)===null||a===void 0?void 0:a.height;return e.source===Z.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),uh(e.source===Z.Source.ScreenShare,c,l,n)}function XA(e,t,n,i){const r=FA(e,t,n);let{encoding:s}=r[0];const a=Math.max(t,n);for(let o=0;o<r.length;o+=1){const c=r[o];if(s=c.encoding,c.width>=a)break}if(i)switch(i){case"av1":case"h265":s=Object.assign({},s),s.maxBitrate=s.maxBitrate*.7;break;case"vp9":s=Object.assign({},s),s.maxBitrate=s.maxBitrate*.85;break}return s}function FA(e,t,n){if(e)return MA;const i=t>n?t/n:n/t;return Math.abs(i-16/9)<Math.abs(i-4/3)?NA:DA}function wb(e,t){if(e)return UA(t);const{width:n,height:i}=t,r=n>i?n/i:i/n;return Math.abs(r-16/9)<Math.abs(r-4/3)?LA:$A}function dh(e,t,n,i){const r=[];if(n.forEach((s,a)=>{if(a>=lh.length)return;const o=Math.min(e,t),l={rid:lh[a],scaleResolutionDownBy:Math.max(1,o/Math.min(s.width,s.height)),maxBitrate:s.encoding.maxBitrate},u=i&&s.encoding.maxFramerate?Math.min(i,s.encoding.maxFramerate):s.encoding.maxFramerate;u&&(l.maxFramerate=u);const d=Ur()||a===0;s.encoding.priority&&d&&(l.priority=s.encoding.priority,l.networkPriority=s.encoding.priority),r.push(l)}),ri()&&Hv()==="ios"){let s;r.forEach(o=>{s?o.maxFramerate&&o.maxFramerate>s&&(s=o.maxFramerate):s=o.maxFramerate});let a=!0;r.forEach(o=>{var c;o.maxFramerate!=s&&(a&&(a=!1,ye.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),ye.info('Setting framerate of encoding "'.concat((c=o.rid)!==null&&c!==void 0?c:"",'" to ').concat(s)),o.maxFramerate=s)})}return r}function Eb(e){if(e)return e.sort((t,n)=>{const{encoding:i}=t,{encoding:r}=n;return i.maxBitrate>r.maxBitrate?1:i.maxBitrate<r.maxBitrate?-1:i.maxBitrate===r.maxBitrate&&i.maxFramerate&&r.maxFramerate?i.maxFramerate>r.maxFramerate?1:-1:0})}class xb{constructor(t){const n=t.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var t;return"L".concat(this.spatial,"T").concat(this.temporal).concat((t=this.suffix)!==null&&t!==void 0?t:"")}}function BA(e){return e.source===Z.Source.ScreenShare||e.constraints.height&&ar(e.constraints.height)>=1080?"maintain-resolution":"balanced"}const zA=5e3;class Fc extends _b{get sender(){return this._sender}set sender(t){this._sender=t,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3?arguments[3]:void 0;super(t,Z.Kind.Video,n,i,r),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>P(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let s;try{s=yield this.getSenderStats()}catch(c){this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:c}));return}const a=new Map(s.map(c=>[c.rid,c])),o=s.some(c=>c.qualityLimitationReason==="cpu");if(o!==this.isCpuConstrained&&(this.isCpuConstrained=o,this.isCpuConstrained&&this.emit(J.CpuConstrained)),this.prevStats){let c=0;a.forEach((l,u)=>{var d;const h=(d=this.prevStats)===null||d===void 0?void 0:d.get(u);c+=qc(l,h)}),this._currentBitrate=c}this.prevStats=a}),this.senderLock=new Ht}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(t){var n;if(this.signalClient=t,!on())return;const i=(n=this.sender)===null||n===void 0?void 0:n.getParameters();i&&(this.encodings=i.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},oh))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(t=>{t.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const t=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return P(this,void 0,void 0,function*(){var n,i,r,s,a;yield t.pauseUpstream.call(this);try{for(var o=!0,c=Pi(this.simulcastCodecs.values()),l;l=yield c.next(),n=l.done,!n;o=!0)s=l.value,o=!1,yield(a=s.sender)===null||a===void 0?void 0:a.replaceTrack(null)}catch(u){i={error:u}}finally{try{!o&&!n&&(r=c.return)&&(yield r.call(c))}finally{if(i)throw i.error}}})}resumeUpstream(){const t=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return P(this,void 0,void 0,function*(){var n,i,r,s,a;yield t.resumeUpstream.call(this);try{for(var o=!0,c=Pi(this.simulcastCodecs.values()),l;l=yield c.next(),n=l.done,!n;o=!0){s=l.value,o=!1;const u=s;yield(a=u.sender)===null||a===void 0?void 0:a.replaceTrack(u.mediaStreamTrack)}}catch(u){i={error:u}}finally{try{!o&&!n&&(r=c.return)&&(yield r.call(c))}finally{if(i)throw i.error}}})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return P(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Z.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return P(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===Z.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(t){super.setTrackMuted(t);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!t}getSenderStats(){return P(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return[];const n=[],i=yield this.sender.getStats();return i.forEach(r=>{var s;if(r.type==="outbound-rtp"){const a={type:"video",streamId:r.id,frameHeight:r.frameHeight,frameWidth:r.frameWidth,framesPerSecond:r.framesPerSecond,framesSent:r.framesSent,firCount:r.firCount,pliCount:r.pliCount,nackCount:r.nackCount,packetsSent:r.packetsSent,bytesSent:r.bytesSent,qualityLimitationReason:r.qualityLimitationReason,qualityLimitationDurations:r.qualityLimitationDurations,qualityLimitationResolutionChanges:r.qualityLimitationResolutionChanges,rid:(s=r.rid)!==null&&s!==void 0?s:r.id,retransmittedPacketsSent:r.retransmittedPacketsSent,targetBitrate:r.targetBitrate,timestamp:r.timestamp},o=i.get(r.remoteId);o&&(a.jitter=o.jitter,a.packetsLost=o.packetsLost,a.roundTripTime=o.roundTripTime),n.push(a)}}),n.sort((r,s)=>{var a,o;return((a=s.frameWidth)!==null&&a!==void 0?a:0)-((o=r.frameWidth)!==null&&o!==void 0?o:0)}),n})}setPublishingQuality(t){const n=[];for(let i=On.LOW;i<=On.HIGH;i+=1)n.push(new vd({quality:i,enabled:i<=t}));this.log.debug("setting publishing quality. max quality ".concat(t),this.logContext),this.setPublishingLayers(Bn(this.codec),n)}restartTrack(t){return P(this,void 0,void 0,function*(){var n,i,r,s,a;let o;if(t){const d=Wd({video:t});typeof d.video!="boolean"&&(o=d.video)}yield this.restart(o),this.isCpuConstrained=!1;try{for(var c=!0,l=Pi(this.simulcastCodecs.values()),u;u=yield l.next(),n=u.done,!n;c=!0){s=u.value,c=!1;const d=s;d.sender&&((a=d.sender.transport)===null||a===void 0?void 0:a.state)!=="closed"&&(d.mediaStreamTrack=this.mediaStreamTrack.clone(),yield d.sender.replaceTrack(d.mediaStreamTrack))}}catch(d){i={error:d}}finally{try{!c&&!n&&(r=l.return)&&(yield r.call(l))}finally{if(i)throw i.error}}})}setProcessor(t){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return P(this,arguments,void 0,function(i){var r=this;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(function*(){var a,o,c,l,u,d;if(yield n.setProcessor.call(r,i,s),!((u=r.processor)===null||u===void 0)&&u.processedTrack)try{for(var h=!0,p=Pi(r.simulcastCodecs.values()),m;m=yield p.next(),a=m.done,!a;h=!0)l=m.value,h=!1,yield(d=l.sender)===null||d===void 0?void 0:d.replaceTrack(r.processor.processedTrack)}catch(O){o={error:O}}finally{try{!h&&!a&&(c=p.return)&&(yield c.call(p))}finally{if(o)throw o.error}}})()})}setDegradationPreference(t){return P(this,void 0,void 0,function*(){if(this.degradationPreference=t,this.sender)try{this.log.debug("setting degradationPreference to ".concat(t),this.logContext);const n=this.sender.getParameters();n.degradationPreference=t,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(t,n){if(this.simulcastCodecs.has(t)){this.log.error("".concat(t," already added, skipping adding simulcast codec"),this.logContext);return}const i={codec:t,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(t,i),i}setSimulcastTrackSender(t,n){const i=this.simulcastCodecs.get(t);i&&(i.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},zA))}setPublishingCodecs(t){return P(this,void 0,void 0,function*(){var n,i,r,s,a,o,c;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:t,currentCodec:this.codec})),!this.codec&&t.length>0)return yield this.setPublishingLayers(Bn(t[0].codec),t[0].qualities),[];this.subscribedCodecs=t;const l=[];try{for(n=!0,i=Pi(t);r=yield i.next(),s=r.done,!s;n=!0){c=r.value,n=!1;const u=c;if(!this.codec||this.codec===u.codec)yield this.setPublishingLayers(Bn(u.codec),u.qualities);else{const d=this.simulcastCodecs.get(u.codec);if(this.log.debug("try setPublishingCodec for ".concat(u.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:d})),!d||!d.sender){for(const h of u.qualities)if(h.enabled){l.push(u.codec);break}}else d.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(u.codec),this.logContext),yield Cb(d.sender,d.encodings,u.qualities,this.senderLock,Bn(u.codec),this.log,this.logContext))}}}catch(u){a={error:u}}finally{try{!n&&!s&&(o=i.return)&&(yield o.call(i))}finally{if(a)throw a.error}}return l})}setPublishingLayers(t,n){return P(this,void 0,void 0,function*(){if(this.optimizeForPerformance){this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:n}));return}this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:n})),!(!this.sender||!this.encodings)&&(yield Cb(this.sender,this.encodings,n,this.senderLock,t,this.log,this.logContext))})}prioritizePerformance(){return P(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const t=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const n=this.sender.getParameters();n.encodings=n.encodings.map((i,r)=>{var s;return Object.assign(Object.assign({},i),{active:r===0,scaleResolutionDownBy:Math.max(1,Math.ceil(((s=this.mediaStreamTrack.getSettings().height)!==null&&s!==void 0?s:360)/360)),scalabilityMode:r===0&&Bn(this.codec)?"L1T3":void 0,maxFramerate:r===0?15:0,maxBitrate:r===0?i.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:n.encodings})),this.encodings=n.encodings,yield this.sender.setParameters(n)}catch(n){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:n})),this.optimizeForPerformance=!1}finally{t()}})}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return P(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),Gv()&&this.isInBackground&&this.source===Z.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function Cb(e,t,n,i,r,s,a){return P(this,void 0,void 0,function*(){const o=yield i.lock();s.debug("setPublishingLayersForSender",Object.assign(Object.assign({},a),{sender:e,qualities:n,senderEncodings:t}));try{const c=e.getParameters(),{encodings:l}=c;if(!l)return;if(l.length!==t.length){s.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},a),{encodings:l,senderEncodings:t}));return}let u=!1;!1&&l[0].scalabilityMode||(r&&n.some(p=>p.enabled)&&n.forEach(p=>p.enabled=!0),l.forEach((h,p)=>{var m;let O=(m=h.rid)!==null&&m!==void 0?m:"";O===""&&(O="q");const b=Pb(O),v=n.find(T=>T.quality===b);v&&h.active!==v.enabled&&(u=!0,h.active=v.enabled,s.debug("setting layer ".concat(v.quality," to ").concat(h.active?"enabled":"disabled"),a),Ur()&&(v.enabled?(h.scaleResolutionDownBy=t[p].scaleResolutionDownBy,h.maxBitrate=t[p].maxBitrate,h.maxFrameRate=t[p].maxFrameRate):(h.scaleResolutionDownBy=4,h.maxBitrate=10,h.maxFrameRate=2)))})),u&&(c.encodings=l,s.debug("setting encodings",Object.assign(Object.assign({},a),{encodings:c.encodings})),yield e.setParameters(c))}finally{o()}})}function Pb(e){switch(e){case"f":return On.HIGH;case"h":return On.MEDIUM;case"q":return On.LOW;default:return On.HIGH}}function Ab(e,t,n,i){if(!n)return[new nr({quality:On.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(i){const r=n[0].scalabilityMode,s=new xb(r),a=[],o=s.suffix=="h"?1.5:2,c=s.suffix=="h"?2:3;for(let l=0;l<s.spatial;l+=1)a.push(new nr({quality:Math.min(On.HIGH,s.spatial-1)-l,width:Math.ceil(e/Math.pow(o,l)),height:Math.ceil(t/Math.pow(o,l)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(c,l)):0,ssrc:0}));return a}return n.map(r=>{var s,a,o;const c=(s=r.scaleResolutionDownBy)!==null&&s!==void 0?s:1;let l=Pb((a=r.rid)!==null&&a!==void 0?a:"");return new nr({quality:l,width:Math.ceil(e/c),height:Math.ceil(t/c),bitrate:(o=r.maxBitrate)!==null&&o!==void 0?o:0,ssrc:0})})}const Rb="_lossy",Ib="_reliable",ZA=2*1e3,hh="leave-reconnect",jA=3e4;var Qn;(function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"})(Qn||(Qn={}));class VA extends ii.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(t){var n;super(),this.options=t,this.rtcConfig={},this.peerConnectionTimeout=sh.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=Qn.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=ye,this.reliableDataSequence=1,this.reliableMessageBuffer=new db,this.reliableReceivedState=new mA(jA),this.midToTrackId={},this.isWaitingForNetworkReconnect=!1,this.handleDataChannel=i=>P(this,[i],void 0,function(r){var s=this;let{channel:a}=r;return(function*(){if(a){if(a.label===Ib)s.reliableDCSub=a;else if(a.label===Rb)s.lossyDCSub=a;else return;s.log.debug("on data channel ".concat(a.id,", ").concat(a.label),s.logContext),a.onmessage=s.handleDataMessage}})()}),this.handleDataMessage=i=>P(this,void 0,void 0,function*(){var r,s,a,o,c;const l=yield this.dataProcessLock.lock();try{let u;if(i.data instanceof ArrayBuffer)u=i.data;else if(i.data instanceof Blob)u=yield i.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:i.data}));return}const d=Kt.fromBinary(new Uint8Array(u));if(d.sequence>0&&d.participantSid!==""){const h=this.reliableReceivedState.get(d.participantSid);if(h&&d.sequence<=h)return;this.reliableReceivedState.set(d.participantSid,d.sequence)}if(((r=d.value)===null||r===void 0?void 0:r.case)==="speaker")this.emit(te.ActiveSpeakersUpdate,d.value.value.speakers);else if(((s=d.value)===null||s===void 0?void 0:s.case)==="encryptedPacket"){if(!this.e2eeManager){this.log.error("Received encrypted packet but E2EE not set up",this.logContext);return}const h=yield(a=this.e2eeManager)===null||a===void 0?void 0:a.handleEncryptedData(d.value.value.encryptedValue,d.value.value.iv,d.participantIdentity,d.value.value.keyIndex),p=Cg.fromBinary(h.payload),m=new Kt({value:p.value,participantIdentity:d.participantIdentity,participantSid:d.participantSid});((o=m.value)===null||o===void 0?void 0:o.case)==="user"&&Qb(m,m.value.value),this.emit(te.DataPacketReceived,m,d.value.value.encryptionType)}else((c=d.value)===null||c===void 0?void 0:c.case)==="user"&&Qb(d,d.value.value),this.emit(te.DataPacketReceived,d,Pt.NONE)}finally{l()}}),this.handleDataError=i=>{const s=i.currentTarget.maxRetransmits===0?"lossy":"reliable";if(i instanceof ErrorEvent&&i.error){const{error:a}=i.error;this.log.error("DataChannel error on ".concat(s,": ").concat(i.message),Object.assign(Object.assign({},this.logContext),{error:a}))}else this.log.error("Unknown DataChannel error on ".concat(s),Object.assign(Object.assign({},this.logContext),{event:i}))},this.handleBufferedAmountLow=i=>{const s=i.currentTarget.maxRetransmits===0?Ce.LOSSY:Ce.RELIABLE;this.updateAndEmitDCBufferStatus(s)},this.handleDisconnect=(i,r)=>{if(this._isClosed)return;this.log.warn("".concat(i," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const s=c=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(c,"ms. giving up"),this.logContext),this.emit(te.Disconnected),this.close()},a=Date.now()-this.reconnectStart;let o=this.getNextRetryDelay({elapsedMs:a,retryCount:this.reconnectAttempts});if(o===null){s(a);return}i===hh&&(o=0),this.log.debug("reconnecting in ".concat(o,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Ut.setTimeout(()=>this.attemptReconnect(r).finally(()=>this.reconnectTimeout=void 0),o)},this.waitForRestarted=()=>new Promise((i,r)=>{this.pcState===Qn.Connected&&i();const s=()=>{this.off(te.Disconnected,a),i()},a=()=>{this.off(te.Restarted,s),r()};this.once(te.Restarted,s),this.once(te.Disconnected,a)}),this.updateAndEmitDCBufferStatus=i=>{if(i===Ce.RELIABLE){const s=this.dataChannelForKind(i);s&&this.reliableMessageBuffer.alignBufferedAmount(s.bufferedAmount)}const r=this.isBufferStatusLow(i);typeof r<"u"&&r!==this.dcBufferStatus.get(i)&&(this.dcBufferStatus.set(i,r),this.emit(te.DCBufferStatusChanged,r,i))},this.isBufferStatusLow=i=>{const r=this.dataChannelForKind(i);if(r)return r.bufferedAmount<=r.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>P(this,void 0,void 0,function*(){!this.url||!(yield fetch($a(this.url),{method:"HEAD"}).then(r=>r.ok).catch(()=>!1))||(this.log.info("detected network reconnected"),(this.client.currentState===tt.RECONNECTING||this.isWaitingForNetworkReconnect&&this.client.currentState===tt.CONNECTED)&&(this.clearReconnectTimeout(),this.attemptReconnect(Mr.RR_SIGNAL_DISCONNECTED),this.isWaitingForNetworkReconnect=!1))}),this.handleBrowserOffline=()=>P(this,void 0,void 0,function*(){if(this.url)try{yield Promise.race([fetch($a(this.url),{method:"HEAD"}),qt(4e3).then(()=>Promise.reject())])}catch{window.navigator.onLine===!1&&(this.log.info("detected network interruption"),this.isWaitingForNetworkReconnect=!0)}}),this.log=Ci((n=t.loggerName)!==null&&n!==void 0?n:Fn.Engine),this.loggerOptions={loggerName:t.loggerName,loggerContextCb:()=>this.logContext},this.client=new Hd(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.closingLock=new Ht,this.dataProcessLock=new Ht,this.dcBufferStatus=new Map([[Ce.LOSSY,!0],[Ce.RELIABLE,!0]]),this.client.onParticipantUpdate=i=>this.emit(te.ParticipantUpdate,i),this.client.onConnectionQuality=i=>this.emit(te.ConnectionQualityUpdate,i),this.client.onRoomUpdate=i=>this.emit(te.RoomUpdate,i),this.client.onSubscriptionError=i=>this.emit(te.SubscriptionError,i),this.client.onSubscriptionPermissionUpdate=i=>this.emit(te.SubscriptionPermissionUpdate,i),this.client.onSpeakersChanged=i=>this.emit(te.SpeakersChanged,i),this.client.onStreamStateUpdate=i=>this.emit(te.StreamStateChanged,i),this.client.onRequestResponse=i=>this.emit(te.SignalRequestResponse,i)}get logContext(){var t,n,i,r,s,a;return{room:(n=(t=this.latestJoinResponse)===null||t===void 0?void 0:t.room)===null||n===void 0?void 0:n.name,roomID:(r=(i=this.latestJoinResponse)===null||i===void 0?void 0:i.room)===null||r===void 0?void 0:r.sid,participant:(a=(s=this.latestJoinResponse)===null||s===void 0?void 0:s.participant)===null||a===void 0?void 0:a.identity,pID:this.participantSid}}join(t,n,i,r){return P(this,void 0,void 0,function*(){this.url=t,this.token=n,this.signalOpts=i,this.maxJoinAttempts=i.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const s=yield this.client.join(t,n,i,r);return this._isClosed=!1,this.latestJoinResponse=s,this.subscriberPrimary=s.subscriberPrimary,this.pcManager||(yield this.configure(s)),(!this.subscriberPrimary||s.fastPublish)&&this.negotiate().catch(a=>{ye.error(a,this.logContext)}),this.registerOnLineListener(),this.clientConfiguration=s.clientConfiguration,this.emit(te.SignalConnected,s),s}catch(s){if(s instanceof Qe&&s.reason===ve.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(t,n,i,r);throw s}})}close(){return P(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();if(this.isClosed){t();return}try{this._isClosed=!0,this.joinAttempts=0,this.emit(te.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{t()}})}cleanupPeerConnections(){return P(this,void 0,void 0,function*(){var t;yield(t=this.pcManager)===null||t===void 0?void 0:t.close(),this.pcManager=void 0;const n=i=>{i&&(i.close(),i.onbufferedamountlow=null,i.onclose=null,i.onclosing=null,i.onerror=null,i.onmessage=null,i.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new db,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupClient(){return P(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(t){if(this.pendingTrackResolvers[t.cid])throw new Ri("a track with the same ID has already been published");return new Promise((n,i)=>{const r=setTimeout(()=>{delete this.pendingTrackResolvers[t.cid],i(new Qe("publication of local track timed out, no response from server",ve.Timeout))},1e4);this.pendingTrackResolvers[t.cid]={resolve:s=>{clearTimeout(r),n(s)},reject:()=>{clearTimeout(r),i(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(t)})}removeTrack(t){if(t.track&&this.pendingTrackResolvers[t.track.id]){const{reject:n}=this.pendingTrackResolvers[t.track.id];n&&n(),delete this.pendingTrackResolvers[t.track.id]}try{return this.pcManager.removeTrack(t),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(t,n){this.client.sendMuteTrack(t,n)}get dataSubscriberReadyState(){var t;return(t=this.reliableDCSub)===null||t===void 0?void 0:t.readyState}getConnectedServerAddress(){return P(this,void 0,void 0,function*(){var t;return(t=this.pcManager)===null||t===void 0?void 0:t.getConnectedAddress()})}setRegionUrlProvider(t){this.regionUrlProvider=t}configure(t){return P(this,void 0,void 0,function*(){var n,i;if(this.pcManager&&this.pcManager.currentState!==ft.NEW)return;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid;const r=this.makeRTCConfiguration(t);this.pcManager=new _A(r,this.options.singlePeerConnection?"publisher-only":t.subscriberPrimary?"subscriber-primary":"publisher-primary",this.loggerOptions),this.emit(te.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(s,a)=>{this.client.sendIceCandidate(s,a)},this.pcManager.onPublisherOffer=(s,a)=>{this.client.sendOffer(s,a)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(s,a,o)=>P(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(s),this.logContext),["closed","disconnected","failed"].includes(a)&&(this.publisherConnectionPromise=void 0),s===ft.CONNECTED){const u=this.pcState===Qn.New;this.pcState=Qn.Connected,u&&this.emit(te.Connected,t)}else s===ft.FAILED&&(this.pcState===Qn.Connected||this.pcState===Qn.Reconnecting)&&(this.pcState=Qn.Disconnected,this.handleDisconnect("peerconnection failed",o==="failed"?Mr.RR_SUBSCRIBER_FAILED:Mr.RR_PUBLISHER_FAILED));const c=this.client.isDisconnected||this.client.currentState===tt.RECONNECTING,l=[ft.FAILED,ft.CLOSING,ft.CLOSED].includes(s);c&&l&&!this._isClosed&&this.emit(te.Offline)}),this.pcManager.onTrack=s=>{s.streams.length!==0&&this.emit(te.MediaTrackAdded,s.track,s.streams[0],s.receiver)},WA((i=t.serverInfo)===null||i===void 0?void 0:i.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(t,n,i)=>P(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,midToTrackId:i})),this.midToTrackId=i,yield this.pcManager.setPublisherAnswer(t,n))}),this.client.onTrickle=(t,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:t,target:n})),this.pcManager.addIceCandidate(t,n))},this.client.onOffer=(t,n,i)=>P(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=n,!this.pcManager)return;this.midToTrackId=i;const r=yield this.pcManager.createSubscriberAnswerFromOffer(t,n);r&&this.client.sendAnswer(r,n)}),this.client.onLocalTrackPublished=t=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:t.cid,track:(n=t.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[t.cid]){this.log.error("missing track resolver for ".concat(t.cid),Object.assign(Object.assign({},this.logContext),{cid:t.cid}));return}const{resolve:i}=this.pendingTrackResolvers[t.cid];delete this.pendingTrackResolvers[t.cid],i(t.track)},this.client.onLocalTrackUnpublished=t=>{this.emit(te.LocalTrackUnpublished,t)},this.client.onLocalTrackSubscribed=t=>{this.emit(te.LocalTrackSubscribed,t)},this.client.onTokenRefresh=t=>{var n;this.token=t,(n=this.regionUrlProvider)===null||n===void 0||n.updateToken(t)},this.client.onRemoteMuteChanged=(t,n)=>{this.emit(te.RemoteMute,t,n)},this.client.onSubscribedQualityUpdate=t=>{this.emit(te.SubscribedQualityUpdate,t)},this.client.onRoomMoved=t=>{var n;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=t.room),this.emit(te.RoomMoved,t)},this.client.onMediaSectionsRequirement=t=>{var n,i;const r={direction:"recvonly"};for(let s=0;s<t.numAudios;s++)(n=this.pcManager)===null||n===void 0||n.addPublisherTransceiverOfKind("audio",r);for(let s=0;s<t.numVideos;s++)(i=this.pcManager)===null||i===void 0||i.addPublisherTransceiverOfKind("video",r);this.negotiate()},this.client.onClose=()=>{this.handleDisconnect("signal",Mr.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=t=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:t?.reason})),t.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions({updatedAtInMs:Date.now(),maxAgeInMs:kb,regionSettings:t.regions})),t.action){case _s.DISCONNECT:this.emit(te.Disconnected,t?.reason),this.close();break;case _s.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(hh);break;case _s.RESUME:this.handleDisconnect(hh)}}}makeRTCConfiguration(t){var n;const i=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),i.encodedInsertableStreams=!0),t.iceServers&&!i.iceServers){const r=[];t.iceServers.forEach(s=>{const a={urls:s.urls};s.username&&(a.username=s.username),s.credential&&(a.credential=s.credential),r.push(a)}),i.iceServers=r}return t.clientConfiguration&&t.clientConfiguration.forceRelay===Ca.ENABLED&&(i.iceTransportPolicy="relay"),i.sdpSemantics="unified-plan",i.continualGatheringPolicy="gather_continually",i}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(Rb,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(Ib,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(t,n,i){return P(this,void 0,void 0,function*(){if($d())return yield this.createTransceiverRTCRtpSender(t,n,i);if(Ud())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(t.mediaStreamTrack);throw new At("Required webRTC APIs not supported on this device")})}createSimulcastSender(t,n,i,r){return P(this,void 0,void 0,function*(){if($d())return this.createSimulcastTransceiverSender(t,n,i,r);if(Ud())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(t.mediaStreamTrack);throw new At("Cannot stream on this device")})}createTransceiverRTCRtpSender(t,n,i){return P(this,void 0,void 0,function*(){if(!this.pcManager)throw new At("publisher is closed");const r=[];t.mediaStream&&r.push(t.mediaStream),or(t)&&(t.codec=n.videoCodec);const s={direction:"sendonly",streams:r};return i&&(s.sendEncodings=i),(yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,s)).sender})}createSimulcastTransceiverSender(t,n,i,r){return P(this,void 0,void 0,function*(){if(!this.pcManager)throw new At("publisher is closed");const s={direction:"sendonly"};r&&(s.sendEncodings=r);const a=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,s);if(i.videoCodec)return t.setSimulcastTrackSender(i.videoCodec,a.sender),a.sender})}createRTCRtpSender(t){return P(this,void 0,void 0,function*(){if(!this.pcManager)throw new At("publisher is closed");return this.pcManager.addPublisherTrack(t)})}attemptReconnect(t){return P(this,void 0,void 0,function*(){var n,i,r;if(!this._isClosed){if(this.attemptingReconnect){ye.warn("already attempting reconnect, returning early",this.logContext);return}(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===Ca.DISABLED||((r=(i=this.pcManager)===null||i===void 0?void 0:i.currentState)!==null&&r!==void 0?r:ft.NEW)===ft.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(t),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(s){this.reconnectAttempts+=1;let a=!0;s instanceof At?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:s})),a=!1):s instanceof Is||(this.fullReconnectOnNext=!0),a?this.handleDisconnect("reconnect",Mr.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(te.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(t){try{return this.reconnectPolicy.nextRetryDelayInMs(t)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(t){return P(this,void 0,void 0,function*(){var n,i,r;try{if(!this.url||!this.token)throw new At("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(te.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let s;try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new Is;s=yield this.join(t??this.url,this.token,this.signalOpts)}catch(a){throw a instanceof Qe&&a.reason===ve.NotAllowed?new At("could not reconnect, token might be expired"):new Is}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(te.SignalRestarted,s),yield this.waitForPCReconnected(),this.client.currentState!==tt.CONNECTED)throw new Is("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(te.Restarted)}catch(s){const a=yield(i=this.regionUrlProvider)===null||i===void 0?void 0:i.getNextBestRegionUrl();if(a){yield this.restartConnection(a);return}else throw(r=this.regionUrlProvider)===null||r===void 0||r.resetAttempts(),s}})}resumeConnection(t){return P(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new At("could not reconnect, url or token not saved");if(!this.pcManager)throw new At("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(te.Resuming);let i;try{this.setupSignalClientCallbacks(),i=yield this.client.reconnect(this.url,this.token,this.participantSid,t)}catch(r){let s="";throw r instanceof Error&&(s=r.message,this.log.error(r.message,Object.assign(Object.assign({},this.logContext),{error:r}))),r instanceof Qe&&r.reason===ve.NotAllowed?new At("could not reconnect, token might be expired"):r instanceof Qe&&r.reason===ve.LeaveRequest?r:new Is(s)}if(this.emit(te.SignalResumed),i){const r=this.makeRTCConfiguration(i);this.pcManager.updateConfiguration(r),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=i.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==tt.CONNECTED)throw new Is("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),i?.lastMessageSeq&&this.resendReliableMessagesForResume(i.lastMessageSeq),this.emit(te.Resumed)})}waitForPCInitialConnection(t,n){return P(this,void 0,void 0,function*(){if(!this.pcManager)throw new At("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,t)})}waitForPCReconnected(){return P(this,void 0,void 0,function*(){this.pcState=Qn.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield qt(ZA),!this.pcManager)throw new At("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Qn.Connected}catch(t){throw this.pcState=Qn.Disconnected,new Qe("could not establish PC connection, ".concat(t.message),ve.InternalError)}})}publishRpcResponse(t,n,i,r){return P(this,void 0,void 0,function*(){const s=new Kt({destinationIdentities:[t],kind:Ce.RELIABLE,value:{case:"rpcResponse",value:new dd({requestId:n,value:r?{case:"error",value:r.toProto()}:{case:"payload",value:i??""}})}});yield this.sendDataPacket(s,Ce.RELIABLE)})}publishRpcAck(t,n){return P(this,void 0,void 0,function*(){const i=new Kt({destinationIdentities:[t],kind:Ce.RELIABLE,value:{case:"rpcAck",value:new ud({requestId:n})}});yield this.sendDataPacket(i,Ce.RELIABLE)})}sendDataPacket(t,n){return P(this,void 0,void 0,function*(){if(yield this.ensurePublisherConnected(n),this.e2eeManager&&this.e2eeManager.isDataChannelEncryptionEnabled){const s=OP(t);if(s){const a=yield this.e2eeManager.encryptData(s.toBinary());t.value={case:"encryptedPacket",value:new xg({encryptedValue:a.payload,iv:a.iv,keyIndex:a.keyIndex})}}}n===Ce.RELIABLE&&(t.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const i=t.toBinary();yield this.waitForBufferStatusLow(n);const r=this.dataChannelForKind(n);if(r){if(n===Ce.RELIABLE&&this.reliableMessageBuffer.push({data:i,sequence:t.sequence}),this.attemptingReconnect)return;r.send(i)}this.updateAndEmitDCBufferStatus(n)})}resendReliableMessagesForResume(t){return P(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(Ce.RELIABLE);const n=this.dataChannelForKind(Ce.RELIABLE);n&&(this.reliableMessageBuffer.popToSequence(t),this.reliableMessageBuffer.getAll().forEach(i=>{n.send(i.data)})),this.updateAndEmitDCBufferStatus(Ce.RELIABLE)})}waitForBufferStatusLow(t){return new Promise((n,i)=>P(this,void 0,void 0,function*(){if(this.isBufferStatusLow(t))n();else{const r=()=>i("Engine closed");for(this.once(te.Closing,r);!this.dcBufferStatus.get(t);)yield qt(10);this.off(te.Closing,r),n()}}))}ensureDataTransportConnected(t){return P(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return(function*(){var s;if(!i.pcManager)throw new At("PC manager is closed");const a=r?i.pcManager.subscriber:i.pcManager.publisher,o=r?"Subscriber":"Publisher";if(!a)throw new Qe("".concat(o," connection not set"),ve.InternalError);let c=!1;!r&&!i.dataChannelForKind(n,r)&&(i.createDataChannels(),c=!0),!c&&!r&&!i.pcManager.publisher.isICEConnected&&i.pcManager.publisher.getICEConnectionState()!=="checking"&&(c=!0),c&&i.negotiate().catch(d=>{ye.error(d,i.logContext)});const l=i.dataChannelForKind(n,r);if(l?.readyState==="open")return;const u=new Date().getTime()+i.peerConnectionTimeout;for(;new Date().getTime()<u;){if(a.isICEConnected&&((s=i.dataChannelForKind(n,r))===null||s===void 0?void 0:s.readyState)==="open")return;yield qt(50)}throw new Qe("could not establish ".concat(o," connection, state: ").concat(a.getICEConnectionState()),ve.InternalError)})()})}ensurePublisherConnected(t){return P(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(t,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==ft.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return P(this,void 0,void 0,function*(){return new Promise((t,n)=>P(this,void 0,void 0,function*(){if(!this.pcManager){n(new Id("PC manager is closed"));return}this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const i=new AbortController,r=()=>{i.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),t()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(te.Closing,r),this.pcManager.publisher.once(Rs.RTPVideoPayloadTypes,s=>{const a=new Map;s.forEach(o=>{const c=o.codec.toLowerCase();qP(c)&&a.set(o.payload,c)}),this.emit(te.RTPVideoMapUpdate,a)});try{yield this.pcManager.negotiate(i),t()}catch(s){s instanceof Id&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Mr.RR_UNKNOWN),n(s)}finally{this.off(te.Closing,r)}}))})}dataChannelForKind(t,n){if(n){if(t===Ce.LOSSY)return this.lossyDCSub;if(t===Ce.RELIABLE)return this.reliableDCSub}else{if(t===Ce.LOSSY)return this.lossyDC;if(t===Ce.RELIABLE)return this.reliableDC}}sendSyncState(t,n){var i,r,s,a;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}const o=this.pcManager.publisher.getLocalDescription(),c=this.pcManager.publisher.getRemoteDescription(),l=(i=this.pcManager.subscriber)===null||i===void 0?void 0:i.getRemoteDescription(),u=(r=this.pcManager.subscriber)===null||r===void 0?void 0:r.getLocalDescription(),d=(a=(s=this.signalOpts)===null||s===void 0?void 0:s.autoSubscribe)!==null&&a!==void 0?a:!0,h=new Array,p=new Array;t.forEach(m=>{m.isDesired!==d&&h.push(m.trackSid),m.isEnabled||p.push(m.trackSid)}),this.client.sendSyncState(new bd({answer:this.options.singlePeerConnection?c?As({sdp:c.sdp,type:c.type}):void 0:u?As({sdp:u.sdp,type:u.type}):void 0,offer:this.options.singlePeerConnection?o?As({sdp:o.sdp,type:o.type}):void 0:l?As({sdp:l.sdp,type:l.type}):void 0,subscription:new Ec({trackSids:h,subscribe:!d,participantTracks:[]}),publishTracks:YP(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:p,datachannelReceiveStates:this.reliableReceivedState.map((m,O)=>new Gg({publisherSid:O,lastSeq:m}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const t=[],n=(i,r)=>{i?.id!==void 0&&i.id!==null&&t.push(new Yg({label:i.label,id:i.id,target:r}))};return n(this.dataChannelForKind(Ce.LOSSY),Xn.PUBLISHER),n(this.dataChannelForKind(Ce.RELIABLE),Xn.PUBLISHER),n(this.dataChannelForKind(Ce.LOSSY,!0),Xn.SUBSCRIBER),n(this.dataChannelForKind(Ce.RELIABLE,!0),Xn.SUBSCRIBER),t}clearReconnectTimeout(){this.reconnectTimeout&&Ut.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){on()&&(window.addEventListener("online",this.handleBrowserOnLine),window.addEventListener("offline",this.handleBrowserOffline))}deregisterOnLineListener(){on()&&(window.removeEventListener("online",this.handleBrowserOnLine),window.removeEventListener("offline",this.handleBrowserOffline))}getTrackIdForReceiver(t){var n;const i=(n=this.pcManager)===null||n===void 0?void 0:n.getMidForReceiver(t);if(i){const r=Object.entries(this.midToTrackId).find(s=>{let[a]=s;return a===i});if(r)return r[1]}}}class Is extends Error{}function WA(e){return e!==void 0&&e>13}function Qb(e,t){const n=e.participantIdentity?e.participantIdentity:t.participantIdentity;e.participantIdentity=n,t.participantIdentity=n;const i=e.destinationIdentities.length!==0?e.destinationIdentities:t.destinationIdentities;e.destinationIdentities=i,t.destinationIdentities=i}class Nb{get info(){return this._info}validateBytesReceived(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(typeof this.totalByteSize!="number"||this.totalByteSize===0)){if(t&&this.bytesReceived<this.totalByteSize)throw new Rn("Not enough chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, only received ").concat(this.bytesReceived," bytes"),Jt.Incomplete);if(this.bytesReceived>this.totalByteSize)throw new Rn("Extra chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, received ").concat(this.bytesReceived," bytes"),Jt.LengthExceeded)}}constructor(t,n,i,r){this.reader=n,this.totalByteSize=i,this._info=t,this.bytesReceived=0,this.outOfBandFailureRejectingFuture=r}}class GA extends Nb{handleChunkReceived(t){var n;this.bytesReceived+=t.content.byteLength,this.validateBytesReceived();const i=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,i)}[Symbol.asyncIterator](){const t=this.reader.getReader();let n=new In,i=null,r=null;if(this.signal){const a=this.signal;r=()=>{var o;(o=n.reject)===null||o===void 0||o.call(n,a.reason)},a.addEventListener("abort",r),i=a}const s=()=>{t.releaseLock(),i&&r&&i.removeEventListener("abort",r),this.signal=void 0};return{next:()=>P(this,void 0,void 0,function*(){var a,o;try{const{done:c,value:l}=yield Promise.race([t.read(),n.promise,(o=(a=this.outOfBandFailureRejectingFuture)===null||a===void 0?void 0:a.promise)!==null&&o!==void 0?o:new Promise(()=>{})]);return c?(this.validateBytesReceived(!0),{done:!0,value:void 0}):(this.handleChunkReceived(l),{done:!1,value:l.content})}catch(c){throw s(),c}}),return(){return P(this,void 0,void 0,function*(){return s(),{done:!0,value:void 0}})}}}withAbortSignal(t){return this.signal=t,this}readAll(){return P(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(function*(){var i,r,s,a;let o=new Set;const c=n.signal?t.withAbortSignal(n.signal):t;try{for(var l=!0,u=Pi(c),d;d=yield u.next(),i=d.done,!i;l=!0){a=d.value,l=!1;const h=a;o.add(h)}}catch(h){r={error:h}}finally{try{!l&&!i&&(s=u.return)&&(yield s.call(u))}finally{if(r)throw r.error}}return Array.from(o)})()})}}class YA extends Nb{constructor(t,n,i,r){super(t,n,i,r),this.receivedChunks=new Map}handleChunkReceived(t){var n;const i=Uc(t.chunkIndex),r=this.receivedChunks.get(i);if(r&&r.version>t.version)return;this.receivedChunks.set(i,t),this.bytesReceived+=t.content.byteLength,this.validateBytesReceived();const s=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,s)}[Symbol.asyncIterator](){const t=this.reader.getReader(),n=new TextDecoder("utf-8",{fatal:!0});let i=new In,r=null,s=null;if(this.signal){const o=this.signal;s=()=>{var c;(c=i.reject)===null||c===void 0||c.call(i,o.reason)},o.addEventListener("abort",s),r=o}const a=()=>{t.releaseLock(),r&&s&&r.removeEventListener("abort",s),this.signal=void 0};return{next:()=>P(this,void 0,void 0,function*(){var o,c;try{const{done:l,value:u}=yield Promise.race([t.read(),i.promise,(c=(o=this.outOfBandFailureRejectingFuture)===null||o===void 0?void 0:o.promise)!==null&&c!==void 0?c:new Promise(()=>{})]);if(l)return this.validateBytesReceived(!0),{done:!0,value:void 0};{this.handleChunkReceived(u);let d;try{d=n.decode(u.content)}catch(h){throw new Rn("Cannot decode datastream chunk ".concat(u.chunkIndex," as text: ").concat(h),Jt.DecodeFailed)}return{done:!1,value:d}}}catch(l){throw a(),l}}),return(){return P(this,void 0,void 0,function*(){return a(),{done:!0,value:void 0}})}}}withAbortSignal(t){return this.signal=t,this}readAll(){return P(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(function*(){var i,r,s,a;let o="";const c=n.signal?t.withAbortSignal(n.signal):t;try{for(var l=!0,u=Pi(c),d;d=yield u.next(),i=d.done,!i;l=!0)a=d.value,l=!1,o+=a}catch(h){r={error:h}}finally{try{!l&&!i&&(s=u.return)&&(yield s.call(u))}finally{if(r)throw r.error}}return o})()})}}class HA{constructor(){this.log=ye,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map}registerTextStreamHandler(t,n){if(this.textStreamHandlers.has(t))throw new Rn('A text stream handler for topic "'.concat(t,'" has already been set.'),Jt.HandlerAlreadyRegistered);this.textStreamHandlers.set(t,n)}unregisterTextStreamHandler(t){this.textStreamHandlers.delete(t)}registerByteStreamHandler(t,n){if(this.byteStreamHandlers.has(t))throw new Rn('A byte stream handler for topic "'.concat(t,'" has already been set.'),Jt.HandlerAlreadyRegistered);this.byteStreamHandlers.set(t,n)}unregisterByteStreamHandler(t){this.byteStreamHandlers.delete(t)}clearControllers(){this.byteStreamControllers.clear(),this.textStreamControllers.clear()}validateParticipantHasNoActiveDataStreams(t){var n,i,r,s;const a=Array.from(this.textStreamControllers.entries()).filter(c=>c[1].sendingParticipantIdentity===t),o=Array.from(this.byteStreamControllers.entries()).filter(c=>c[1].sendingParticipantIdentity===t);if(a.length>0||o.length>0){const c=new Rn("Participant ".concat(t," unexpectedly disconnected in the middle of sending data"),Jt.AbnormalEnd);for(const[l,u]of o)(i=(n=u.outOfBandFailureRejectingFuture).reject)===null||i===void 0||i.call(n,c),this.byteStreamControllers.delete(l);for(const[l,u]of a)(s=(r=u.outOfBandFailureRejectingFuture).reject)===null||s===void 0||s.call(r,c),this.textStreamControllers.delete(l)}}handleDataStreamPacket(t,n){return P(this,void 0,void 0,function*(){switch(t.value.case){case"streamHeader":return this.handleStreamHeader(t.value.value,t.participantIdentity,n);case"streamChunk":return this.handleStreamChunk(t.value.value,n);case"streamTrailer":return this.handleStreamTrailer(t.value.value,n);default:throw new Error('DataPacket of value "'.concat(t.value.case,'" is not data stream related!'))}})}handleStreamHeader(t,n,i){return P(this,void 0,void 0,function*(){var r;if(t.contentHeader.case==="byteHeader"){const s=this.byteStreamHandlers.get(t.topic);if(!s){this.log.debug("ignoring incoming byte stream due to no handler for topic",t.topic);return}let a;const o=new In;o.promise.catch(u=>{this.log.error(u)});const c={id:t.streamId,name:(r=t.contentHeader.value.name)!==null&&r!==void 0?r:"unknown",mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Uc(t.timestamp),attributes:t.attributes,encryptionType:i},l=new ReadableStream({start:u=>{if(a=u,this.textStreamControllers.has(t.streamId))throw new Rn("A data stream read is already in progress for a stream with id ".concat(t.streamId,"."),Jt.AlreadyOpened);this.byteStreamControllers.set(t.streamId,{info:c,controller:a,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:o})}});s(new GA(c,l,Uc(t.totalLength),o),{identity:n})}else if(t.contentHeader.case==="textHeader"){const s=this.textStreamHandlers.get(t.topic);if(!s){this.log.debug("ignoring incoming text stream due to no handler for topic",t.topic);return}let a;const o=new In;o.promise.catch(u=>{this.log.error(u)});const c={id:t.streamId,mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Number(t.timestamp),attributes:t.attributes,encryptionType:i},l=new ReadableStream({start:u=>{if(a=u,this.textStreamControllers.has(t.streamId))throw new Rn("A data stream read is already in progress for a stream with id ".concat(t.streamId,"."),Jt.AlreadyOpened);this.textStreamControllers.set(t.streamId,{info:c,controller:a,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:o})}});s(new YA(c,l,Uc(t.totalLength),o),{identity:n})}})}handleStreamChunk(t,n){const i=this.byteStreamControllers.get(t.streamId);i&&(i.info.encryptionType!==n?(i.controller.error(new Rn("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),Jt.EncryptionTypeMismatch)),this.byteStreamControllers.delete(t.streamId)):t.content.length>0&&i.controller.enqueue(t));const r=this.textStreamControllers.get(t.streamId);r&&(r.info.encryptionType!==n?(r.controller.error(new Rn("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),Jt.EncryptionTypeMismatch)),this.textStreamControllers.delete(t.streamId)):t.content.length>0&&r.controller.enqueue(t))}handleStreamTrailer(t,n){const i=this.textStreamControllers.get(t.streamId);i&&(i.info.encryptionType!==n?i.controller.error(new Rn("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),Jt.EncryptionTypeMismatch)):(i.info.attributes=Object.assign(Object.assign({},i.info.attributes),t.attributes),i.controller.close(),this.textStreamControllers.delete(t.streamId)));const r=this.byteStreamControllers.get(t.streamId);r&&(r.info.encryptionType!==n?r.controller.error(new Rn("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),Jt.EncryptionTypeMismatch)):(r.info.attributes=Object.assign(Object.assign({},r.info.attributes),t.attributes),r.controller.close()),this.byteStreamControllers.delete(t.streamId))}}class Db{constructor(t,n,i){this.writableStream=t,this.defaultWriter=t.getWriter(),this.onClose=i,this.info=n}write(t){return this.defaultWriter.write(t)}close(){return P(this,void 0,void 0,function*(){var t;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(t=this.onClose)===null||t===void 0||t.call(this)})}}class KA extends Db{}class JA extends Db{}const Mb=15e3;class eR{constructor(t,n){this.engine=t,this.log=n}setupEngine(t){this.engine=t}sendText(t,n){return P(this,void 0,void 0,function*(){var i;const r=crypto.randomUUID(),a=new TextEncoder().encode(t).byteLength,o=(i=n?.attachments)===null||i===void 0?void 0:i.map(()=>crypto.randomUUID()),c=new Array(o?o.length+1:1).fill(0),l=(d,h)=>{var p;c[h]=d;const m=c.reduce((O,b)=>O+b,0);(p=n?.onProgress)===null||p===void 0||p.call(n,m)},u=yield this.streamText({streamId:r,totalSize:a,destinationIdentities:n?.destinationIdentities,topic:n?.topic,attachedStreamIds:o,attributes:n?.attributes});return yield u.write(t),l(1,0),yield u.close(),n?.attachments&&o&&(yield Promise.all(n.attachments.map((d,h)=>P(this,void 0,void 0,function*(){return this._sendFile(o[h],d,{topic:n.topic,mimeType:d.type,onProgress:p=>{l(p,h+1)}})})))),u.info})}streamText(t){return P(this,void 0,void 0,function*(){var n,i,r;const s=(n=t?.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),a={id:s,mimeType:"text/plain",timestamp:Date.now(),topic:(i=t?.topic)!==null&&i!==void 0?i:"",size:t?.totalSize,attributes:t?.attributes,encryptionType:!((r=this.engine.e2eeManager)===null||r===void 0)&&r.isDataChannelEncryptionEnabled?Pt.GCM:Pt.NONE},o=new kc({streamId:s,mimeType:a.mimeType,topic:a.topic,timestamp:Xr(a.timestamp),totalLength:Xr(t?.totalSize),attributes:a.attributes,contentHeader:{case:"textHeader",value:new qg({version:t?.version,attachedStreamIds:t?.attachedStreamIds,replyToStreamId:t?.replyToStreamId,operationType:t?.type==="update"?hd.UPDATE:hd.CREATE})}}),c=t?.destinationIdentities,l=new Kt({destinationIdentities:c,value:{case:"streamHeader",value:o}});yield this.engine.sendDataPacket(l,Ce.RELIABLE);let u=0;const d=this.engine,h=new WritableStream({write(O){return P(this,void 0,void 0,function*(){for(const b of jP(O,Mb)){const v=new yc({content:b,streamId:s,chunkIndex:Xr(u)}),T=new Kt({destinationIdentities:c,value:{case:"streamChunk",value:v}});yield d.sendDataPacket(T,Ce.RELIABLE),u+=1}})},close(){return P(this,void 0,void 0,function*(){const O=new Sc({streamId:s}),b=new Kt({destinationIdentities:c,value:{case:"streamTrailer",value:O}});yield d.sendDataPacket(b,Ce.RELIABLE)})},abort(O){console.log("Sink error:",O)}});let p=()=>P(this,void 0,void 0,function*(){yield m.close()});d.once(te.Closing,p);const m=new KA(h,a,()=>this.engine.off(te.Closing,p));return m})}sendFile(t,n){return P(this,void 0,void 0,function*(){const i=crypto.randomUUID();return yield this._sendFile(i,t,n),{id:i}})}_sendFile(t,n,i){return P(this,void 0,void 0,function*(){var r;const s=yield this.streamBytes({streamId:t,totalSize:n.size,name:n.name,mimeType:(r=i?.mimeType)!==null&&r!==void 0?r:n.type,topic:i?.topic,destinationIdentities:i?.destinationIdentities}),a=n.stream().getReader();for(;;){const{done:o,value:c}=yield a.read();if(o)break;yield s.write(c)}return yield s.close(),s.info})}streamBytes(t){return P(this,void 0,void 0,function*(){var n,i,r,s,a,o;const c=(n=t?.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),l=t?.destinationIdentities,u={id:c,mimeType:(i=t?.mimeType)!==null&&i!==void 0?i:"application/octet-stream",topic:(r=t?.topic)!==null&&r!==void 0?r:"",timestamp:Date.now(),attributes:t?.attributes,size:t?.totalSize,name:(s=t?.name)!==null&&s!==void 0?s:"unknown",encryptionType:!((a=this.engine.e2eeManager)===null||a===void 0)&&a.isDataChannelEncryptionEnabled?Pt.GCM:Pt.NONE},d=new kc({totalLength:Xr((o=u.size)!==null&&o!==void 0?o:0),mimeType:u.mimeType,streamId:c,topic:u.topic,timestamp:Xr(Date.now()),attributes:u.attributes,contentHeader:{case:"byteHeader",value:new Xg({name:u.name})}}),h=new Kt({destinationIdentities:l,value:{case:"streamHeader",value:d}});yield this.engine.sendDataPacket(h,Ce.RELIABLE);let p=0;const m=new Ht,O=this.engine,b=this.log,v=new WritableStream({write(S){return P(this,void 0,void 0,function*(){const k=yield m.lock();let y=0;try{for(;y<S.byteLength;){const _=S.slice(y,y+Mb),x=new Kt({destinationIdentities:l,value:{case:"streamChunk",value:new yc({content:_,streamId:c,chunkIndex:Xr(p)})}});yield O.sendDataPacket(x,Ce.RELIABLE),p+=1,y+=_.byteLength}}finally{k()}})},close(){return P(this,void 0,void 0,function*(){const S=new Sc({streamId:c}),k=new Kt({destinationIdentities:l,value:{case:"streamTrailer",value:S}});yield O.sendDataPacket(k,Ce.RELIABLE)})},abort(S){b.error("Sink error:",S)}});return new JA(v,u)})}}class Lb extends Z{constructor(t,n,i,r,s){super(t,i,s),this.sid=n,this.receiver=r}get isLocal(){return!1}setMuted(t){this.isMuted!==t&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?J.Muted:J.Unmuted,this))}setMediaStream(t){this.mediaStream=t;const n=i=>{i.track===this._mediaStreamTrack&&(t.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(J.Ended,this))};t.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return P(this,void 0,void 0,function*(){var t;return!((t=this.receiver)===null||t===void 0)&&t.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(t){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=t:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),oh)),HP()&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const t=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>t());const i=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(i){const{timestamp:r,rtpTimestamp:s}=i;s&&this.rtpTimestamp!==s&&(this.emit(J.TimeSyncUpdate,{timestamp:r,rtpTimestamp:s}),this.rtpTimestamp=s)}};t()}}class tR extends Lb{constructor(t,n,i,r,s,a){super(t,n,Z.Kind.Audio,i,a),this.monitorReceiver=()=>P(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const o=yield this.getReceiverStats();o&&this.prevStats&&this.receiver&&(this._currentBitrate=qc(o,this.prevStats)),this.prevStats=o}),this.audioContext=r,this.webAudioPluginNodes=[],s&&(this.sinkId=s.deviceId)}setVolume(t){var n;for(const i of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(t,0,.1):i.volume=t;ri()&&this._mediaStreamTrack._setVolume(t),this.elementVolume=t}getVolume(){if(this.elementVolume)return this.elementVolume;if(ri())return 1;let t=0;return this.attachedElements.forEach(n=>{n.volume>t&&(t=n.volume)}),t}setSinkId(t){return P(this,void 0,void 0,function*(){this.sinkId=t,yield Promise.all(this.attachedElements.map(n=>{if(qd(n))return n.setSinkId(t)}))})}attach(t){const n=this.attachedElements.length===0;return t?super.attach(t):t=super.attach(),this.sinkId&&qd(t)&&t.setSinkId(this.sinkId).catch(i=>{this.log.error("Failed to set sink id on remote audio track",i,this.logContext)}),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,t),t.volume=0,t.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),t}detach(t){let n;return t?(n=super.detach(t),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(t){this.audioContext=t,t&&this.attachedElements.length>0?this.connectWebAudio(t,this.attachedElements[0]):t||this.disconnectWebAudio()}setWebAudioPlugins(t){this.webAudioPluginNodes=t,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(t,n){this.disconnectWebAudio(),this.sourceNode=t.createMediaStreamSource(n.srcObject);let i=this.sourceNode;this.webAudioPluginNodes.forEach(r=>{i.connect(r),i=r}),this.gainNode=t.createGain(),i.connect(this.gainNode),this.gainNode.connect(t.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),t.state!=="running"&&t.resume().then(()=>{t.state!=="running"&&this.emit(J.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(r=>{this.emit(J.AudioPlaybackFailed,r)})}disconnectWebAudio(){var t,n;(t=this.gainNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return P(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n;return t.forEach(i=>{i.type==="inbound-rtp"&&(n={type:"audio",streamId:i.id,timestamp:i.timestamp,jitter:i.jitter,bytesReceived:i.bytesReceived,concealedSamples:i.concealedSamples,concealmentEvents:i.concealmentEvents,silentConcealedSamples:i.silentConcealedSamples,silentConcealmentEvents:i.silentConcealmentEvents,totalAudioEnergy:i.totalAudioEnergy,totalSamplesDuration:i.totalSamplesDuration})}),n})}}const ph=100;class nR extends Lb{constructor(t,n,i,r,s){super(t,n,Z.Kind.Video,i,s),this.elementInfos=[],this.monitorReceiver=()=>P(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const a=yield this.getReceiverStats();a&&this.prevStats&&this.receiver&&(this._currentBitrate=qc(a,this.prevStats)),this.prevStats=a}),this.debouncedHandleResize=nh(()=>{this.updateDimensions()},ph),this.adaptiveStreamSettings=r}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}setStreamState(t){super.setStreamState(t),this.log.debug("setStreamState",t),this.isAdaptiveStream&&t===Z.StreamState.Active&&this.updateVisibility()}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(t){super.setMuted(t),this.attachedElements.forEach(n=>{t?xs(this._mediaStreamTrack,n):Es(this._mediaStreamTrack,n)})}attach(t){if(t?super.attach(t):t=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===t)===void 0){const n=new iR(t);this.observeElementInfo(n)}return t}observeElementInfo(t){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===t)===void 0?(t.handleResize=()=>{this.debouncedHandleResize()},t.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(t),t.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(t){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}const n=this.elementInfos.filter(i=>i===t);for(const i of n)i.stopObserving();this.elementInfos=this.elementInfos.filter(i=>i!==t),this.updateVisibility(),this.debouncedHandleResize()}detach(t){let n=[];if(t)return this.stopObservingElement(t),super.detach(t);n=super.detach();for(const i of n)this.stopObservingElement(i);return n}getDecoderImplementation(){var t;return(t=this.prevStats)===null||t===void 0?void 0:t.decoderImplementation}getReceiverStats(){return P(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n,i="",r=new Map;return t.forEach(s=>{s.type==="inbound-rtp"?(i=s.codecId,n={type:"video",streamId:s.id,framesDecoded:s.framesDecoded,framesDropped:s.framesDropped,framesReceived:s.framesReceived,packetsReceived:s.packetsReceived,packetsLost:s.packetsLost,frameWidth:s.frameWidth,frameHeight:s.frameHeight,pliCount:s.pliCount,firCount:s.firCount,nackCount:s.nackCount,jitter:s.jitter,timestamp:s.timestamp,bytesReceived:s.bytesReceived,decoderImplementation:s.decoderImplementation}):s.type==="codec"&&r.set(s.id,s)}),n&&i!==""&&r.get(i)&&(n.mimeType=r.get(i).mimeType),n})}stopObservingElement(t){const n=this.elementInfos.filter(i=>i.element===t);for(const i of n)this.stopObservingElementInfo(i)}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return P(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(t){var n,i;const r=this.elementInfos.reduce((c,l)=>Math.max(c,l.visibilityChangedAt||0),0),s=!((i=(n=this.adaptiveStreamSettings)===null||n===void 0?void 0:n.pauseVideoInBackground)!==null&&i!==void 0)||i?this.isInBackground:!1,a=this.elementInfos.some(c=>c.pictureInPicture),o=this.elementInfos.some(c=>c.visible)&&!s||a;if(!(this.lastVisible===o&&!t)){if(!o&&Date.now()-r<ph){Ut.setTimeout(()=>{this.updateVisibility()},ph);return}this.lastVisible=o,this.emit(J.VisibilityChanged,o,this)}}updateDimensions(){var t,n;let i=0,r=0;const s=this.getPixelDensity();for(const a of this.elementInfos){const o=a.width()*s,c=a.height()*s;o+c>i+r&&(i=o,r=c)}((t=this.lastDimensions)===null||t===void 0?void 0:t.width)===i&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===r||(this.lastDimensions={width:i,height:r},this.emit(J.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var t;const n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pixelDensity;return n==="screen"?Kv():n||(Kv()>2?2:1)}}class iR{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(t,n){this.onVisibilityChanged=i=>{var r;const{target:s,isIntersecting:a}=i;s===this.element&&(this.isIntersecting=a,this.isPiP=Xa(this.element),this.visibilityChangedAt=Date.now(),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this))},this.onEnterPiP=()=>{var i,r,s;(r=(i=window.documentPictureInPicture)===null||i===void 0?void 0:i.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Xa(this.element),(s=this.handleVisibilityChanged)===null||s===void 0||s.call(this)},this.onLeavePiP=()=>{var i;this.isPiP=Xa(this.element),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this)},this.element=t,this.isIntersecting=n??fh(t),this.isPiP=on()&&Xa(t),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var t,n,i;this.isIntersecting=fh(this.element),this.isPiP=Xa(this.element),this.element.handleResize=()=>{var r;(r=this.handleResize)===null||r===void 0||r.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,eb().observe(this.element),Jv().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(t=window.documentPictureInPicture)===null||t===void 0||t.addEventListener("enter",this.onEnterPiP),(i=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||i===void 0||i.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var t,n,i,r,s;(t=eb())===null||t===void 0||t.unobserve(this.element),(n=Jv())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(i=window.documentPictureInPicture)===null||i===void 0||i.removeEventListener("enter",this.onEnterPiP),(s=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||s===void 0||s.removeEventListener("pagehide",this.onLeavePiP)}}function Xa(e){var t,n;return document.pictureInPictureElement===e?!0:!((t=window.documentPictureInPicture)===null||t===void 0)&&t.window?fh(e,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window):!1}function fh(e,t){const n=t||window;let i=e.offsetTop,r=e.offsetLeft;const s=e.offsetWidth,a=e.offsetHeight,{hidden:o}=e,{display:c}=getComputedStyle(e);for(;e.offsetParent;)e=e.offsetParent,i+=e.offsetTop,r+=e.offsetLeft;return i<n.pageYOffset+n.innerHeight&&r<n.pageXOffset+n.innerWidth&&i+a>n.pageYOffset&&r+s>n.pageXOffset&&!o&&c!=="none"}class Qi extends ii.EventEmitter{constructor(t,n,i,r){var s;super(),this.metadataMuted=!1,this.encryption=Pt.NONE,this.log=ye,this.handleMuted=()=>{this.emit(J.Muted)},this.handleUnmuted=()=>{this.emit(J.Unmuted)},this.log=Ci((s=r?.loggerName)!==null&&s!==void 0?s:Fn.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=t,this.trackSid=n,this.trackName=i,this.source=Z.Source.Unknown}setTrack(t){this.track&&(this.track.off(J.Muted,this.handleMuted),this.track.off(J.Unmuted,this.handleUnmuted)),this.track=t,t&&(t.on(J.Muted,this.handleMuted),t.on(J.Unmuted,this.handleUnmuted))}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),Pe(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Pt.NONE}get audioTrack(){if(ai(this.track))return this.track}get videoTrack(){if(or(this.track))return this.track}updateInfo(t){this.trackSid=t.sid,this.trackName=t.name,this.source=Z.sourceFromProto(t.source),this.mimeType=t.mimeType,this.kind===Z.Kind.Video&&t.width>0&&(this.dimensions={width:t.width,height:t.height},this.simulcasted=t.simulcast),this.encryption=t.encryption,this.trackInfo=t,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:t}))}}(function(e){(function(t){t.Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed"})(e.SubscriptionStatus||(e.SubscriptionStatus={})),(function(t){t.Allowed="allowed",t.NotAllowed="not_allowed"})(e.PermissionStatus||(e.PermissionStatus={}))})(Qi||(Qi={}));class mh extends Qi{get isUpstreamPaused(){var t;return(t=this.track)===null||t===void 0?void 0:t.isUpstreamPaused}constructor(t,n,i,r){super(t,n.sid,n.name,r),this.track=void 0,this.handleTrackEnded=()=>{this.emit(J.Ended)},this.handleCpuConstrained=()=>{this.track&&or(this.track)&&this.emit(J.CpuConstrained,this.track)},this.updateInfo(n),this.setTrack(i)}setTrack(t){this.track&&(this.track.off(J.Ended,this.handleTrackEnded),this.track.off(J.CpuConstrained,this.handleCpuConstrained)),super.setTrack(t),t&&(t.on(J.Ended,this.handleTrackEnded),t.on(J.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return P(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.mute()})}unmute(){return P(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.unmute()})}pauseUpstream(){return P(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.pauseUpstream()})}resumeUpstream(){return P(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.resumeUpstream()})}getTrackFeatures(){var t;if(ai(this.track)){const n=this.track.getSourceTrackSettings(),i=new Set;return n.autoGainControl&&i.add(Nt.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&i.add(Nt.TF_ECHO_CANCELLATION),n.noiseSuppression&&i.add(Nt.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&i.add(Nt.TF_STEREO),!((t=this.options)===null||t===void 0)&&t.dtx||i.add(Nt.TF_NO_DTX),this.track.enhancedNoiseCancellation&&i.add(Nt.TF_ENHANCED_NOISE_CANCELLATION),Array.from(i.values())}else return[]}}function Bc(e,t){return P(this,void 0,void 0,function*(){e??(e={});let n=!1;const{audioProcessor:i,videoProcessor:r,optionsWithoutProcessor:s}=ab(e);let a=s.audio,o=s.video;if(i&&typeof s.audio=="object"&&(s.audio.processor=i),r&&typeof s.video=="object"&&(s.video.processor=r),e.audio&&typeof s.audio=="object"&&typeof s.audio.deviceId=="string"){const d=s.audio.deviceId;s.audio.deviceId={exact:d},n=!0,a=Object.assign(Object.assign({},s.audio),{deviceId:{ideal:d}})}if(s.video&&typeof s.video=="object"&&typeof s.video.deviceId=="string"){const d=s.video.deviceId;s.video.deviceId={exact:d},n=!0,o=Object.assign(Object.assign({},s.video),{deviceId:{ideal:d}})}s.audio===!0?s.audio={deviceId:"default"}:typeof s.audio=="object"&&s.audio!==null&&(s.audio=Object.assign(Object.assign({},s.audio),{deviceId:s.audio.deviceId||"default"})),s.video===!0?s.video={deviceId:"default"}:typeof s.video=="object"&&!s.video.deviceId&&(s.video.deviceId="default");const c=ib(s,bb,Tb),l=Wd(c),u=navigator.mediaDevices.getUserMedia(l);s.audio&&(Dt.userMediaPromiseMap.set("audioinput",u),u.catch(()=>Dt.userMediaPromiseMap.delete("audioinput"))),s.video&&(Dt.userMediaPromiseMap.set("videoinput",u),u.catch(()=>Dt.userMediaPromiseMap.delete("videoinput")));try{const d=yield u;return yield Promise.all(d.getTracks().map(h=>P(this,void 0,void 0,function*(){const p=h.kind==="audio";let m=p?c.audio:c.video;(typeof m=="boolean"||!m)&&(m={});let O;const b=p?l.audio:l.video;typeof b!="boolean"&&(O=b);const v=h.getSettings().deviceId;O?.deviceId&&ar(O.deviceId)!==v?O.deviceId=v:O||(O={deviceId:v});const T=QA(h,O,t);return T.kind===Z.Kind.Video?T.source=Z.Source.Camera:T.kind===Z.Kind.Audio&&(T.source=Z.Source.Microphone),T.mediaStream=d,ai(T)&&i?yield T.setProcessor(i):or(T)&&r&&(yield T.setProcessor(r)),T})))}catch(d){if(!n)throw d;return Bc(Object.assign(Object.assign({},e),{audio:a,video:o}),t)}})}function rR(e){return P(this,void 0,void 0,function*(){return(yield Bc({audio:!1,video:!0}))[0]})}function $b(e){return P(this,void 0,void 0,function*(){return(yield Bc({audio:e??!0,video:!1}))[0]})}var ur;(function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"})(ur||(ur={}));function sR(e){switch(e){case xa.EXCELLENT:return ur.Excellent;case xa.GOOD:return ur.Good;case xa.POOR:return ur.Poor;case xa.LOST:return ur.Lost;default:return ur.Unknown}}class Ub extends ii.EventEmitter{get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions)===null||t===void 0?void 0:t.loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(t=>t.isEncrypted)}get isAgent(){var t;return((t=this.permissions)===null||t===void 0?void 0:t.agent)||this.kind===Pa.AGENT}get isActive(){var t;return((t=this.participantInfo)===null||t===void 0?void 0:t.state)===ys.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(t,n,i,r,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Pa.STANDARD;var c;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=ur.Unknown,this.log=ye,this.log=Ci((c=a?.loggerName)!==null&&c!==void 0?c:Fn.Participant),this.loggerOptions=a,this.setMaxListeners(100),this.sid=t,this.identity=n,this.name=i,this.metadata=r,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=o,this._attributes=s??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(t){for(const[,n]of this.trackPublications)if(n.source===t)return n}getTrackPublicationByName(t){for(const[,n]of this.trackPublications)if(n.trackName===t)return n}waitUntilActive(){return this.isActive?Promise.resolve():this.activeFuture?this.activeFuture.promise:(this.activeFuture=new In,this.once(ie.Active,()=>{var t,n;(n=(t=this.activeFuture)===null||t===void 0?void 0:t.resolve)===null||n===void 0||n.call(t),this.activeFuture=void 0}),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var t;const n=this.getTrackPublication(Z.Source.Camera);return!(!((t=n?.isMuted)!==null&&t!==void 0)||t)}get isMicrophoneEnabled(){var t;const n=this.getTrackPublication(Z.Source.Microphone);return!(!((t=n?.isMuted)!==null&&t!==void 0)||t)}get isScreenShareEnabled(){return!!this.getTrackPublication(Z.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(t){var n;return this.participantInfo&&this.participantInfo.sid===t.sid&&this.participantInfo.version>t.version?!1:(this.identity=t.identity,this.sid=t.sid,this._setName(t.name),this._setMetadata(t.metadata),this._setAttributes(t.attributes),t.state===ys.ACTIVE&&((n=this.participantInfo)===null||n===void 0?void 0:n.state)!==ys.ACTIVE&&this.emit(ie.Active),t.permission&&this.setPermissions(t.permission),this.participantInfo=t,!0)}_setMetadata(t){const n=this.metadata!==t,i=this.metadata;this.metadata=t,n&&this.emit(ie.ParticipantMetadataChanged,i)}_setName(t){const n=this.name!==t;this.name=t,n&&this.emit(ie.ParticipantNameChanged,t)}_setAttributes(t){const n=KP(this.attributes,t);this._attributes=t,Object.keys(n).length>0&&this.emit(ie.AttributesChanged,n)}setPermissions(t){var n,i,r,s,a,o;const c=this.permissions,l=t.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||t.canSubscribe!==((i=this.permissions)===null||i===void 0?void 0:i.canSubscribe)||t.canPublishData!==((r=this.permissions)===null||r===void 0?void 0:r.canPublishData)||t.hidden!==((s=this.permissions)===null||s===void 0?void 0:s.hidden)||t.recorder!==((a=this.permissions)===null||a===void 0?void 0:a.recorder)||t.canPublishSources.length!==this.permissions.canPublishSources.length||t.canPublishSources.some((u,d)=>{var h;return u!==((h=this.permissions)===null||h===void 0?void 0:h.canPublishSources[d])})||t.canSubscribeMetrics!==((o=this.permissions)===null||o===void 0?void 0:o.canSubscribeMetrics);return this.permissions=t,l&&this.emit(ie.ParticipantPermissionsChanged,c),l}setIsSpeaking(t){t!==this.isSpeaking&&(this.isSpeaking=t,t&&(this.lastSpokeAt=new Date),this.emit(ie.IsSpeakingChanged,t))}setConnectionQuality(t){const n=this._connectionQuality;this._connectionQuality=sR(t),n!==this._connectionQuality&&this.emit(ie.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var t,n;this.activeFuture&&((n=(t=this.activeFuture).reject)===null||n===void 0||n.call(t,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(t){this.audioContext=t,this.audioTrackPublications.forEach(n=>ai(n.track)&&n.track.setAudioContext(t))}addTrackPublication(t){t.on(J.Muted,()=>{this.emit(ie.TrackMuted,t)}),t.on(J.Unmuted,()=>{this.emit(ie.TrackUnmuted,t)});const n=t;switch(n.track&&(n.track.sid=t.trackSid),this.trackPublications.set(t.trackSid,t),t.kind){case Z.Kind.Audio:this.audioTrackPublications.set(t.trackSid,t);break;case Z.Kind.Video:this.videoTrackPublications.set(t.trackSid,t);break}}}function aR(e){var t,n,i;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new Vg({participantIdentity:(t=e.participantIdentity)!==null&&t!==void 0?t:"",participantSid:(n=e.participantSid)!==null&&n!==void 0?n:"",allTracks:(i=e.allowAll)!==null&&i!==void 0?i:!1,trackSids:e.allowedTrackSids||[]})}class oR extends Ub{constructor(t,n,i,r,s,a){super(t,n,void 0,void 0,void 0,{loggerName:r.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Pt.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new In)},this.handleReconnected=()=>{var o,c;(c=(o=this.reconnectFuture)===null||o===void 0?void 0:o.resolve)===null||c===void 0||c.call(o),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var o,c,l,u,d,h;this.reconnectFuture&&(this.reconnectFuture.promise.catch(p=>this.log.warn(p.message,this.logContext)),(c=(o=this.reconnectFuture)===null||o===void 0?void 0:o.reject)===null||c===void 0||c.call(o,new Error("Got disconnected during reconnection attempt")),this.reconnectFuture=void 0),this.signalConnectedFuture&&((u=(l=this.signalConnectedFuture).reject)===null||u===void 0||u.call(l,new Error("Got disconnected without signal connected")),this.signalConnectedFuture=void 0),(h=(d=this.activeAgentFuture)===null||d===void 0?void 0:d.reject)===null||h===void 0||h.call(d,new Error("Got disconnected without active agent present")),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=o=>{var c,l;o.participant&&this.updateInfo(o.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new In),(l=(c=this.signalConnectedFuture).resolve)===null||l===void 0||l.call(c)},this.handleSignalRequestResponse=o=>{const{requestId:c,reason:l,message:u}=o,d=this.pendingSignalRequests.get(c);d&&(l!==Td.OK&&d.reject(new zv(u,l)),this.pendingSignalRequests.delete(c))},this.handleDataPacket=o=>{switch(o.value.case){case"rpcResponse":let c=o.value.value,l=null,u=null;c.value.case==="payload"?l=c.value.value:c.value.case==="error"&&(u=mt.fromProto(c.value.value)),this.handleIncomingRpcResponse(c.requestId,l,u);break;case"rpcAck":let d=o.value.value;this.handleIncomingRpcAck(d.requestId);break}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(o=>aR(o)))},this.onTrackUnmuted=o=>{this.onTrackMuted(o,o.isUpstreamPaused)},this.onTrackMuted=(o,c)=>{if(c===void 0&&(c=!0),!o.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),Pe(o)));return}this.engine.updateMuteStatus(o.sid,c)},this.onTrackUpstreamPaused=o=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),Pe(o))),this.onTrackMuted(o,!0)},this.onTrackUpstreamResumed=o=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),Pe(o))),this.onTrackMuted(o,o.isMuted)},this.onTrackFeatureUpdate=o=>{const c=this.audioTrackPublications.get(o.sid);if(!c){this.log.warn("Could not update local audio track settings, missing publication for track ".concat(o.sid),this.logContext);return}this.engine.client.sendUpdateLocalAudioTrack(c.trackSid,c.getTrackFeatures())},this.onTrackCpuConstrained=(o,c)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),Pe(c))),this.emit(ie.LocalTrackCpuConstrained,o,c)},this.handleSubscribedQualityUpdate=o=>P(this,void 0,void 0,function*(){var c,l,u,d,h;if(!(!((h=this.roomOptions)===null||h===void 0)&&h.dynacast))return;const p=this.videoTrackPublications.get(o.trackSid);if(!p){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:o.trackSid}));return}if(!p.videoTrack)return;const m=yield p.videoTrack.setPublishingCodecs(o.subscribedCodecs);try{for(var O=!0,b=Pi(m),v;v=yield b.next(),c=v.done,!c;O=!0){d=v.value,O=!1;const T=d;CP(T)&&(this.log.debug("publish ".concat(T," for ").concat(p.videoTrack.sid),Object.assign(Object.assign({},this.logContext),Pe(p))),yield this.publishAdditionalCodecForTrack(p.videoTrack,T,p.options))}}catch(T){l={error:T}}finally{try{!O&&!c&&(u=b.return)&&(yield u.call(b))}finally{if(l)throw l.error}}}),this.handleLocalTrackUnpublished=o=>{const c=this.trackPublications.get(o.trackSid);if(!c){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:o.trackSid}));return}this.unpublishTrack(c.track)},this.handleTrackEnded=o=>P(this,void 0,void 0,function*(){if(o.source===Z.Source.ScreenShare||o.source===Z.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),Pe(o))),this.unpublishTrack(o);else if(o.isUserProvided)yield o.mute();else if(Ii(o)||cr(o))try{if(on())try{const c=yield navigator?.permissions.query({name:o.source===Z.Source.Camera?"camera":"microphone"});if(c&&c.state==="denied")throw this.log.warn("user has revoked access to ".concat(o.source),Object.assign(Object.assign({},this.logContext),Pe(o))),c.onchange=()=>{c.state!=="denied"&&(o.isMuted||o.restartTrack(),c.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}o.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),Pe(o))),Ii(o)?yield o.restartTrack({deviceId:"default"}):yield o.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),Pe(o))),yield o.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=i,this.roomOptions=r,this.setupEngine(i),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=s,this.roomOutgoingDataStreamManager=a}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Pt.NONE}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setupEngine(t){var n;this.engine=t,this.engine.on(te.RemoteMute,(i,r)=>{const s=this.trackPublications.get(i);!s||!s.track||(r?s.mute():s.unmute())}),!((n=this.signalConnectedFuture)===null||n===void 0)&&n.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(te.Connected,this.handleReconnected).on(te.SignalConnected,this.handleSignalConnected).on(te.SignalRestarted,this.handleReconnected).on(te.SignalResumed,this.handleReconnected).on(te.Restarting,this.handleReconnecting).on(te.Resuming,this.handleReconnecting).on(te.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(te.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(te.Closing,this.handleClosing).on(te.SignalRequestResponse,this.handleSignalRequestResponse).on(te.DataPacketReceived,this.handleDataPacket)}setMetadata(t){return P(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:t})})}setName(t){return P(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:t})})}setAttributes(t){return P(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:t})})}requestMetadataUpdate(t){return P(this,arguments,void 0,function(n){var i=this;let{metadata:r,name:s,attributes:a}=n;return(function*(){return new Promise((o,c)=>P(i,void 0,void 0,function*(){var l,u;try{let d=!1;const h=yield this.engine.client.sendUpdateLocalMetadata((l=r??this.metadata)!==null&&l!==void 0?l:"",(u=s??this.name)!==null&&u!==void 0?u:"",a),p=performance.now();for(this.pendingSignalRequests.set(h,{resolve:o,reject:m=>{c(m),d=!0},values:{name:s,metadata:r,attributes:a}});performance.now()-p<5e3&&!d;){if((!s||this.name===s)&&(!r||this.metadata===r)&&(!a||Object.entries(a).every(m=>{let[O,b]=m;return this.attributes[O]===b||b===""&&!this.attributes[O]}))){this.pendingSignalRequests.delete(h),o();return}yield qt(50)}c(new zv("Request to update local metadata timed out","TimeoutError"))}catch(d){d instanceof Error&&c(d)}}))})()})}setCameraEnabled(t,n,i){return this.setTrackEnabled(Z.Source.Camera,t,n,i)}setMicrophoneEnabled(t,n,i){return this.setTrackEnabled(Z.Source.Microphone,t,n,i)}setScreenShareEnabled(t,n,i){return this.setTrackEnabled(Z.Source.ScreenShare,t,n,i)}setE2EEEnabled(t){return P(this,void 0,void 0,function*(){this.encryptionType=t?Pt.GCM:Pt.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(t,n,i,r){return P(this,void 0,void 0,function*(){var s,a;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:t,enabled:n})),this.republishPromise&&(yield this.republishPromise);let o=this.getTrackPublication(t);if(n)if(o)yield o.unmute();else{let c;if(this.pendingPublishing.has(t)){const l=yield this.waitForPendingPublicationOfSource(t);return l||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t})),yield l?.unmute(),l}this.pendingPublishing.add(t);try{switch(t){case Z.Source.Camera:c=yield this.createTracks({video:(s=i)!==null&&s!==void 0?s:!0});break;case Z.Source.Microphone:c=yield this.createTracks({audio:(a=i)!==null&&a!==void 0?a:!0});break;case Z.Source.ScreenShare:c=yield this.createScreenTracks(Object.assign({},i));break;default:throw new Ri(t)}}catch(l){throw c?.forEach(u=>{u.stop()}),l instanceof Error&&this.emit(ie.MediaDevicesError,l,Gd(t)),this.pendingPublishing.delete(t),l}for(const l of c){const u=Object.assign(Object.assign({},this.roomOptions.publishDefaults),i);t===Z.Source.Microphone&&ai(l)&&u.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),l.startPreConnectBuffer())}try{const l=[];for(const d of c)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),Pe(d))),l.push(this.publishTrack(d,r));[o]=yield Promise.all(l)}catch(l){throw c?.forEach(u=>{u.stop()}),l}finally{this.pendingPublishing.delete(t)}}else if(!o?.track&&this.pendingPublishing.has(t)&&(o=yield this.waitForPendingPublicationOfSource(t),o||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t}))),o&&o.track)if(t===Z.Source.ScreenShare){o=yield this.unpublishTrack(o.track);const c=this.getTrackPublication(Z.Source.ScreenShareAudio);c&&c.track&&this.unpublishTrack(c.track)}else yield o.mute();return o})}enableCameraAndMicrophone(){return P(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(Z.Source.Camera)||this.pendingPublishing.has(Z.Source.Microphone))){this.pendingPublishing.add(Z.Source.Camera),this.pendingPublishing.add(Z.Source.Microphone);try{const t=yield this.createTracks({audio:!0,video:!0});yield Promise.all(t.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(Z.Source.Camera),this.pendingPublishing.delete(Z.Source.Microphone)}}})}createTracks(t){return P(this,void 0,void 0,function*(){var n,i;t??(t={});const r=ib(t,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(i=this.roomOptions)===null||i===void 0?void 0:i.videoCaptureDefaults);try{return(yield Bc(r,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(o=>(ai(o)&&(this.microphoneError=void 0,o.setAudioContext(this.audioContext),o.source=Z.Source.Microphone,this.emit(ie.AudioStreamAcquired)),or(o)&&(this.cameraError=void 0,o.source=Z.Source.Camera),o))}catch(s){throw s instanceof Error&&(t.audio&&(this.microphoneError=s),t.video&&(this.cameraError=s)),s}})}createScreenTracks(t){return P(this,void 0,void 0,function*(){if(t===void 0&&(t={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new Rd("getDisplayMedia not supported");t.resolution===void 0&&!NP()&&(t.resolution=Ld.h1080fps30.resolution);const n=GP(t),i=yield navigator.mediaDevices.getDisplayMedia(n),r=i.getVideoTracks();if(r.length===0)throw new Ri("no video track found");const s=new Fc(r[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});s.source=Z.Source.ScreenShare,t.contentHint&&(s.mediaStreamTrack.contentHint=t.contentHint);const a=[s];if(i.getAudioTracks().length>0){this.emit(ie.AudioStreamAcquired);const o=new Xc(i.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});o.source=Z.Source.ScreenShareAudio,a.push(o)}return a})}publishTrack(t,n){return P(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(t,n)})}publishOrRepublishTrack(t,n){return P(this,arguments,void 0,function(i,r){var s=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return(function*(){var o,c,l,u;Ii(i)&&i.setAudioContext(s.audioContext),yield(o=s.reconnectFuture)===null||o===void 0?void 0:o.promise,s.republishPromise&&!a&&(yield s.republishPromise),Cs(i)&&s.pendingPublishPromises.has(i)&&(yield s.pendingPublishPromises.get(i));let d;if(i instanceof MediaStreamTrack)d=i.getConstraints();else{d=i.constraints;let v;switch(i.source){case Z.Source.Microphone:v="audioinput";break;case Z.Source.Camera:v="videoinput"}v&&s.activeDeviceMap.has(v)&&(d=Object.assign(Object.assign({},d),{deviceId:s.activeDeviceMap.get(v)}))}if(i instanceof MediaStreamTrack)switch(i.kind){case"audio":i=new Xc(i,d,!0,s.audioContext,{loggerName:s.roomOptions.loggerName,loggerContextCb:()=>s.logContext});break;case"video":i=new Fc(i,d,!0,{loggerName:s.roomOptions.loggerName,loggerContextCb:()=>s.logContext});break;default:throw new Ri("unsupported MediaStreamTrack kind ".concat(i.kind))}else i.updateLoggerOptions({loggerName:s.roomOptions.loggerName,loggerContextCb:()=>s.logContext});let h;if(s.trackPublications.forEach(v=>{v.track&&v.track===i&&(h=v)}),h)return s.log.warn("track has already been published, skipping",Object.assign(Object.assign({},s.logContext),Pe(h))),h;const p=Object.assign(Object.assign({},s.roomOptions.publishDefaults),r),m="channelCount"in i.mediaStreamTrack.getSettings()&&i.mediaStreamTrack.getSettings().channelCount===2||i.mediaStreamTrack.getConstraints().channelCount===2,O=(c=p.forceStereo)!==null&&c!==void 0?c:m;O&&(p.dtx===void 0&&s.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},s.logContext),Pe(i))),p.red===void 0&&s.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(l=p.dtx)!==null&&l!==void 0||(p.dtx=!1),(u=p.red)!==null&&u!==void 0||(p.red=!1)),!MP()&&s.roomOptions.e2ee&&(s.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},s.logContext)),p.simulcast=!1),p.source&&(i.source=p.source);const b=new Promise((v,T)=>P(s,void 0,void 0,function*(){try{if(this.engine.client.currentState!==tt.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:Pe(i)}));let S=!1;const k=setTimeout(()=>{S=!0,i.stop(),T(new Bv("publishing rejected as engine not connected within timeout",408))},15e3);if(yield this.waitUntilEngineConnected(),clearTimeout(k),S)return;const y=yield this.publish(i,p,O);v(y)}else try{const S=yield this.publish(i,p,O);v(S)}catch(S){T(S)}}catch(S){T(S)}}));s.pendingPublishPromises.set(i,b);try{return yield b}catch(v){throw v}finally{s.pendingPublishPromises.delete(i)}})()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new In),this.signalConnectedFuture.promise}hasPermissionsToPublish(t){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),Pe(t))),!1;const{canPublish:n,canPublishSources:i}=this.permissions;return n&&(i.length===0||i.map(r=>JP(r)).includes(t.source))?!0:(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),Pe(t))),!1)}publish(t,n,i){return P(this,void 0,void 0,function*(){var r,s,a,o,c,l,u,d,h,p;if(!this.hasPermissionsToPublish(t))throw new Bv("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(D=>Cs(t)&&D.source===t.source)&&t.source!==Z.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(t.source),Object.assign(Object.assign({},this.logContext),Pe(t))),n.stopMicTrackOnMute&&ai(t)&&(t.stopOnMute=!0),t.source===Z.Source.ScreenShare&&Ur()&&(n.simulcast=!1),n.videoCodec==="av1"&&!RP()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!IP()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=rh),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(D=>n.videoCodec===Ua(D.mime))||(n.videoCodec=Ua(this.enabledPublishVideoCodecs[0].mime)));const O=n.videoCodec;t.on(J.Muted,this.onTrackMuted),t.on(J.Unmuted,this.onTrackUnmuted),t.on(J.Ended,this.handleTrackEnded),t.on(J.UpstreamPaused,this.onTrackUpstreamPaused),t.on(J.UpstreamResumed,this.onTrackUpstreamResumed),t.on(J.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const b=[],v=!(!((r=n.dtx)!==null&&r!==void 0)||r),T=t.getSourceTrackSettings();T.autoGainControl&&b.push(Nt.TF_AUTO_GAIN_CONTROL),T.echoCancellation&&b.push(Nt.TF_ECHO_CANCELLATION),T.noiseSuppression&&b.push(Nt.TF_NOISE_SUPPRESSION),T.channelCount&&T.channelCount>1&&b.push(Nt.TF_STEREO),v&&b.push(Nt.TF_NO_DTX),Ii(t)&&t.hasPreConnectBuffer&&b.push(Nt.TF_PRECONNECT_BUFFER);const S=new Aa({cid:t.mediaStreamTrack.id,name:n.name,type:Z.kindToProto(t.kind),muted:t.isMuted,source:Z.sourceToProto(t.source),disableDtx:v,encryption:this.encryptionType,stereo:i,disableRed:this.isE2EEEnabled||!(!((s=n.red)!==null&&s!==void 0)||s),stream:n?.stream,backupCodecPolicy:n?.backupCodecPolicy,audioFeatures:b});let k;if(t.kind===Z.Kind.Video){let D={width:0,height:0};try{D=yield t.waitForDimensions()}catch{const M=(o=(a=this.roomOptions.videoCaptureDefaults)===null||a===void 0?void 0:a.resolution)!==null&&o!==void 0?o:Da.h720.resolution;D={width:M.width,height:M.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),Pe(t)),{dims:D}))}S.width=D.width,S.height=D.height,cr(t)&&(Bn(O)&&(t.source===Z.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in t.mediaStreamTrack&&(t.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),Pe(t))))),n.scalabilityMode=(c=n.scalabilityMode)!==null&&c!==void 0?c:"L3T3_KEY"),S.simulcastCodecs=[new fd({codec:O,cid:t.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:rh}),n.backupCodec&&O!==n.backupCodec.codec&&S.encryption===Pt.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),S.simulcastCodecs.push(new fd({codec:n.backupCodec.codec,cid:""})))),k=uh(t.source===Z.Source.ScreenShare,S.width,S.height,n),S.layers=Ab(S.width,S.height,k,Bn(n.videoCodec))}else t.kind===Z.Kind.Audio&&(k=[{maxBitrate:(l=n.audioPreset)===null||l===void 0?void 0:l.maxBitrate,priority:(d=(u=n.audioPreset)===null||u===void 0?void 0:u.priority)!==null&&d!==void 0?d:"high",networkPriority:(p=(h=n.audioPreset)===null||h===void 0?void 0:h.priority)!==null&&p!==void 0?p:"high"}]);if(!this.engine||this.engine.isClosed)throw new At("cannot publish track when not connected");const y=()=>P(this,void 0,void 0,function*(){var D,E,M;if(!this.engine.pcManager)throw new At("pcManager is not ready");if(t.sender=yield this.engine.createSender(t,n,k),this.emit(ie.LocalSenderCreated,t.sender,t),cr(t)&&((D=n.degradationPreference)!==null&&D!==void 0||(n.degradationPreference=BA(t)),t.setDegradationPreference(n.degradationPreference)),k)if(Ur()&&t.kind===Z.Kind.Audio){let L;for(const z of this.engine.pcManager.publisher.getTransceivers())if(z.sender===t.sender){L=z;break}L&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:L,codec:"opus",maxbr:!((E=k[0])===null||E===void 0)&&E.maxBitrate?k[0].maxBitrate/1e3:0})}else t.codec&&Bn(t.codec)&&(!((M=k[0])===null||M===void 0)&&M.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:S.cid,codec:t.codec,maxbr:k[0].maxBitrate/1e3});yield this.engine.negotiate()});let _;const x=new Promise((D,E)=>P(this,void 0,void 0,function*(){var M;try{_=yield this.engine.addTrack(S),D(_)}catch(L){t.sender&&(!((M=this.engine.pcManager)===null||M===void 0)&&M.publisher)&&(this.engine.pcManager.publisher.removeTrack(t.sender),yield this.engine.negotiate().catch(z=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),Pe(t)),{error:z}))})),E(L)}}));if(this.enabledPublishVideoCodecs.length>0)_=(yield Promise.all([x,y()]))[0];else{_=yield x;let D;if(_.codecs.forEach(E=>{D===void 0&&(D=E.mimeType)}),D&&t.kind===Z.Kind.Video){const E=Ua(D);E!==O&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),Pe(t)),{codec:E})),n.videoCodec=E,k=uh(t.source===Z.Source.ScreenShare,S.width,S.height,n))}yield y()}const N=new mh(t.kind,_,t,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(N.on(J.CpuConstrained,D=>this.onTrackCpuConstrained(D,N)),N.options=n,t.sid=_.sid,this.log.debug("publishing ".concat(t.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:k,trackInfo:_})),cr(t)?t.startMonitor(this.engine.client):Ii(t)&&t.startMonitor(),this.addTrackPublication(N),this.emit(ie.LocalTrackPublished,N),Ii(t)&&_.audioFeatures.includes(Nt.TF_PRECONNECT_BUFFER)){const D=t.getPreConnectBuffer(),E=t.getPreConnectBufferMimeType();this.on(ie.LocalTrackSubscribed,M=>{if(M.trackSid===_.sid){if(!t.hasPreConnectBuffer){this.log.warn("subscribe event came to late, buffer already closed",this.logContext);return}this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),Pe(t))),t.stopPreConnectBuffer()}}),D&&new Promise((L,z)=>P(this,void 0,void 0,function*(){var X,F,K,se,j,fe;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),Pe(t)));const A=setTimeout(()=>{z(new Error("agent not active within 10 seconds"))},1e4),be=yield this.waitUntilActiveAgentPresent();clearTimeout(A),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),Pe(t)));const Ge=yield this.streamBytes({name:"preconnect-buffer",mimeType:E,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[be.identity],attributes:{trackId:N.trackSid,sampleRate:String((j=T.sampleRate)!==null&&j!==void 0?j:"48000"),channels:String((fe=T.channelCount)!==null&&fe!==void 0?fe:"1")}});try{for(var I=!0,Ne=Pi(D),De;De=yield Ne.next(),X=De.done,!X;I=!0){se=De.value,I=!1;const Ie=se;yield Ge.write(Ie)}}catch(Ie){F={error:Ie}}finally{try{!I&&!X&&(K=Ne.return)&&(yield K.call(Ne))}finally{if(F)throw F.error}}yield Ge.close(),L()}catch(A){z(A)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),Pe(t)))}).catch(L=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),Pe(t)),{error:L}))})}return N})}get isLocal(){return!0}publishAdditionalCodecForTrack(t,n,i){return P(this,void 0,void 0,function*(){var r;if(this.encryptionType!==Pt.NONE)return;let s;if(this.trackPublications.forEach(p=>{p.track&&p.track===t&&(s=p)}),!s)throw new Ri("track is not published");if(!cr(t))throw new Ri("track is not a video track");const a=Object.assign(Object.assign({},(r=this.roomOptions)===null||r===void 0?void 0:r.publishDefaults),i),o=qA(t,n,a);if(!o){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),Pe(t)));return}const c=t.addSimulcastTrack(n,o);if(!c)return;const l=new Aa({cid:c.mediaStreamTrack.id,type:Z.kindToProto(t.kind),muted:t.isMuted,source:Z.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:a.videoCodec,cid:c.mediaStreamTrack.id}]});if(l.layers=Ab(l.width,l.height,o),!this.engine||this.engine.isClosed)throw new At("cannot publish track when not connected");const u=()=>P(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(t,c,a,o),yield this.engine.negotiate()}),h=(yield Promise.all([this.engine.addTrack(l),u()]))[0];this.log.debug("published ".concat(n," for track ").concat(t.sid),Object.assign(Object.assign({},this.logContext),{encodings:o,trackInfo:h}))})}unpublishTrack(t,n){return P(this,void 0,void 0,function*(){var i,r;if(Cs(t)){const l=this.pendingPublishPromises.get(t);l&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),Pe(t))),yield l)}const s=this.getPublicationForTrack(t),a=s?Pe(s):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),a)),!s||!s.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),a));return}t=s.track,t.off(J.Muted,this.onTrackMuted),t.off(J.Unmuted,this.onTrackUnmuted),t.off(J.Ended,this.handleTrackEnded),t.off(J.UpstreamPaused,this.onTrackUpstreamPaused),t.off(J.UpstreamResumed,this.onTrackUpstreamResumed),t.off(J.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(r=(i=this.roomOptions)===null||i===void 0?void 0:i.stopLocalTrackOnUnpublish)!==null&&r!==void 0?r:!0),n?t.stop():t.stopMonitor();let o=!1;const c=t.sender;if(t.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<ft.FAILED&&c)try{for(const l of this.engine.pcManager.publisher.getTransceivers())l.sender===c&&(l.direction="inactive",o=!0);if(this.engine.removeTrack(c)&&(o=!0),cr(t)){for(const[,l]of t.simulcastCodecs)l.sender&&(this.engine.removeTrack(l.sender)&&(o=!0),l.sender=void 0);t.simulcastCodecs.clear()}}catch(l){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),a),{error:l}))}switch(this.trackPublications.delete(s.trackSid),s.kind){case Z.Kind.Audio:this.audioTrackPublications.delete(s.trackSid);break;case Z.Kind.Video:this.videoTrackPublications.delete(s.trackSid);break}return this.emit(ie.LocalTrackUnpublished,s),s.setTrack(void 0),o&&(yield this.engine.negotiate()),s})}unpublishTracks(t){return P(this,void 0,void 0,function*(){return(yield Promise.all(t.map(i=>this.unpublishTrack(i)))).filter(i=>!!i)})}republishAllTracks(t){return P(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(function*(){i.republishPromise&&(yield i.republishPromise),i.republishPromise=new Promise((s,a)=>P(i,void 0,void 0,function*(){try{const o=[];this.trackPublications.forEach(c=>{c.track&&(n&&(c.options=Object.assign(Object.assign({},c.options),n)),o.push(c))}),yield Promise.all(o.map(c=>P(this,void 0,void 0,function*(){const l=c.track;yield this.unpublishTrack(l,!1),r&&!l.isMuted&&l.source!==Z.Source.ScreenShare&&l.source!==Z.Source.ScreenShareAudio&&(Ii(l)||cr(l))&&!l.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:c.trackSid})),yield l.restartTrack()),yield this.publishOrRepublishTrack(l,c.options,!0)}))),s()}catch(o){a(o)}finally{this.republishPromise=void 0}})),yield i.republishPromise})()})}publishData(t){return P(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){const s=r.reliable?Ce.RELIABLE:Ce.LOSSY,a=r.destinationIdentities,o=r.topic;let c=new cd({participantIdentity:i.identity,payload:n,destinationIdentities:a,topic:o});const l=new Kt({kind:s,value:{case:"user",value:c}});yield i.engine.sendDataPacket(l,s)})()})}publishDtmf(t,n){return P(this,void 0,void 0,function*(){const i=new Kt({kind:Ce.RELIABLE,value:{case:"sipDtmf",value:new Ag({code:t,digit:n})}});yield this.engine.sendDataPacket(i,Ce.RELIABLE)})}sendChatMessage(t,n){return P(this,void 0,void 0,function*(){const i={id:crypto.randomUUID(),message:t,timestamp:Date.now(),attachedFiles:n?.attachments},r=new Kt({value:{case:"chatMessage",value:new Tc(Object.assign(Object.assign({},i),{timestamp:ut.parse(i.timestamp)}))}});return yield this.engine.sendDataPacket(r,Ce.RELIABLE),this.emit(ie.ChatMessage,i),i})}editChatMessage(t,n){return P(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n),{message:t,editTimestamp:Date.now()}),r=new Kt({value:{case:"chatMessage",value:new Tc(Object.assign(Object.assign({},i),{timestamp:ut.parse(i.timestamp),editTimestamp:ut.parse(i.editTimestamp)}))}});return yield this.engine.sendDataPacket(r,Ce.RELIABLE),this.emit(ie.ChatMessage,i),i})}sendText(t,n){return P(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendText(t,n)})}streamText(t){return P(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamText(t)})}sendFile(t,n){return P(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendFile(t,n)})}streamBytes(t){return P(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamBytes(t)})}performRpc(t){return P(this,arguments,void 0,function(n){var i=this;let{destinationIdentity:r,method:s,payload:a,responseTimeout:o=15e3}=n;return(function*(){return new Promise((u,d)=>P(i,void 0,void 0,function*(){var h,p,m,O;if(ah(a)>yb){d(mt.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));return}if(!((p=(h=this.engine.latestJoinResponse)===null||h===void 0?void 0:h.serverInfo)===null||p===void 0)&&p.version&&si((O=(m=this.engine.latestJoinResponse)===null||m===void 0?void 0:m.serverInfo)===null||O===void 0?void 0:O.version,"1.8.0")<0){d(mt.builtIn("UNSUPPORTED_SERVER"));return}const b=Math.max(o,8e3),v=crypto.randomUUID();yield this.publishRpcRequest(r,v,s,a,b);const T=setTimeout(()=>{this.pendingAcks.delete(v),d(mt.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(v),clearTimeout(S)},7e3);this.pendingAcks.set(v,{resolve:()=>{clearTimeout(T)},participantIdentity:r});const S=setTimeout(()=>{this.pendingResponses.delete(v),d(mt.builtIn("RESPONSE_TIMEOUT"))},o);this.pendingResponses.set(v,{resolve:(k,y)=>{clearTimeout(S),this.pendingAcks.has(v)&&(console.warn("RPC response received before ack",v),this.pendingAcks.delete(v),clearTimeout(T)),y?d(y):u(k??"")},participantIdentity:r})}))})()})}registerRpcMethod(t,n){this.rpcHandlers.has(t)&&this.log.warn("you're overriding the RPC handler for method ".concat(t,", in the future this will throw an error")),this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setTrackSubscriptionPermissions(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=t,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(t){const n=this.pendingAcks.get(t);n?(n.resolve(),this.pendingAcks.delete(t)):console.error("Ack received for unexpected RPC request",t)}handleIncomingRpcResponse(t,n,i){const r=this.pendingResponses.get(t);r?(r.resolve(n,i),this.pendingResponses.delete(t)):console.error("Response received for unexpected RPC request",t)}publishRpcRequest(t,n,i,r,s){return P(this,void 0,void 0,function*(){const a=new Kt({destinationIdentities:[t],kind:Ce.RELIABLE,value:{case:"rpcRequest",value:new ld({id:n,method:i,payload:r,responseTimeoutMs:s,version:1})}});yield this.engine.sendDataPacket(a,Ce.RELIABLE)})}handleParticipantDisconnected(t){for(const[n,{participantIdentity:i}]of this.pendingAcks)i===t&&this.pendingAcks.delete(n);for(const[n,{participantIdentity:i,resolve:r}]of this.pendingResponses)i===t&&(r(null,mt.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(t){this.enabledPublishVideoCodecs=t.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(t){return super.updateInfo(t)?(t.tracks.forEach(n=>{var i,r;const s=this.trackPublications.get(n.sid);if(s){const a=s.isMuted||((r=(i=s.track)===null||i===void 0?void 0:i.isUpstreamPaused)!==null&&r!==void 0?r:!1);a!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),Pe(s)),{mutedOnServer:a})),this.engine.client.sendMuteTrack(n.sid,a))}}),!0):!1}setActiveAgent(t){var n,i,r,s;this.firstActiveAgent=t,t&&!this.firstActiveAgent&&(this.firstActiveAgent=t),t?(i=(n=this.activeAgentFuture)===null||n===void 0?void 0:n.resolve)===null||i===void 0||i.call(n,t):(s=(r=this.activeAgentFuture)===null||r===void 0?void 0:r.reject)===null||s===void 0||s.call(r,new Error("Agent disconnected")),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new In),this.activeAgentFuture.promise)}getPublicationForTrack(t){let n;return this.trackPublications.forEach(i=>{const r=i.track;r&&(t instanceof MediaStreamTrack?(Ii(r)||cr(r))&&r.mediaStreamTrack===t&&(n=i):t===r&&(n=i))}),n}waitForPendingPublicationOfSource(t){return P(this,void 0,void 0,function*(){const i=Date.now();for(;Date.now()<i+1e4;){const r=Array.from(this.pendingPublishPromises.entries()).find(s=>{let[a]=s;return a.source===t});if(r)return r[1];yield qt(20)}})}}class cR extends Qi{constructor(t,n,i,r){super(t,n.sid,n.name,r),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=s=>{this.setTrack(void 0),this.emit(J.Ended,s)},this.handleVisibilityChange=s=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(s),this.logContext),this.visible=s,this.emitTrackUpdate()},this.handleVideoDimensionsChange=s=>{this.log.debug("adaptivestream video dimensions ".concat(s.width,"x").concat(s.height),this.logContext),this.videoDimensionsAdaptiveStream=s,this.emitTrackUpdate()},this.subscribed=i,this.updateInfo(n)}setSubscribed(t){const n=this.subscriptionStatus,i=this.permissionStatus;this.subscribed=t,t&&(this.allowed=!0);const r=new Ec({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new Ig({participantSid:"",trackSids:[this.trackSid]})]});this.emit(J.UpdateSubscription,r),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(i)}get subscriptionStatus(){return this.subscribed===!1?Qi.SubscriptionStatus.Unsubscribed:super.isSubscribed?Qi.SubscriptionStatus.Subscribed:Qi.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Qi.PermissionStatus.Allowed:Qi.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return this.requestedDisabled!==void 0?!this.requestedDisabled:this.isAdaptiveStream?this.visible:!0}get isLocal(){return!1}setEnabled(t){!this.isManualOperationAllowed()||this.requestedDisabled===!t||(this.requestedDisabled=!t,this.emitTrackUpdate())}setVideoQuality(t){!this.isManualOperationAllowed()||this.requestedMaxQuality===t||(this.requestedMaxQuality=t,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(t){var n,i;this.isManualOperationAllowed()&&(((n=this.requestedVideoDimensions)===null||n===void 0?void 0:n.width)===t.width&&((i=this.requestedVideoDimensions)===null||i===void 0?void 0:i.height)===t.height||(jd(this.track)&&(this.requestedVideoDimensions=t),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(t){this.isManualOperationAllowed()&&jd(this.track)&&this.fps!==t&&(this.fps=t,this.emitTrackUpdate())}get videoQuality(){var t;return(t=this.requestedMaxQuality)!==null&&t!==void 0?t:On.HIGH}setTrack(t){const n=this.subscriptionStatus,i=this.permissionStatus,r=this.track;r!==t&&(r&&(r.off(J.VideoDimensionsChanged,this.handleVideoDimensionsChange),r.off(J.VisibilityChanged,this.handleVisibilityChange),r.off(J.Ended,this.handleEnded),r.detach(),r.stopMonitor(),this.emit(J.Unsubscribed,r)),super.setTrack(t),t&&(t.sid=this.trackSid,t.on(J.VideoDimensionsChanged,this.handleVideoDimensionsChange),t.on(J.VisibilityChanged,this.handleVisibilityChange),t.on(J.Ended,this.handleEnded),this.emit(J.Subscribed,t)),this.emitPermissionUpdateIfChanged(i),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(t){const n=this.subscriptionStatus,i=this.permissionStatus;this.allowed=t,this.emitPermissionUpdateIfChanged(i),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(t){this.emit(J.SubscriptionFailed,t)}updateInfo(t){super.updateInfo(t);const n=this.metadataMuted;this.metadataMuted=t.muted,this.track?this.track.setMuted(t.muted):n!==t.muted&&this.emit(t.muted?J.Muted:J.Unmuted)}emitSubscriptionUpdateIfChanged(t){const n=this.subscriptionStatus;t!==n&&this.emit(J.SubscriptionStatusChanged,n,t)}emitPermissionUpdateIfChanged(t){this.permissionStatus!==t&&this.emit(J.SubscriptionPermissionChanged,this.permissionStatus,t)}isManualOperationAllowed(){return this.isDesired?!0:(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return jd(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const t=new Bg({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===Z.Kind.Video){let n=this.requestedVideoDimensions;if(this.videoDimensionsAdaptiveStream!==void 0)if(n)ob(this.videoDimensionsAdaptiveStream,n)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream);else if(this.requestedMaxQuality!==void 0&&this.trackInfo){const i=eA(this.trackInfo,this.requestedMaxQuality);i&&ob(this.videoDimensionsAdaptiveStream,i)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream;n?(t.width=Math.ceil(n.width),t.height=Math.ceil(n.height)):this.requestedMaxQuality!==void 0?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),t.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:On.HIGH})),t.quality=On.HIGH)}this.emit(J.UpdateSettings,t)}}class zc extends Ub{static fromParticipantInfo(t,n,i){return new zc(t,n.sid,n.identity,n.name,n.metadata,n.attributes,i,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(t,n,i,r,s,a,o){let c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:Pa.STANDARD;super(n,i||"",r,s,a,o,c),this.signalClient=t,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(t){super.addTrackPublication(t),t.on(J.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),Pe(t)),{settings:n})),this.signalClient.sendUpdateTrackSettings(n)}),t.on(J.UpdateSubscription,n=>{n.participantTracks.forEach(i=>{i.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),t.on(J.SubscriptionPermissionChanged,n=>{this.emit(ie.TrackSubscriptionPermissionChanged,t,n)}),t.on(J.SubscriptionStatusChanged,n=>{this.emit(ie.TrackSubscriptionStatusChanged,t,n)}),t.on(J.Subscribed,n=>{this.emit(ie.TrackSubscribed,n,t)}),t.on(J.Unsubscribed,n=>{this.emit(ie.TrackUnsubscribed,n,t)}),t.on(J.SubscriptionFailed,n=>{this.emit(ie.TrackSubscriptionFailed,t.trackSid,n)})}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setVolume(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z.Source.Microphone;this.volumeMap.set(n,t);const i=this.getTrackPublication(n);i&&i.track&&i.track.setVolume(t)}getVolume(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z.Source.Microphone;const n=this.getTrackPublication(t);return n&&n.track?n.track.getVolume():this.volumeMap.get(t)}addSubscribedMediaTrack(t,n,i,r,s,a){let o=this.getTrackPublicationBySid(n);if(o||n.startsWith("TR")||this.trackPublications.forEach(u=>{!o&&t.kind===u.kind.toString()&&(o=u)}),!o){if(a===0){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),this.emit(ie.TrackSubscriptionFailed,n);return}a===void 0&&(a=20),setTimeout(()=>{this.addSubscribedMediaTrack(t,n,i,r,s,a-1)},150);return}if(t.readyState==="ended"){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),Pe(o))),this.emit(ie.TrackSubscriptionFailed,n);return}const c=t.kind==="video";let l;return c?l=new nR(t,n,r,s):l=new tR(t,n,r,this.audioContext,this.audioOutput),l.source=o.source,l.isMuted=o.isMuted,l.setMediaStream(i),l.start(),o.setTrack(l),this.volumeMap.has(o.source)&&Zd(l)&&ai(l)&&l.setVolume(this.volumeMap.get(o.source)),o}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(t){return this.trackPublications.get(t)}updateInfo(t){if(!super.updateInfo(t))return!1;const n=new Map,i=new Map;return t.tracks.forEach(r=>{var s,a;let o=this.getTrackPublicationBySid(r.sid);if(o)o.updateInfo(r);else{const c=Z.kindFromProto(r.type);if(!c)return;o=new cR(c,r,(s=this.signalClient.connectOptions)===null||s===void 0?void 0:s.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(a=this.loggerOptions)===null||a===void 0?void 0:a.loggerName}),o.updateInfo(r),i.set(r.sid,o);const l=Array.from(this.trackPublications.values()).find(u=>u.source===o?.source);l&&o.source!==Z.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(o.source),Object.assign(Object.assign({},this.logContext),{oldTrack:Pe(l),newTrack:Pe(o)})),this.addTrackPublication(o)}n.set(r.sid,o)}),this.trackPublications.forEach(r=>{n.has(r.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),Pe(r))),this.unpublishTrack(r.trackSid,!0))}),i.forEach(r=>{this.emit(ie.TrackPublished,r)}),!0}unpublishTrack(t,n){const i=this.trackPublications.get(t);if(!i)return;const{track:r}=i;switch(r&&(r.stop(),i.setTrack(void 0)),this.trackPublications.delete(t),i.kind){case Z.Kind.Audio:this.audioTrackPublications.delete(t);break;case Z.Kind.Video:this.videoTrackPublications.delete(t);break}n&&this.emit(ie.TrackUnpublished,i)}setAudioOutput(t){return P(this,void 0,void 0,function*(){this.audioOutput=t;const n=[];this.audioTrackPublications.forEach(i=>{var r;ai(i.track)&&Zd(i.track)&&n.push(i.track.setSinkId((r=t.deviceId)!==null&&r!==void 0?r:"default"))}),yield Promise.all(n)})}emit(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:t,args:i})),super.emit(t,...i)}}var Be;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"})(Be||(Be={}));const lR=4*1e3;class Qs extends ii.EventEmitter{get hasE2EESetup(){return this.e2eeManager!==void 0}constructor(t){var n,i,r,s;if(super(),n=this,this.state=Be.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=ye,this.bufferedEvents=[],this.isResuming=!1,this.rpcHandlers=new Map,this.connect=(a,o,c)=>P(this,void 0,void 0,function*(){var l;if(!QP())throw ri()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const u=yield this.disconnectLock.lock();if(this.state===Be.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),u(),Promise.resolve();if(this.connectFuture)return u(),this.connectFuture.promise;this.setAndEmitConnectionState(Be.Connecting),((l=this.regionUrlProvider)===null||l===void 0?void 0:l.getServerUrl().toString())!==a&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),$c(new URL(a))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new Ze(a,o):this.regionUrlProvider.updateToken(o),this.regionUrlProvider.fetchRegionSettings().then(p=>{var m;(m=this.regionUrlProvider)===null||m===void 0||m.setServerReportedRegions(p)}).catch(p=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:p}))}));const d=(p,m,O)=>P(this,void 0,void 0,function*(){var b,v;this.abortController&&this.abortController.abort();const T=new AbortController;this.abortController=T,u?.();try{if(yield Ps.getInstance().getBackOffPromise(a),T.signal.aborted)throw new Qe("Connection attempt aborted",ve.Cancelled);yield this.attemptConnection(O??a,o,c,T),this.abortController=void 0,p()}catch(S){if(this.regionUrlProvider&&S instanceof Qe&&S.reason!==ve.Cancelled&&S.reason!==ve.NotAllowed){let k=null;try{this.log.debug("Fetching next region"),k=yield this.regionUrlProvider.getNextBestRegionUrl((b=this.abortController)===null||b===void 0?void 0:b.signal)}catch(y){if(y instanceof Qe&&(y.status===401||y.reason===ve.Cancelled)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),m(y);return}}[ve.InternalError,ve.ServerUnreachable,ve.Timeout].includes(S.reason)&&(this.log.debug("Adding failed connection attempt to back off"),Ps.getInstance().addFailedConnectionAttempt(a)),k&&!(!((v=this.abortController)===null||v===void 0)&&v.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(S.message,". Retrying with another region: ").concat(k),this.logContext),this.recreateEngine(),yield d(p,m,k)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,nb(S)),m(S))}else{let k=qn.UNKNOWN_REASON;S instanceof Qe&&(k=nb(S)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,k),m(S)}}}),h=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new In((p,m)=>{d(p,m,h)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(a,o,c,l,u,d)=>P(this,void 0,void 0,function*(){var h,p,m;const O=yield c.join(a,o,{autoSubscribe:l.autoSubscribe,adaptiveStream:typeof u.adaptiveStream=="object"?!0:u.adaptiveStream,maxRetries:l.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:l.websocketTimeout,singlePeerConnection:u.singlePeerConnection},d.signal);let b=O.serverInfo;if(b||(b={version:O.serverVersion,region:O.serverRegion}),this.serverInfo=b,this.log.debug("connected to Livekit Server ".concat(Object.entries(b).map(v=>{let[T,S]=v;return"".concat(T,": ").concat(S)}).join(", ")),{room:(h=O.room)===null||h===void 0?void 0:h.name,roomSid:(p=O.room)===null||p===void 0?void 0:p.sid,identity:(m=O.participant)===null||m===void 0?void 0:m.identity}),!b.version)throw new gP("unknown server version");return b.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),u.dynacast=!1),O}),this.applyJoinResponse=a=>{const o=a.participant;if(this.localParticipant.sid=o.sid,this.localParticipant.identity=o.identity,this.localParticipant.setEnabledPublishCodecs(a.enabledPublishCodecs),this.e2eeManager)try{this.e2eeManager.setSifTrailer(a.sifTrailer)}catch(c){this.log.error(c instanceof Error?c.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:c}))}this.handleParticipantUpdates([o,...a.otherParticipants]),a.room&&this.handleRoomUpdate(a.room)},this.attemptConnection=(a,o,c,l)=>P(this,void 0,void 0,function*(){var u,d;this.state===Be.Reconnecting||this.isResuming||!((u=this.engine)===null||u===void 0)&&u.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((d=this.regionUrlProvider)===null||d===void 0)&&d.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},sh),c),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const h=yield this.connectSignal(a,o,this.engine,this.connOptions,this.options,l);this.applyJoinResponse(h),this.setupLocalParticipantEvents(),this.emit(G.SignalConnected)}catch(h){yield this.engine.close(),this.recreateEngine();const p=new Qe("could not establish signal connection",l.signal.aborted?ve.Cancelled:ve.ServerUnreachable);throw h instanceof Error&&(p.message="".concat(p.message,": ").concat(h.message)),h instanceof Qe&&(p.reason=h.reason,p.status=h.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:h})),p}if(l.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new Qe("Connection attempt aborted",ve.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,l)}catch(h){throw yield this.engine.close(),this.recreateEngine(),h}on()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),on()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(Be.Connected),this.emit(G.Connected),Ps.getInstance().resetFailedConnectionAttempts(a),this.registerConnectionReconcile(),this.regionUrlProvider&&this.regionUrlProvider.notifyConnected()}),this.disconnect=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return P(n,[...o],void 0,function(){var l=this;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(function*(){var d,h,p;const m=yield l.disconnectLock.lock();try{if(l.state===Be.Disconnected){l.log.debug("already disconnected",l.logContext);return}if(l.log.info("disconnect from room",Object.assign({},l.logContext)),l.state===Be.Connecting||l.state===Be.Reconnecting||l.isResuming){const O="Abort connection attempt due to user initiated disconnect";l.log.warn(O,l.logContext),(d=l.abortController)===null||d===void 0||d.abort(O),(p=(h=l.connectFuture)===null||h===void 0?void 0:h.reject)===null||p===void 0||p.call(h,new Qe("Client initiated disconnect",ve.Cancelled)),l.connectFuture=void 0}l.engine&&(l.engine.client.isDisconnected||(yield l.engine.client.sendLeave()),yield l.engine.close()),l.handleDisconnect(u,qn.CLIENT_INITIATED),l.engine=void 0}finally{m()}})()})},this.onPageLeave=()=>P(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>P(this,void 0,void 0,function*(){const a=[],o=an();if(o&&o.os==="iOS"){const c="livekit-dummy-audio-el";let l=document.getElementById(c);if(!l){l=document.createElement("audio"),l.id=c,l.autoplay=!0,l.hidden=!0;const u=zd();u.enabled=!0;const d=new MediaStream([u]);l.srcObject=d,document.addEventListener("visibilitychange",()=>{l&&(l.srcObject=document.hidden?null:d,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(l),this.once(G.Disconnected,()=>{l?.remove(),l=null})}a.push(l)}this.remoteParticipants.forEach(c=>{c.audioTrackPublications.forEach(l=>{l.track&&l.track.attachedElements.forEach(u=>{a.push(u)})})});try{yield Promise.all([this.acquireAudioContext(),...a.map(c=>(c.muted=!1,c.play()))]),this.handleAudioPlaybackStarted()}catch(c){throw this.handleAudioPlaybackFailed(c),c}}),this.startVideo=()=>P(this,void 0,void 0,function*(){const a=[];for(const o of this.remoteParticipants.values())o.videoTrackPublications.forEach(c=>{var l;(l=c.track)===null||l===void 0||l.attachedElements.forEach(u=>{a.includes(u)||a.push(u)})});yield Promise.all(a.map(o=>o.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(o=>{o.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const a of this.remoteParticipants.values())this.handleParticipantDisconnected(a.identity,a);this.setAndEmitConnectionState(Be.Reconnecting)&&this.emit(G.Reconnecting)},this.handleSignalRestarted=a=>P(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(a.serverRegion),Object.assign(Object.assign({},this.logContext),{region:a.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(a);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(o){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:o}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:a.serverRegion}))}catch{return}this.setAndEmitConnectionState(Be.Connected),this.emit(G.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=a=>{a.forEach(o=>{var c;if(o.identity===this.localParticipant.identity){this.localParticipant.updateInfo(o);return}o.identity===""&&(o.identity=(c=this.sidToIdentity.get(o.sid))!==null&&c!==void 0?c:"");let l=this.remoteParticipants.get(o.identity);o.state===ys.DISCONNECTED?this.handleParticipantDisconnected(o.identity,l):l=this.getOrCreateParticipant(o.identity,o)})},this.handleActiveSpeakersUpdate=a=>{const o=[],c={};a.forEach(l=>{if(c[l.sid]=!0,l.sid===this.localParticipant.sid)this.localParticipant.audioLevel=l.level,this.localParticipant.setIsSpeaking(!0),o.push(this.localParticipant);else{const u=this.getRemoteParticipantBySid(l.sid);u&&(u.audioLevel=l.level,u.setIsSpeaking(!0),o.push(u))}}),c[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(l=>{c[l.sid]||(l.audioLevel=0,l.setIsSpeaking(!1))}),this.activeSpeakers=o,this.emitWhenConnected(G.ActiveSpeakersChanged,o)},this.handleSpeakersChanged=a=>{const o=new Map;this.activeSpeakers.forEach(l=>{const u=this.remoteParticipants.get(l.identity);u&&u.sid!==l.sid||o.set(l.sid,l)}),a.forEach(l=>{let u=this.getRemoteParticipantBySid(l.sid);l.sid===this.localParticipant.sid&&(u=this.localParticipant),u&&(u.audioLevel=l.level,u.setIsSpeaking(l.active),l.active?o.set(l.sid,u):o.delete(l.sid))});const c=Array.from(o.values());c.sort((l,u)=>u.audioLevel-l.audioLevel),this.activeSpeakers=c,this.emitWhenConnected(G.ActiveSpeakersChanged,c)},this.handleStreamStateUpdate=a=>{a.streamStates.forEach(o=>{const c=this.getRemoteParticipantBySid(o.participantSid);if(!c)return;const l=c.getTrackPublicationBySid(o.trackSid);if(!l||!l.track)return;const u=Z.streamStateFromProto(o.state);l.track.setStreamState(u),u!==l.track.streamState&&(c.emit(ie.TrackStreamStateChanged,l,l.track.streamState),this.emitWhenConnected(G.TrackStreamStateChanged,l,l.track.streamState,c))})},this.handleSubscriptionPermissionUpdate=a=>{const o=this.getRemoteParticipantBySid(a.participantSid);if(!o)return;const c=o.getTrackPublicationBySid(a.trackSid);c&&c.setAllowed(a.allowed)},this.handleSubscriptionError=a=>{const o=Array.from(this.remoteParticipants.values()).find(l=>l.trackPublications.has(a.trackSid));if(!o)return;const c=o.getTrackPublicationBySid(a.trackSid);c&&c.setSubscriptionError(a.err)},this.handleDataPacket=(a,o)=>{const c=this.remoteParticipants.get(a.participantIdentity);if(a.value.case==="user")this.handleUserPacket(c,a.value.value,a.kind,o);else if(a.value.case==="transcription")this.handleTranscription(c,a.value.value);else if(a.value.case==="sipDtmf")this.handleSipDtmf(c,a.value.value);else if(a.value.case==="chatMessage")this.handleChatMessage(c,a.value.value);else if(a.value.case==="metrics")this.handleMetrics(a.value.value,c);else if(a.value.case==="streamHeader"||a.value.case==="streamChunk"||a.value.case==="streamTrailer")this.handleDataStream(a,o);else if(a.value.case==="rpcRequest"){const l=a.value.value;this.handleIncomingRpcRequest(a.participantIdentity,l.id,l.method,l.payload,l.responseTimeoutMs,l.version)}},this.handleUserPacket=(a,o,c,l)=>{this.emit(G.DataReceived,o.payload,a,c,o.topic,l),a?.emit(ie.DataReceived,o.payload,c,l)},this.handleSipDtmf=(a,o)=>{this.emit(G.SipDTMFReceived,o,a),a?.emit(ie.SipDTMFReceived,o)},this.handleTranscription=(a,o)=>{const c=o.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(o.transcribedParticipantIdentity),l=c?.trackPublications.get(o.trackId),u=FP(o,this.transcriptionReceivedTimes);l?.emit(J.TranscriptionReceived,u),c?.emit(ie.TranscriptionReceived,u,l),this.emit(G.TranscriptionReceived,u,c,l)},this.handleChatMessage=(a,o)=>{const c=BP(o);this.emit(G.ChatMessage,c,a)},this.handleMetrics=(a,o)=>{this.emit(G.MetricsReceived,a,o)},this.handleDataStream=(a,o)=>{this.incomingDataStreamManager.handleDataStreamPacket(a,o)},this.bufferedSegments=new Map,this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(G.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=a=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:a})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(G.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(G.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(G.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>P(this,void 0,void 0,function*(){var a;((a=an())===null||a===void 0?void 0:a.os)!=="iOS"&&(yield this.selectDefaultDevices()),this.emit(G.MediaDevicesChanged)}),this.handleRoomUpdate=a=>{const o=this.roomInfo;this.roomInfo=a,o&&o.metadata!==a.metadata&&this.emitWhenConnected(G.RoomMetadataChanged,a.metadata),o?.activeRecording!==a.activeRecording&&this.emitWhenConnected(G.RecordingStatusChanged,a.activeRecording)},this.handleConnectionQualityUpdate=a=>{a.updates.forEach(o=>{if(o.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(o.quality);return}const c=this.getRemoteParticipantBySid(o.participantSid);c&&c.setConnectionQuality(o.quality)})},this.onLocalParticipantMetadataChanged=a=>{this.emit(G.ParticipantMetadataChanged,a,this.localParticipant)},this.onLocalParticipantNameChanged=a=>{this.emit(G.ParticipantNameChanged,a,this.localParticipant)},this.onLocalAttributesChanged=a=>{this.emit(G.ParticipantAttributesChanged,a,this.localParticipant)},this.onLocalTrackMuted=a=>{this.emit(G.TrackMuted,a,this.localParticipant)},this.onLocalTrackUnmuted=a=>{this.emit(G.TrackUnmuted,a,this.localParticipant)},this.onTrackProcessorUpdate=a=>{var o;(o=a?.onPublish)===null||o===void 0||o.call(a,this)},this.onLocalTrackPublished=a=>P(this,void 0,void 0,function*(){var o,c,l,u,d,h;(o=a.track)===null||o===void 0||o.on(J.TrackProcessorUpdate,this.onTrackProcessorUpdate),(c=a.track)===null||c===void 0||c.on(J.Restarted,this.onLocalTrackRestarted),(d=(u=(l=a.track)===null||l===void 0?void 0:l.getProcessor())===null||u===void 0?void 0:u.onPublish)===null||d===void 0||d.call(u,this),this.emit(G.LocalTrackPublished,a,this.localParticipant),Ii(a.track)&&(yield a.track.checkForSilence())&&this.emit(G.LocalAudioSilenceDetected,a);const p=yield(h=a.track)===null||h===void 0?void 0:h.getDeviceId(!1),m=Gd(a.source);m&&p&&p!==this.localParticipant.activeDeviceMap.get(m)&&(this.localParticipant.activeDeviceMap.set(m,p),this.emit(G.ActiveDeviceChanged,m,p))}),this.onLocalTrackUnpublished=a=>{var o,c;(o=a.track)===null||o===void 0||o.off(J.TrackProcessorUpdate,this.onTrackProcessorUpdate),(c=a.track)===null||c===void 0||c.off(J.Restarted,this.onLocalTrackRestarted),this.emit(G.LocalTrackUnpublished,a,this.localParticipant)},this.onLocalTrackRestarted=a=>P(this,void 0,void 0,function*(){const o=yield a.getDeviceId(!1),c=Gd(a.source);c&&o&&o!==this.localParticipant.activeDeviceMap.get(c)&&(this.log.debug("local track restarted, setting ".concat(c," ").concat(o," active"),this.logContext),this.localParticipant.activeDeviceMap.set(c,o),this.emit(G.ActiveDeviceChanged,c,o))}),this.onLocalConnectionQualityChanged=a=>{this.emit(G.ConnectionQualityChanged,a,this.localParticipant)},this.onMediaDevicesError=(a,o)=>{this.emit(G.MediaDevicesError,a,o)},this.onLocalParticipantPermissionsChanged=a=>{this.emit(G.ParticipantPermissionsChanged,a,this.localParticipant)},this.onLocalChatMessageSent=a=>{this.emit(G.ChatMessage,a,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},SA),t),this.log=Ci((i=this.options.loggerName)!==null&&i!==void 0?i:Fn.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},bb),t?.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},Tb),t?.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},yA),t?.publishDefaults),this.maybeCreateEngine(),this.incomingDataStreamManager=new HA,this.outgoingDataStreamManager=new eR(this.engine,this.log),this.disconnectLock=new Ht,this.localParticipant=new oR("","",this.engine,this.options,this.rpcHandlers,this.outgoingDataStreamManager),(this.options.e2ee||this.options.encryption)&&this.setupE2EE(),this.engine.e2eeManager=this.e2eeManager,this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",ar(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",ar(this.options.audioCaptureDefaults.deviceId)),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&this.switchActiveDevice("audiooutput",ar(this.options.audioOutput.deviceId)).catch(a=>this.log.warn("Could not set audio output: ".concat(a.message),this.logContext)),on()){const a=new AbortController;(s=navigator.mediaDevices)===null||s===void 0||s.addEventListener("devicechange",this.handleDeviceChange,{signal:a.signal}),Qs.cleanupRegistry&&Qs.cleanupRegistry.register(this,()=>{a.abort()})}}registerTextStreamHandler(t,n){return this.incomingDataStreamManager.registerTextStreamHandler(t,n)}unregisterTextStreamHandler(t){return this.incomingDataStreamManager.unregisterTextStreamHandler(t)}registerByteStreamHandler(t,n){return this.incomingDataStreamManager.registerByteStreamHandler(t,n)}unregisterByteStreamHandler(t){return this.incomingDataStreamManager.unregisterByteStreamHandler(t)}registerRpcMethod(t,n){if(this.rpcHandlers.has(t))throw Error("RPC handler already registered for method ".concat(t,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setE2EEEnabled(t){return P(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(t)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(t,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var t;const n=!!this.options.encryption,i=this.options.encryption||this.options.e2ee;i&&("e2eeManager"in i?(this.e2eeManager=i.e2eeManager,this.e2eeManager.isDataChannelEncryptionEnabled=n):this.e2eeManager=new tA(i,n),this.e2eeManager.on(sr.ParticipantEncryptionStatusChanged,(r,s)=>{ZP(s)&&(this.isE2EEEnabled=r),this.emit(G.ParticipantEncryptionStatusChanged,r,s)}),this.e2eeManager.on(sr.EncryptionError,(r,s)=>{const a=s?this.getParticipantByIdentity(s):void 0;this.emit(G.EncryptionError,r,a)}),(t=this.e2eeManager)===null||t===void 0||t.setup(this))}get logContext(){var t;return{room:this.name,roomID:(t=this.roomInfo)===null||t===void 0?void 0:t.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.activeRecording)!==null&&n!==void 0?n:!1}getSid(){return P(this,void 0,void 0,function*(){return this.state===Be.Disconnected?"":this.roomInfo&&this.roomInfo.sid!==""?this.roomInfo.sid:new Promise((t,n)=>{const i=r=>{r.sid!==""&&(this.engine.off(te.RoomUpdate,i),t(r.sid))};this.engine.on(te.RoomUpdate,i),this.once(G.Disconnected,()=>{this.engine.off(te.RoomUpdate,i),n("Room disconnected before room server id was available")})})})}get name(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:""}get metadata(){var t;return(t=this.roomInfo)===null||t===void 0?void 0:t.metadata}get numParticipants(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new VA(this.options),this.engine.e2eeManager=this.e2eeManager,this.engine.on(te.ParticipantUpdate,this.handleParticipantUpdates).on(te.RoomUpdate,this.handleRoomUpdate).on(te.SpeakersChanged,this.handleSpeakersChanged).on(te.StreamStateChanged,this.handleStreamStateUpdate).on(te.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(te.SubscriptionError,this.handleSubscriptionError).on(te.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(te.MediaTrackAdded,(t,n,i)=>{this.onTrackAdded(t,n,i)}).on(te.Disconnected,t=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t)}).on(te.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(te.DataPacketReceived,this.handleDataPacket).on(te.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(Be.SignalReconnecting)&&this.emit(G.SignalReconnecting)}).on(te.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(Be.Connected)&&this.emit(G.Reconnected)}).on(te.SignalResumed,()=>{this.bufferedEvents=[],(this.state===Be.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(te.Restarting,this.handleRestarting).on(te.SignalRestarted,this.handleSignalRestarted).on(te.Offline,()=>{this.setAndEmitConnectionState(Be.Reconnecting)&&this.emit(G.Reconnecting)}).on(te.DCBufferStatusChanged,(t,n)=>{this.emit(G.DCBufferStatusChanged,t,n)}).on(te.LocalTrackSubscribed,t=>{const n=this.localParticipant.getTrackPublications().find(i=>{let{trackSid:r}=i;return r===t});if(!n){this.log.warn("could not find local track subscription for subscribed event",this.logContext);return}this.localParticipant.emit(ie.LocalTrackSubscribed,n),this.emitWhenConnected(G.LocalTrackSubscribed,n,this.localParticipant)}).on(te.RoomMoved,t=>{this.log.debug("room moved",t),t.room&&this.handleRoomUpdate(t.room),this.remoteParticipants.forEach((n,i)=>{this.handleParticipantDisconnected(i,n)}),this.emit(G.Moved,t.room.name),t.participant?this.handleParticipantUpdates([t.participant,...t.otherParticipants]):this.handleParticipantUpdates(t.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine),this.outgoingDataStreamManager&&this.outgoingDataStreamManager.setupEngine(this.engine))}static getLocalDevices(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Dt.getInstance().getDevices(t,n)}prepareConnection(t,n){return P(this,void 0,void 0,function*(){if(this.state===Be.Disconnected){this.log.debug("prepareConnection to ".concat(t),this.logContext);try{if($c(new URL(t))&&n){this.regionUrlProvider=new Ze(t,n);const i=yield this.regionUrlProvider.getNextBestRegionUrl();i&&this.state===Be.Disconnected&&(this.regionUrl=i,yield fetch($a(i),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(i),this.logContext))}else yield fetch($a(t),{method:"HEAD"})}catch(i){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:i}))}}})}getParticipantByIdentity(t){return this.localParticipant.identity===t?this.localParticipant:this.remoteParticipants.get(t)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(t,n){return P(this,void 0,void 0,function*(){let i=()=>P(this,void 0,void 0,function*(){}),r;switch(t){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":r=new ni({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":r=new ni({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":r=new ni({scenario:{case:"serverLeave",value:!0}});break;case"migration":r=new ni({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":i=()=>P(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),r=new ni({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":i=()=>P(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),r=new ni({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":r=new ni({scenario:{case:"switchCandidateProtocol",value:t==="force-tls"?2:1}}),i=()=>P(this,void 0,void 0,function*(){const s=this.engine.client.onLeave;s&&s(new xc({reason:qn.CLIENT_INITIATED,action:_s.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");r=new ni({scenario:{case:"subscriberBandwidth",value:Xr(n)}});break;case"leave-full-reconnect":r=new ni({scenario:{case:"leaveRequestFullReconnect",value:!0}})}r&&(yield this.engine.client.sendSimulateScenario(r),yield i())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(t){return this.localParticipant.activeDeviceMap.get(t)}switchActiveDevice(t,n){return P(this,arguments,void 0,function(i,r){var s=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(function*(){var o,c,l,u,d,h,p;let m=!0,O=!1;const b=a?{exact:r}:r;if(i==="audioinput"){O=s.localParticipant.audioTrackPublications.size===0;const v=(o=s.getActiveDevice(i))!==null&&o!==void 0?o:s.options.audioCaptureDefaults.deviceId;s.options.audioCaptureDefaults.deviceId=b;const T=Array.from(s.localParticipant.audioTrackPublications.values()).filter(k=>k.source===Z.Source.Microphone);try{m=(yield Promise.all(T.map(k=>{var y;return(y=k.audioTrack)===null||y===void 0?void 0:y.setDeviceId(b)}))).every(k=>k===!0)}catch(k){throw s.options.audioCaptureDefaults.deviceId=v,k}const S=T.some(k=>{var y,_;return(_=(y=k.track)===null||y===void 0?void 0:y.isMuted)!==null&&_!==void 0?_:!1});m&&S&&(O=!0)}else if(i==="videoinput"){O=s.localParticipant.videoTrackPublications.size===0;const v=(c=s.getActiveDevice(i))!==null&&c!==void 0?c:s.options.videoCaptureDefaults.deviceId;s.options.videoCaptureDefaults.deviceId=b;const T=Array.from(s.localParticipant.videoTrackPublications.values()).filter(k=>k.source===Z.Source.Camera);try{m=(yield Promise.all(T.map(k=>{var y;return(y=k.videoTrack)===null||y===void 0?void 0:y.setDeviceId(b)}))).every(k=>k===!0)}catch(k){throw s.options.videoCaptureDefaults.deviceId=v,k}const S=T.some(k=>{var y,_;return(_=(y=k.track)===null||y===void 0?void 0:y.isMuted)!==null&&_!==void 0?_:!1});m&&S&&(O=!0)}else if(i==="audiooutput"){if(O=!0,!qd()&&!s.options.webAudioMix||s.options.webAudioMix&&s.audioContext&&!("setSinkId"in s.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");s.options.webAudioMix&&(r=(l=yield Dt.getInstance().normalizeDeviceId("audiooutput",r))!==null&&l!==void 0?l:""),(u=(p=s.options).audioOutput)!==null&&u!==void 0||(p.audioOutput={});const v=(d=s.getActiveDevice(i))!==null&&d!==void 0?d:s.options.audioOutput.deviceId;s.options.audioOutput.deviceId=r;try{s.options.webAudioMix&&((h=s.audioContext)===null||h===void 0||h.setSinkId(r)),yield Promise.all(Array.from(s.remoteParticipants.values()).map(T=>T.setAudioOutput({deviceId:r})))}catch(T){throw s.options.audioOutput.deviceId=v,T}}return O&&(s.localParticipant.activeDeviceMap.set(i,r),s.emit(G.ActiveDeviceChanged,i,r)),m})()})}setupLocalParticipantEvents(){this.localParticipant.on(ie.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(ie.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(ie.AttributesChanged,this.onLocalAttributesChanged).on(ie.TrackMuted,this.onLocalTrackMuted).on(ie.TrackUnmuted,this.onLocalTrackUnmuted).on(ie.LocalTrackPublished,this.onLocalTrackPublished).on(ie.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(ie.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(ie.MediaDevicesError,this.onMediaDevicesError).on(ie.AudioStreamAcquired,this.startAudio).on(ie.ChatMessage,this.onLocalChatMessageSent).on(ie.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var t;(t=this.engine)===null||t===void 0||t.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(t,n,i){if(this.state===Be.Connecting||this.state===Be.Reconnecting){const d=()=>{this.log.debug("deferring on track for later",{mediaTrackId:t.id,mediaStreamId:n.id,tracksInStream:n.getTracks().map(p=>p.id)}),this.onTrackAdded(t,n,i),h()},h=()=>{this.off(G.Reconnected,d),this.off(G.Connected,d),this.off(G.Disconnected,h)};this.once(G.Reconnected,d),this.once(G.Connected,d),this.once(G.Disconnected,h);return}if(this.state===Be.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}if(t.readyState==="ended"){this.log.info("skipping incoming track as it already ended",this.logContext);return}const r=AP(n.id),s=r[0];let a=r[1],o=t.id;if(a&&a.startsWith("TR")&&(o=a),s===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}const c=Array.from(this.remoteParticipants.values()).find(d=>d.sid===s);if(!c){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(s),this.logContext);return}if(!o.startsWith("TR")){const d=this.engine.getTrackIdForReceiver(i);if(!d){this.log.error("Tried to add a track whose 'sid' could not be found for a participant, that's not present. Sid: ".concat(s),this.logContext);return}o=d}o.startsWith("TR")||this.log.warn("Tried to add a track whose 'sid' could not be determined for a participant, that's not present. Sid: ".concat(s,", streamId: ").concat(a,", trackId: ").concat(o),Object.assign(Object.assign({},this.logContext),{rpID:s,streamId:a,trackId:o}));let l;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?l=this.options.adaptiveStream:l={});const u=c.addSubscribedMediaTrack(t,o,n,i,l);u?.isEncrypted&&!this.e2eeManager&&this.emit(G.EncryptionError,new Error("Encrypted ".concat(u.source," track received from participant ").concat(c.sid,", but room does not have encryption enabled!")))}handleDisconnect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var i;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.incomingDataStreamManager.clearControllers(),this.state!==Be.Disconnected){this.regionUrl=void 0,this.regionUrlProvider&&this.regionUrlProvider.notifyDisconnected();try{this.remoteParticipants.forEach(r=>{r.trackPublications.forEach(s=>{r.unpublishTrack(s.trackSid)})}),this.localParticipant.trackPublications.forEach(r=>{var s,a,o;r.track&&this.localParticipant.unpublishTrack(r.track,t),t?((s=r.track)===null||s===void 0||s.detach(),(a=r.track)===null||a===void 0||a.stop()):(o=r.track)===null||o===void 0||o.stopMonitor()}),this.localParticipant.off(ie.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(ie.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(ie.AttributesChanged,this.onLocalAttributesChanged).off(ie.TrackMuted,this.onLocalTrackMuted).off(ie.TrackUnmuted,this.onLocalTrackUnmuted).off(ie.LocalTrackPublished,this.onLocalTrackPublished).off(ie.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(ie.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(ie.MediaDevicesError,this.onMediaDevicesError).off(ie.AudioStreamAcquired,this.startAudio).off(ie.ChatMessage,this.onLocalChatMessageSent).off(ie.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),on()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(i=navigator.mediaDevices)===null||i===void 0||i.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Be.Disconnected),this.emit(G.Disconnected,n)}}}handleParticipantDisconnected(t,n){var i;this.remoteParticipants.delete(t),n&&(this.incomingDataStreamManager.validateParticipantHasNoActiveDataStreams(t),n.trackPublications.forEach(r=>{n.unpublishTrack(r.trackSid,!0)}),this.emit(G.ParticipantDisconnected,n),n.setDisconnected(),(i=this.localParticipant)===null||i===void 0||i.handleParticipantDisconnected(n.identity))}handleIncomingRpcRequest(t,n,i,r,s,a){return P(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(t,n),a!==1){yield this.engine.publishRpcResponse(t,n,null,mt.builtIn("UNSUPPORTED_VERSION"));return}const o=this.rpcHandlers.get(i);if(!o){yield this.engine.publishRpcResponse(t,n,null,mt.builtIn("UNSUPPORTED_METHOD"));return}let c=null,l=null;try{const u=yield o({requestId:n,callerIdentity:t,payload:r,responseTimeout:s});ah(u)>yb?(c=mt.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),console.warn("RPC Response payload too large for ".concat(i))):l=u}catch(u){u instanceof mt?c=u:(console.warn("Uncaught error returned by RPC handler for ".concat(i,". Returning APPLICATION_ERROR instead."),u),c=mt.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(t,n,l,c)})}selectDefaultDevices(){return P(this,void 0,void 0,function*(){var t,n,i;const r=Dt.getInstance().previousDevices,s=yield Dt.getInstance().getDevices(void 0,!1),a=an();if(a?.name==="Chrome"&&a.os!=="iOS")for(let c of s){const l=r.find(u=>u.deviceId===c.deviceId);l&&l.label!==""&&l.kind===c.kind&&l.label!==c.label&&this.getActiveDevice(c.kind)==="default"&&this.emit(G.ActiveDeviceChanged,c.kind,c.deviceId)}const o=["audiooutput","audioinput","videoinput"];for(let c of o){const l=WP(c),u=this.localParticipant.getTrackPublication(l);if(u&&(!((t=u.track)===null||t===void 0)&&t.isUserProvided))continue;const d=s.filter(p=>p.kind===c),h=this.getActiveDevice(c);if(h===((n=r.filter(p=>p.kind===c)[0])===null||n===void 0?void 0:n.deviceId)&&d.length>0&&((i=d[0])===null||i===void 0?void 0:i.deviceId)!==h){yield this.switchActiveDevice(c,d[0].deviceId);continue}c==="audioinput"&&!Ma()||c==="videoinput"||d.length>0&&!d.find(p=>p.deviceId===this.getActiveDevice(c))&&(c!=="audiooutput"||!Ma())&&(yield this.switchActiveDevice(c,d[0].deviceId))}})}acquireAudioContext(){return P(this,void 0,void 0,function*(){var t,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(t=sb())!==null&&t!==void 0?t:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(r=>r.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),qt(200)])}catch(r){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:r}))}const i=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";i!==this.canPlaybackAudio&&(this.audioEnabled=i,this.emit(G.AudioPlaybackStatusChanged,i))})}createParticipant(t,n){var i;let r;return n?r=zc.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):r=new zc(this.engine.client,"",t,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&r.setAudioContext(this.audioContext),!((i=this.options.audioOutput)===null||i===void 0)&&i.deviceId&&r.setAudioOutput(this.options.audioOutput).catch(s=>this.log.warn("Could not set audio output: ".concat(s.message),this.logContext)),r}getOrCreateParticipant(t,n){if(this.remoteParticipants.has(t)){const r=this.remoteParticipants.get(t);return n&&r.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),r}const i=this.createParticipant(t,n);return this.remoteParticipants.set(t,i),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(G.ParticipantConnected,i),i.on(ie.TrackPublished,r=>{this.emitWhenConnected(G.TrackPublished,r,i)}).on(ie.TrackSubscribed,(r,s)=>{r.kind===Z.Kind.Audio?(r.on(J.AudioPlaybackStarted,this.handleAudioPlaybackStarted),r.on(J.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):r.kind===Z.Kind.Video&&(r.on(J.VideoPlaybackFailed,this.handleVideoPlaybackFailed),r.on(J.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(G.TrackSubscribed,r,s,i)}).on(ie.TrackUnpublished,r=>{this.emit(G.TrackUnpublished,r,i)}).on(ie.TrackUnsubscribed,(r,s)=>{this.emit(G.TrackUnsubscribed,r,s,i)}).on(ie.TrackMuted,r=>{this.emitWhenConnected(G.TrackMuted,r,i)}).on(ie.TrackUnmuted,r=>{this.emitWhenConnected(G.TrackUnmuted,r,i)}).on(ie.ParticipantMetadataChanged,r=>{this.emitWhenConnected(G.ParticipantMetadataChanged,r,i)}).on(ie.ParticipantNameChanged,r=>{this.emitWhenConnected(G.ParticipantNameChanged,r,i)}).on(ie.AttributesChanged,r=>{this.emitWhenConnected(G.ParticipantAttributesChanged,r,i)}).on(ie.ConnectionQualityChanged,r=>{this.emitWhenConnected(G.ConnectionQualityChanged,r,i)}).on(ie.ParticipantPermissionsChanged,r=>{this.emitWhenConnected(G.ParticipantPermissionsChanged,r,i)}).on(ie.TrackSubscriptionStatusChanged,(r,s)=>{this.emitWhenConnected(G.TrackSubscriptionStatusChanged,r,s,i)}).on(ie.TrackSubscriptionFailed,(r,s)=>{this.emit(G.TrackSubscriptionFailed,r,i,s)}).on(ie.TrackSubscriptionPermissionChanged,(r,s)=>{this.emitWhenConnected(G.TrackSubscriptionPermissionChanged,r,s,i)}).on(ie.Active,()=>{this.emitWhenConnected(G.ParticipantActive,i),i.kind===Pa.AGENT&&this.localParticipant.setActiveAgent(i)}),n&&i.updateInfo(n),i}sendSyncState(){const t=Array.from(this.remoteParticipants.values()).reduce((i,r)=>(i.push(...r.getTrackPublications()),i),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(t,n)}updateSubscriptions(){for(const t of this.remoteParticipants.values())for(const n of t.videoTrackPublications.values())n.isSubscribed&&zP(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(t){const n=this.sidToIdentity.get(t);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let t=0;this.connectionReconcileInterval=Ut.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(t++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:t,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),t>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,qn.STATE_MISMATCH))):t=0},lR)}clearConnectionReconcile(){this.connectionReconcileInterval&&Ut.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(t){return t===this.state?!1:(this.state=t,this.emit(G.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(t=>{let[n,i]=t;this.emit(n,...i)}),this.bufferedEvents=[]}emitWhenConnected(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(this.state===Be.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([t,i]);else if(this.state===Be.Connected)return this.emit(t,...i);return!1}simulateParticipants(t){return P(this,void 0,void 0,function*(){var n,i;const r=Object.assign({audio:!0,video:!0,useRealTracks:!1},t.publish),s=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants);if(this.handleDisconnect(),this.roomInfo=new vc({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:ut.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new Lr({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(G.SignalConnected),this.emit(G.Connected),this.setAndEmitConnectionState(Be.Connected),r.video){const a=new mh(Z.Kind.Video,new Ss({source:St.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Un.AUDIO,name:"video-dummy"}),new Fc(r.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:tb(160*((n=s.aspectRatios[0])!==null&&n!==void 0?n:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(a),this.localParticipant.emit(ie.LocalTrackPublished,a)}if(r.audio){const a=new mh(Z.Kind.Audio,new Ss({source:St.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Un.AUDIO}),new Xc(r.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:zd(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(a),this.localParticipant.emit(ie.LocalTrackPublished,a)}for(let a=0;a<s.count-1;a+=1){let o=new Lr({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(a),state:ys.ACTIVE,tracks:[],joinedAt:ut.parse(Date.now())});const c=this.getOrCreateParticipant(o.identity,o);if(s.video){const l=tb(160*((i=s.aspectRatios[a%s.aspectRatios.length])!==null&&i!==void 0?i:1),160,!1,!0),u=new Ss({source:St.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Un.AUDIO});c.addSubscribedMediaTrack(l,u.sid,new MediaStream([l]),new RTCRtpReceiver),o.tracks=[...o.tracks,u]}if(s.audio){const l=zd(),u=new Ss({source:St.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Un.AUDIO});c.addSubscribedMediaTrack(l,u.sid,new MediaStream([l]),new RTCRtpReceiver),o.tracks=[...o.tracks,u]}c.updateInfo(o)}})}emit(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(t!==G.ActiveSpeakersChanged&&t!==G.TranscriptionReceived){const s=qb(i).filter(a=>a!==void 0);(t===G.TrackSubscribed||t===G.TrackUnsubscribed)&&this.log.trace("subscribe trace: ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:s})),this.log.debug("room event ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:s}))}return super.emit(t,...i)}}Qs.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{e()});function qb(e){return e.map(t=>{if(t)return Array.isArray(t)?qb(t):typeof t=="object"?"logContext"in t?t.logContext:void 0:t})}var Zn;(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"})(Zn||(Zn={}));class dr extends ii.EventEmitter{constructor(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=Zn.IDLE,this.logs=[],this.options={},this.url=t,this.token=n,this.name=this.constructor.name,this.room=new Qs(i.roomOptions),this.connectOptions=i.connectOptions,this.options=i}run(t){return P(this,void 0,void 0,function*(){if(this.status!==Zn.IDLE)throw Error("check is running already");this.setStatus(Zn.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.options.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==Zn.SKIPPED&&this.setStatus(this.isSuccess()?Zn.SUCCESS:Zn.FAILED),t&&t(),this.getInfo()})}isSuccess(){return!this.logs.some(t=>t.level==="error")}connect(t){return P(this,void 0,void 0,function*(){return this.room.state===Be.Connected?this.room:(t||(t=this.url),yield this.room.connect(t,this.token,this.connectOptions),this.room)})}disconnect(){return P(this,void 0,void 0,function*(){this.room&&this.room.state!==Be.Disconnected&&(yield this.room.disconnect(),yield new Promise(t=>setTimeout(t,500)))})}skip(){this.setStatus(Zn.SKIPPED)}switchProtocol(t){return P(this,void 0,void 0,function*(){let n=!1,i=!1;if(this.room.on(G.Reconnecting,()=>{n=!0}),this.room.once(G.Reconnected,()=>{i=!0}),this.room.simulateScenario("force-".concat(t)),yield new Promise(s=>setTimeout(s,1e3)),!n)return;const r=Date.now()+1e4;for(;Date.now()<r;){if(i)return;yield qt(100)}throw new Error("Could not reconnect using ".concat(t," protocol after 10 seconds"))})}appendMessage(t){this.logs.push({level:"info",message:t}),this.emit("update",this.getInfo())}appendWarning(t){this.logs.push({level:"warning",message:t}),this.emit("update",this.getInfo())}appendError(t){this.logs.push({level:"error",message:t}),this.emit("update",this.getInfo())}setStatus(t){this.status=t,this.emit("update",this.getInfo())}get engine(){var t;return(t=this.room)===null||t===void 0?void 0:t.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}class uR extends dr{get description(){return"Cloud regions"}perform(){return P(this,void 0,void 0,function*(){const t=new Ze(this.url,this.token);if(!t.isCloud()){this.skip();return}const n=[],i=new Set;for(let s=0;s<3;s++){const a=yield t.getNextBestRegionUrl();if(!a)break;if(i.has(a))continue;i.add(a);const o=yield this.checkCloudRegion(a);this.appendMessage("".concat(o.region," RTT: ").concat(o.rtt,"ms, duration: ").concat(o.duration,"ms")),n.push(o)}n.sort((s,a)=>(s.duration-a.duration)*.5+(s.rtt-a.rtt)*.5);const r=n[0];this.bestStats=r,this.appendMessage("best Cloud region: ".concat(r.region))})}getInfo(){const t=super.getInfo();return t.data=this.bestStats,t}checkCloudRegion(t){return P(this,void 0,void 0,function*(){var n,i;yield this.connect(t),this.options.protocol==="tcp"&&(yield this.switchProtocol("tcp"));const r=(n=this.room.serverInfo)===null||n===void 0?void 0:n.region;if(!r)throw new Error("Region not found");const s=yield this.room.localParticipant.streamText({topic:"test"}),a=1e3,c=1e6/a,l="A".repeat(a),u=Date.now();for(let m=0;m<c;m++)yield s.write(l);yield s.close();const d=Date.now(),h=yield(i=this.room.engine.pcManager)===null||i===void 0?void 0:i.publisher.getStats(),p={region:r,rtt:1e4,duration:d-u};return h?.forEach(m=>{m.type==="candidate-pair"&&m.nominated&&(p.rtt=m.currentRoundTripTime*1e3)}),yield this.disconnect(),p})}}const Oh=1e4;class dR extends dr{get description(){return"Connection via UDP vs TCP"}perform(){return P(this,void 0,void 0,function*(){const t=yield this.checkConnectionProtocol("udp"),n=yield this.checkConnectionProtocol("tcp");this.bestStats=t,t.qualityLimitationDurations.bandwidth-n.qualityLimitationDurations.bandwidth>.5||(t.packetsLost-n.packetsLost)/t.packetsSent>.01?(this.appendMessage("best connection quality via tcp"),this.bestStats=n):this.appendMessage("best connection quality via udp");const i=this.bestStats;this.appendMessage("upstream bitrate: ".concat((i.bitrateTotal/i.count/1e3/1e3).toFixed(2)," mbps")),this.appendMessage("RTT: ".concat((i.rttTotal/i.count*1e3).toFixed(2)," ms")),this.appendMessage("jitter: ".concat((i.jitterTotal/i.count*1e3).toFixed(2)," ms")),i.packetsLost>0&&this.appendWarning("packets lost: ".concat((i.packetsLost/i.packetsSent*100).toFixed(2),"%")),i.qualityLimitationDurations.bandwidth>1&&this.appendWarning("bandwidth limited ".concat((i.qualityLimitationDurations.bandwidth/(Oh/1e3)*100).toFixed(2),"%")),i.qualityLimitationDurations.cpu>0&&this.appendWarning("cpu limited ".concat((i.qualityLimitationDurations.cpu/(Oh/1e3)*100).toFixed(2),"%"))})}getInfo(){const t=super.getInfo();return t.data=this.bestStats,t}checkConnectionProtocol(t){return P(this,void 0,void 0,function*(){yield this.connect(),t==="tcp"?yield this.switchProtocol("tcp"):yield this.switchProtocol("udp");const n=document.createElement("canvas");n.width=1280,n.height=720;const i=n.getContext("2d");if(!i)throw new Error("Could not get canvas context");let r=0;const s=()=>{r=(r+1)%360,i.fillStyle="hsl(".concat(r,", 100%, 50%)"),i.fillRect(0,0,n.width,n.height),requestAnimationFrame(s)};s();const o=n.captureStream(30).getVideoTracks()[0],l=(yield this.room.localParticipant.publishTrack(o,{simulcast:!1,degradationPreference:"maintain-resolution",videoEncoding:{maxBitrate:2e6}})).track,u={protocol:t,packetsLost:0,packetsSent:0,qualityLimitationDurations:{},rttTotal:0,jitterTotal:0,bitrateTotal:0,count:0},d=setInterval(()=>P(this,void 0,void 0,function*(){const h=yield l.getRTCStatsReport();h?.forEach(p=>{p.type==="outbound-rtp"?(u.packetsSent=p.packetsSent,u.qualityLimitationDurations=p.qualityLimitationDurations,u.bitrateTotal+=p.targetBitrate,u.count++):p.type==="remote-inbound-rtp"&&(u.packetsLost=p.packetsLost,u.rttTotal+=p.roundTripTime,u.jitterTotal+=p.jitter)})}),1e3);return yield new Promise(h=>setTimeout(h,Oh)),clearInterval(d),o.stop(),n.remove(),yield this.disconnect(),u})}}class hR extends dr{get description(){return"Can publish audio"}perform(){return P(this,void 0,void 0,function*(){var t;const n=yield this.connect(),i=yield $b();if(yield rb(i,1e3))throw new Error("unable to detect audio from microphone");this.appendMessage("detected audio from microphone"),n.localParticipant.publishTrack(i),yield new Promise(o=>setTimeout(o,3e3));const s=yield(t=i.sender)===null||t===void 0?void 0:t.getStats();if(!s)throw new Error("Could not get RTCStats");let a=0;if(s.forEach(o=>{o.type==="outbound-rtp"&&(o.kind==="audio"||!o.kind&&o.mediaType==="audio")&&(a=o.packetsSent)}),a===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(a," audio packets"))})}}class pR extends dr{get description(){return"Can publish video"}perform(){return P(this,void 0,void 0,function*(){var t;const n=yield this.connect(),i=yield rR();yield this.checkForVideo(i.mediaStreamTrack),n.localParticipant.publishTrack(i),yield new Promise(a=>setTimeout(a,5e3));const r=yield(t=i.sender)===null||t===void 0?void 0:t.getStats();if(!r)throw new Error("Could not get RTCStats");let s=0;if(r.forEach(a=>{a.type==="outbound-rtp"&&(a.kind==="video"||!a.kind&&a.mediaType==="video")&&(s+=a.packetsSent)}),s===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(s," video packets"))})}checkForVideo(t){return P(this,void 0,void 0,function*(){const n=new MediaStream;n.addTrack(t.clone());const i=document.createElement("video");i.srcObject=n,i.muted=!0,i.autoplay=!0,i.playsInline=!0,i.setAttribute("playsinline","true"),document.body.appendChild(i),yield new Promise(r=>{i.onplay=()=>{setTimeout(()=>{var s,a,o,c;const l=document.createElement("canvas"),u=t.getSettings(),d=(a=(s=u.width)!==null&&s!==void 0?s:i.videoWidth)!==null&&a!==void 0?a:1280,h=(c=(o=u.height)!==null&&o!==void 0?o:i.videoHeight)!==null&&c!==void 0?c:720;l.width=d,l.height=h;const p=l.getContext("2d");p.drawImage(i,0,0);const O=p.getImageData(0,0,l.width,l.height).data;let b=!0;for(let v=0;v<O.length;v+=4)if(O[v]!==0||O[v+1]!==0||O[v+2]!==0){b=!1;break}b?this.appendError("camera appears to be producing only black frames"):this.appendMessage("received video frames"),r()},1e3)},i.play()}),n.getTracks().forEach(r=>r.stop()),i.remove()})}}class fR extends dr{get description(){return"Resuming connection after interruption"}perform(){return P(this,void 0,void 0,function*(){var t;const n=yield this.connect();let i=!1,r=!1,s;const a=new Promise(l=>{setTimeout(l,5e3),s=l}),o=()=>{i=!0};n.on(G.SignalReconnecting,o).on(G.Reconnecting,o).on(G.Reconnected,()=>{r=!0,s(!0)}),(t=n.engine.client.ws)===null||t===void 0||t.close();const c=n.engine.client.onClose;if(c&&c(""),yield a,i){if(!r||n.state!==Be.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class mR extends dr{get description(){return"Can connect via TURN"}perform(){return P(this,void 0,void 0,function*(){var t,n;const i=new Hd,r=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3,singlePeerConnection:!1});let s=!1,a=!1,o=!1;for(let c of r.iceServers)for(let l of c.urls)l.startsWith("turn:")?(a=!0,o=!0):l.startsWith("turns:")&&(a=!0,o=!0,s=!0),l.startsWith("stun:")&&(o=!0);o?a&&!s&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield i.close(),!((n=(t=this.connectOptions)===null||t===void 0?void 0:t.rtcConfig)===null||n===void 0)&&n.iceServers||a?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(c=>setTimeout(c,0)))})}}class OR extends dr{get description(){return"Establishing WebRTC connection"}perform(){return P(this,void 0,void 0,function*(){let t=!1,n=!1;this.room.on(G.SignalConnected,()=>{var i;const r=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(s,a)=>{if(s.candidate){const o=new RTCIceCandidate(s);let c="".concat(o.protocol," ").concat(o.address,":").concat(o.port," ").concat(o.type);o.address&&(gR(o.address)?c+=" (private)":o.protocol==="tcp"&&o.tcpType==="passive"?(t=!0,c+=" (passive)"):o.protocol==="udp"&&(n=!0)),this.appendMessage(c)}r&&r(s,a)},!((i=this.room.engine.pcManager)===null||i===void 0)&&i.subscriber&&(this.room.engine.pcManager.subscriber.onIceCandidateError=s=>{s instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(s.errorCode," ").concat(s.errorText," ").concat(s.url))})});try{yield this.connect(),ye.info("now the room is connected")}catch(i){throw this.appendWarning("ports need to be open on firewall in order to connect."),i}t||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function gR(e){const t=e.split(".");if(t.length===4){if(t[0]==="10")return!0;if(t[0]==="192"&&t[1]==="168")return!0;if(t[0]==="172"){const n=parseInt(t[1],10);if(n>=16&&n<=31)return!0}}return!1}class vR extends dr{get description(){return"Connecting to signal connection via WebSocket"}perform(){return P(this,void 0,void 0,function*(){var t,n,i;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let r=new Hd;const s=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3,singlePeerConnection:!1});this.appendMessage("Connected to server, version ".concat(s.serverVersion,".")),((t=s.serverInfo)===null||t===void 0?void 0:t.edition)===Ng.Cloud&&(!((n=s.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((i=s.serverInfo)===null||i===void 0?void 0:i.region)),yield r.close()})}}class Rj extends ii.EventEmitter{constructor(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=t,this.token=n,this.options=i}getNextCheckId(){const t=this.checkResults.size;return this.checkResults.set(t,{logs:[],status:Zn.IDLE,name:"",description:""}),t}updateCheck(t,n){this.checkResults.set(t,n),this.emit("checkUpdate",t,n)}isSuccess(){return Array.from(this.checkResults.values()).every(t=>t.status!==Zn.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(t){return P(this,void 0,void 0,function*(){const n=this.getNextCheckId(),i=new t(this.url,this.token,this.options),r=a=>{this.updateCheck(n,a)};i.on("update",r);const s=yield i.run();return i.off("update",r),s})}checkWebsocket(){return P(this,void 0,void 0,function*(){return this.createAndRunCheck(vR)})}checkWebRTC(){return P(this,void 0,void 0,function*(){return this.createAndRunCheck(OR)})}checkTURN(){return P(this,void 0,void 0,function*(){return this.createAndRunCheck(mR)})}checkReconnect(){return P(this,void 0,void 0,function*(){return this.createAndRunCheck(fR)})}checkPublishAudio(){return P(this,void 0,void 0,function*(){return this.createAndRunCheck(hR)})}checkPublishVideo(){return P(this,void 0,void 0,function*(){return this.createAndRunCheck(pR)})}checkConnectionProtocol(){return P(this,void 0,void 0,function*(){const t=yield this.createAndRunCheck(dR);if(t.data&&"protocol"in t.data){const n=t.data;this.options.protocol=n.protocol}return t})}checkCloudRegion(){return P(this,void 0,void 0,function*(){return this.createAndRunCheck(uR)})}}function Ae(e,t,n){return(t=TR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TR(e){var t=bR(e,"string");return typeof t=="symbol"?t:t+""}new TextEncoder,new TextDecoder;class en extends Error{constructor(t,n){var i;super(t,n),Ae(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,(i=Error.captureStackTrace)===null||i===void 0||i.call(Error,this,this.constructor)}}Ae(en,"code","ERR_JOSE_GENERIC");class kR extends en{constructor(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(t,{cause:{claim:i,reason:r,payload:n}}),Ae(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),Ae(this,"claim",void 0),Ae(this,"reason",void 0),Ae(this,"payload",void 0),this.claim=i,this.reason=r,this.payload=n}}Ae(kR,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class yR extends en{constructor(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(t,{cause:{claim:i,reason:r,payload:n}}),Ae(this,"code","ERR_JWT_EXPIRED"),Ae(this,"claim",void 0),Ae(this,"reason",void 0),Ae(this,"payload",void 0),this.claim=i,this.reason=r,this.payload=n}}Ae(yR,"code","ERR_JWT_EXPIRED");class SR extends en{constructor(){super(...arguments),Ae(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}Ae(SR,"code","ERR_JOSE_ALG_NOT_ALLOWED");class _R extends en{constructor(){super(...arguments),Ae(this,"code","ERR_JOSE_NOT_SUPPORTED")}}Ae(_R,"code","ERR_JOSE_NOT_SUPPORTED");class wR extends en{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"decryption operation failed",n=arguments.length>1?arguments[1]:void 0;super(t,n),Ae(this,"code","ERR_JWE_DECRYPTION_FAILED")}}Ae(wR,"code","ERR_JWE_DECRYPTION_FAILED");class ER extends en{constructor(){super(...arguments),Ae(this,"code","ERR_JWE_INVALID")}}Ae(ER,"code","ERR_JWE_INVALID");class xR extends en{constructor(){super(...arguments),Ae(this,"code","ERR_JWS_INVALID")}}Ae(xR,"code","ERR_JWS_INVALID");class CR extends en{constructor(){super(...arguments),Ae(this,"code","ERR_JWT_INVALID")}}Ae(CR,"code","ERR_JWT_INVALID");class PR extends en{constructor(){super(...arguments),Ae(this,"code","ERR_JWK_INVALID")}}Ae(PR,"code","ERR_JWK_INVALID");class AR extends en{constructor(){super(...arguments),Ae(this,"code","ERR_JWKS_INVALID")}}Ae(AR,"code","ERR_JWKS_INVALID");class RR extends en{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"no applicable key found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(t,n),Ae(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}Ae(RR,"code","ERR_JWKS_NO_MATCHING_KEY");class IR extends en{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"multiple matching keys found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(t,n),Ae(this,Symbol.asyncIterator,void 0),Ae(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}Ae(IR,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class QR extends en{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"request timed out",n=arguments.length>1?arguments[1]:void 0;super(t,n),Ae(this,"code","ERR_JWKS_TIMEOUT")}}Ae(QR,"code","ERR_JWKS_TIMEOUT");class NR extends en{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"signature verification failed",n=arguments.length>1?arguments[1]:void 0;super(t,n),Ae(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}Ae(NR,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jn.apply(null,arguments)}const Xb=new Uint8Array(0);class Fa{static getFullOptions(t){var n;const i=(function(r){var s,a;const{textOnly:o}=(s=(a=r.overrides)==null?void 0:a.conversation)!=null?s:{},{textOnly:c}=r;return typeof c=="boolean"?(typeof o=="boolean"&&c!==o&&console.warn(`Conflicting textOnly options provided: ${c} via options.textOnly (will be used) and ${o} via options.overrides.conversation.textOnly (will be ignored)`),c):typeof o=="boolean"?o:void 0})(t);return jn({clientTools:{},onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onAudio:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{},onInterruption:()=>{}},t,{textOnly:i,overrides:jn({},t.overrides,{conversation:jn({},(n=t.overrides)==null?void 0:n.conversation,{textOnly:i})})})}constructor(t,n){var i=this;this.options=void 0,this.connection=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=0,this.canSendFeedback=!1,this.endSessionWithDetails=async function(r){i.status!=="connected"&&i.status!=="connecting"||(i.updateStatus("disconnecting"),await i.handleEndSession(),i.updateStatus("disconnected"),i.options.onDisconnect&&i.options.onDisconnect(r))},this.onMessage=async function(r){switch(r.type){case"interruption":return void i.handleInterruption(r);case"agent_response":return void i.handleAgentResponse(r);case"user_transcript":return void i.handleUserTranscript(r);case"internal_tentative_agent_response":return void i.handleTentativeAgentResponse(r);case"client_tool_call":try{await i.handleClientToolCall(r)}catch(s){i.onError(`Unexpected error in client tool call handling: ${s instanceof Error?s.message:String(s)}`,{clientToolName:r.client_tool_call.tool_name,toolCallId:r.client_tool_call.tool_call_id})}return;case"audio":return void i.handleAudio(r);case"vad_score":return void i.handleVadScore(r);case"ping":return void i.connection.sendMessage({type:"pong",event_id:r.ping_event.event_id});case"mcp_tool_call":return void i.handleMCPToolCall(r);case"mcp_connection_status":return void i.handleMCPConnectionStatus(r);case"agent_tool_request":return void i.handleAgentToolRequest(r);case"agent_tool_response":return void i.handleAgentToolResponse(r);case"conversation_initiation_metadata":return void i.handleConversationMetadata(r);case"asr_initiation_metadata":return void i.handleAsrInitiationMetadata(r);case"agent_chat_response_part":return void i.handleAgentChatResponsePart(r);case"error":return void i.handleErrorEvent(r);default:return void(i.options.onDebug&&i.options.onDebug(r))}},this.setVolume=({volume:r})=>{this.volume=r},this.options=t,this.connection=n,this.options.onConnect&&this.options.onConnect({conversationId:n.conversationId}),this.connection.onMessage(this.onMessage),this.connection.onDisconnect(this.endSessionWithDetails),this.connection.onModeChange(r=>this.updateMode(r)),this.updateStatus("connected")}endSession(){return this.endSessionWithDetails({reason:"user"})}async handleEndSession(){this.connection.close()}updateMode(t){t!==this.mode&&(this.mode=t,this.options.onModeChange&&this.options.onModeChange({mode:t}))}updateStatus(t){t!==this.status&&(this.status=t,this.options.onStatusChange&&this.options.onStatusChange({status:t}))}updateCanSendFeedback(){const t=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==t&&(this.canSendFeedback=t,this.options.onCanSendFeedbackChange&&this.options.onCanSendFeedbackChange({canSendFeedback:t}))}handleInterruption(t){t.interruption_event&&(this.lastInterruptTimestamp=t.interruption_event.event_id,this.options.onInterruption&&this.options.onInterruption({event_id:t.interruption_event.event_id}))}handleAgentResponse(t){this.options.onMessage&&this.options.onMessage({source:"ai",role:"agent",message:t.agent_response_event.agent_response})}handleUserTranscript(t){this.options.onMessage&&this.options.onMessage({source:"user",role:"user",message:t.user_transcription_event.user_transcript})}handleTentativeAgentResponse(t){this.options.onDebug&&this.options.onDebug({type:"tentative_agent_response",response:t.tentative_agent_response_internal_event.tentative_agent_response})}handleVadScore(t){this.options.onVadScore&&this.options.onVadScore({vadScore:t.vad_score_event.vad_score})}async handleClientToolCall(t){if(Object.prototype.hasOwnProperty.call(this.options.clientTools,t.client_tool_call.tool_name))try{var n;const i=(n=await this.options.clientTools[t.client_tool_call.tool_name](t.client_tool_call.parameters))!=null?n:"Client tool execution successful.",r=typeof i=="object"?JSON.stringify(i):String(i);this.connection.sendMessage({type:"client_tool_result",tool_call_id:t.client_tool_call.tool_call_id,result:r,is_error:!1})}catch(i){this.onError(`Client tool execution failed with following error: ${i?.message}`,{clientToolName:t.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:t.client_tool_call.tool_call_id,result:`Client tool execution failed: ${i?.message}`,is_error:!0})}else{if(this.options.onUnhandledClientToolCall)return void this.options.onUnhandledClientToolCall(t.client_tool_call);this.onError(`Client tool with name ${t.client_tool_call.tool_name} is not defined on client`,{clientToolName:t.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:t.client_tool_call.tool_call_id,result:`Client tool with name ${t.client_tool_call.tool_name} is not defined on client`,is_error:!0})}}handleAudio(t){}handleMCPToolCall(t){this.options.onMCPToolCall&&this.options.onMCPToolCall(t.mcp_tool_call)}handleMCPConnectionStatus(t){this.options.onMCPConnectionStatus&&this.options.onMCPConnectionStatus(t.mcp_connection_status)}handleAgentToolRequest(t){this.options.onAgentToolRequest&&this.options.onAgentToolRequest(t.agent_tool_request)}handleAgentToolResponse(t){t.agent_tool_response.tool_name==="end_call"&&this.endSessionWithDetails({reason:"agent",context:new CloseEvent("end_call",{reason:"Agent ended the call"})}),this.options.onAgentToolResponse&&this.options.onAgentToolResponse(t.agent_tool_response)}handleConversationMetadata(t){this.options.onConversationMetadata&&this.options.onConversationMetadata(t.conversation_initiation_metadata_event)}handleAsrInitiationMetadata(t){this.options.onAsrInitiationMetadata&&this.options.onAsrInitiationMetadata(t.asr_initiation_metadata_event)}handleAgentChatResponsePart(t){this.options.onAgentChatResponsePart&&this.options.onAgentChatResponsePart(t.text_response_part)}handleErrorEvent(t){const n=t.error_event.error_type,i=t.error_event.message||t.error_event.reason||"Unknown error";n!=="max_duration_exceeded"?this.onError(`Server error: ${i}`,{errorType:n,code:t.error_event.code,debugMessage:t.error_event.debug_message,details:t.error_event.details}):this.endSessionWithDetails({reason:"error",message:i,context:new Event("max_duration_exceeded")})}onError(t,n){console.error(t,n),this.options.onError&&this.options.onError(t,n)}getId(){return this.connection.conversationId}isOpen(){return this.status==="connected"}setMicMuted(t){this.connection.setMicMuted(t)}getInputByteFrequencyData(){return Xb}getOutputByteFrequencyData(){return Xb}getInputVolume(){return 0}getOutputVolume(){return 0}sendFeedback(t){this.canSendFeedback?(this.connection.sendMessage({type:"feedback",score:t?"like":"dislike",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(this.lastFeedbackEventId===0?"Cannot send feedback: the conversation has not started yet.":"Cannot send feedback: feedback has already been sent for the current response.")}sendContextualUpdate(t){this.connection.sendMessage({type:"contextual_update",text:t})}sendUserMessage(t){this.connection.sendMessage({type:"user_message",text:t})}sendUserActivity(){this.connection.sendMessage({type:"user_activity"})}sendMCPToolApprovalResult(t,n){this.connection.sendMessage({type:"mcp_tool_approval_result",tool_call_id:t,is_approved:n})}}class Fb{constructor(t={}){this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.onModeChangeCallback=null,this.onDebug=void 0,this.onDebug=t.onDebug}debug(t){this.onDebug&&this.onDebug(t)}onMessage(t){this.onMessageCallback=t;const n=this.queue;this.queue=[],n.length>0&&queueMicrotask(()=>{n.forEach(t)})}onDisconnect(t){this.onDisconnectCallback=t;const n=this.disconnectionDetails;n&&queueMicrotask(()=>{t(n)})}onModeChange(t){this.onModeChangeCallback=t}updateMode(t){var n;(n=this.onModeChangeCallback)==null||n.call(this,t)}disconnect(t){var n;this.disconnectionDetails||(this.disconnectionDetails=t,(n=this.onDisconnectCallback)==null||n.call(this,t))}handleMessage(t){this.onMessageCallback?this.onMessageCallback(t):this.queue.push(t)}}function Zc(e){const[t,n]=e.split("_");if(!["pcm","ulaw"].includes(t))throw new Error(`Invalid format: ${e}`);const i=Number.parseInt(n);if(Number.isNaN(i))throw new Error(`Invalid sample rate: ${n}`);return{format:t,sampleRate:i}}const Bb="0.14.0";function gh(e){return!!e.type}const zb="conversation_initiation_client_data";function Zb(e){var t;const n={type:zb};var i,r,s,a,o,c,l,u;return e.overrides&&(n.conversation_config_override={agent:{prompt:(i=e.overrides.agent)==null?void 0:i.prompt,first_message:(r=e.overrides.agent)==null?void 0:r.firstMessage,language:(s=e.overrides.agent)==null?void 0:s.language},tts:{voice_id:(a=e.overrides.tts)==null?void 0:a.voiceId,speed:(o=e.overrides.tts)==null?void 0:o.speed,stability:(c=e.overrides.tts)==null?void 0:c.stability,similarity_boost:(l=e.overrides.tts)==null?void 0:l.similarityBoost},conversation:{text_only:(u=e.overrides.conversation)==null?void 0:u.textOnly}}),e.customLlmExtraBody&&(n.custom_llm_extra_body=e.customLlmExtraBody),e.dynamicVariables&&(n.dynamic_variables=e.dynamicVariables),e.userId&&(n.user_id=e.userId),(t=e.overrides)!=null&&t.client&&(n.source_info={source:e.overrides.client.source,version:e.overrides.client.version}),n}class jb extends Error{constructor(t,n){super(t),this.closeCode=void 0,this.closeReason=void 0,this.name="SessionConnectionError",this.closeCode=n?.closeCode,this.closeReason=n?.closeReason}}let vh=class RE extends Fb{constructor(t,n,i,r){super(),this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.socket=t,this.conversationId=n,this.inputFormat=i,this.outputFormat=r,this.socket.addEventListener("error",s=>{setTimeout(()=>this.disconnect({reason:"error",message:"The connection was closed due to a socket error.",context:s}),0)}),this.socket.addEventListener("close",s=>{this.disconnect(s.code===1e3?{reason:"agent",context:s,closeCode:s.code,closeReason:s.reason||void 0}:{reason:"error",message:s.reason||"The connection was closed by the server.",context:s,closeCode:s.code,closeReason:s.reason||void 0})}),this.socket.addEventListener("message",s=>{try{const a=JSON.parse(s.data);if(!gh(a))return void this.debug({type:"invalid_event",message:"Received invalid socket event",data:s.data});this.handleMessage(a)}catch(a){this.debug({type:"parsing_error",message:"Failed to parse socket message",error:a instanceof Error?a.message:String(a),data:s.data})}})}static async create(t){let n=null;try{var i,r,s;const o=(i=t.origin)!=null?i:"wss://api.elevenlabs.io";let c;const l=((r=t.overrides)==null||(r=r.client)==null?void 0:r.version)||Bb,u=((s=t.overrides)==null||(s=s.client)==null?void 0:s.source)||"js_sdk";if(t.signedUrl){const T=t.signedUrl.includes("?")?"&":"?";c=`${t.signedUrl}${T}source=${u}&version=${l}`}else c=`${o}/v1/convai/conversation?agent_id=${t.agentId}&source=${u}&version=${l}`;const d=["convai"];t.authorization&&d.push(`bearer.${t.authorization}`),n=new WebSocket(c,d);const h=await new Promise((T,S)=>{n.addEventListener("open",()=>{var k;const y=Zb(t);(k=n)==null||k.send(JSON.stringify(y))},{once:!0}),n.addEventListener("error",k=>{setTimeout(()=>S(new jb("The connection was closed due to a socket error.")),0)}),n.addEventListener("close",k=>{S(new jb(k.reason||(k.code===1e3?"Connection closed normally before session could be established.":"Connection closed unexpectedly before session could be established."),{closeCode:k.code,closeReason:k.reason||void 0}))}),n.addEventListener("message",k=>{const y=JSON.parse(k.data);gh(y)&&(y.type==="conversation_initiation_metadata"?T(y.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),{conversation_id:p,agent_output_audio_format:m,user_input_audio_format:O}=h,b=Zc(O??"pcm_16000"),v=Zc(m);return new RE(n,p,b,v)}catch(o){var a;throw(a=n)==null||a.close(),o}}close(){this.socket.close(1e3,"User ended conversation")}sendMessage(t){this.socket.send(JSON.stringify(t))}async setMicMuted(t){console.warn(`WebSocket connection setMicMuted called with ${t}, but this is handled by VoiceConversation`)}};function Vb(e){const t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}function DR(e){const t=window.atob(e),n=t.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer}const jc=new Map;function Wb(e,t){return async(n,i)=>{const r=jc.get(e);if(r)return n.addModule(r);if(i)try{return await n.addModule(i),void jc.set(e,i)}catch(o){throw new Error(`Failed to load the ${e} worklet module from path: ${i}. Error: ${o}`)}const s=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(s);try{return await n.addModule(a),void jc.set(e,a)}catch{URL.revokeObjectURL(a)}try{const o=`data:application/javascript;base64,${btoa(t)}`;await n.addModule(o),jc.set(e,o)}catch{throw new Error(`Failed to load the ${e} worklet module. Make sure the browser supports AudioWorklets. If you are using a strict CSP, you may need to self-host the worklet files.`)}}}const Gb=Wb("rawAudioProcessor",`/*
 * ulaw encoding logic taken from the wavefile library
 * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js
 * USED BY @elevenlabs/client
 */

const BIAS = 0x84;
const CLIP = 32635;
const encodeTable = [
  0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,
  4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7
];

function encodeSample(sample) {
  let sign;
  let exponent;
  let mantissa;
  let muLawSample;
  sign = (sample >> 8) & 0x80;
  if (sign !== 0) sample = -sample;
  sample = sample + BIAS;
  if (sample > CLIP) sample = CLIP;
  exponent = encodeTable[(sample>>7) & 0xFF];
  mantissa = (sample >> (exponent+3)) & 0x0F;
  muLawSample = ~(sign | (exponent << 4) | mantissa);
  
  return muLawSample;
}

class RawAudioProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
              
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.isMuted = false;
          this.buffer = []; // Initialize an empty buffer
          this.bufferSize = data.sampleRate / 10;
          this.format = data.format;

          if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {
            globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {
              this.resampler = resampler;
            });
          }
          break;
        case "setMuted":
          this.isMuted = data.isMuted;
          break;
      }
    };
  }
  process(inputs) {
    if (!this.buffer) {
      return true;
    }
    
    const input = inputs[0]; // Get the first input node
    if (input.length > 0) {
      let channelData = input[0]; // Get the first channel's data

      // Resample the audio if necessary
      if (this.resampler) {
        channelData = this.resampler.full(channelData);
      }

      // Add channel data to the buffer
      this.buffer.push(...channelData);
      // Get max volume 
      let sum = 0.0;
      for (let i = 0; i < channelData.length; i++) {
        sum += channelData[i] * channelData[i];
      }
      const maxVolume = Math.sqrt(sum / channelData.length);
      // Check if buffer size has reached or exceeded the threshold
      if (this.buffer.length >= this.bufferSize) {
        const float32Array = this.isMuted 
          ? new Float32Array(this.buffer.length)
          : new Float32Array(this.buffer);

        let encodedArray = this.format === "ulaw"
          ? new Uint8Array(float32Array.length)
          : new Int16Array(float32Array.length);

        // Iterate through the Float32Array and convert each sample to PCM16
        for (let i = 0; i < float32Array.length; i++) {
          // Clamp the value to the range [-1, 1]
          let sample = Math.max(-1, Math.min(1, float32Array[i]));

          // Scale the sample to the range [-32768, 32767]
          let value = sample < 0 ? sample * 32768 : sample * 32767;
          if (this.format === "ulaw") {
            value = encodeSample(Math.round(value));
          }

          encodedArray[i] = value;
        }

        // Send the buffered data to the main script
        this.port.postMessage([encodedArray, maxVolume]);

        // Clear the buffer after sending
        this.buffer = [];
      }
    }
    return true; // Continue processing
  }
}
registerProcessor("rawAudioProcessor", RawAudioProcessor);
`);let Fr=class IE extends Fb{constructor(t,n,i,r,s={}){super(s),this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.room=void 0,this.isConnected=!1,this.audioEventId=1,this.audioCaptureContext=null,this.audioElements=[],this.outputDeviceId=null,this.outputAnalyser=null,this.outputFrequencyData=null,this.room=t,this.conversationId=n,this.inputFormat=i,this.outputFormat=r,this.setupRoomEventListeners()}static async create(t){let n;if("conversationToken"in t&&t.conversationToken)n=t.conversationToken;else{if(!("agentId"in t)||!t.agentId)throw new Error("Either conversationToken or agentId is required for WebRTC connection");try{var i,r,s;const l=((i=t.overrides)==null||(i=i.client)==null?void 0:i.version)||Bb,u=((r=t.overrides)==null||(r=r.client)==null?void 0:r.source)||"js_sdk",d=`${a=(s=t.origin)!=null?s:"https://api.elevenlabs.io",a.replace(/^wss:\/\//,"https://")}/v1/convai/conversation/token?agent_id=${t.agentId}&source=${u}&version=${l}`,h=await fetch(d);if(!h.ok)throw new Error(`ElevenLabs API returned ${h.status} ${h.statusText}`);if(n=(await h.json()).token,!n)throw new Error("No conversation token received from API")}catch(l){let u=l instanceof Error?l.message:String(l);throw l instanceof Error&&l.message.includes("401")&&(u="Your agent has authentication enabled, but no signed URL or conversation token was provided."),new Error(`Failed to fetch conversation token for agent ${t.agentId}: ${u}`)}}var a;const o=new Qs;try{const l=`room_${Date.now()}`,u=Zc("pcm_48000"),d=Zc("pcm_48000"),h=new IE(o,l,u,d,t),p=t.livekitUrl||"wss://livekit.rtc.elevenlabs.io";var c;await o.connect(p,n),await new Promise(O=>{if(h.isConnected)O();else{const b=()=>{o.off(G.Connected,b),O()};o.on(G.Connected,b)}}),o.name&&(h.conversationId=((c=o.name.match(/(conv_[a-zA-Z0-9]+)/))==null?void 0:c[0])||o.name),t.textOnly||await o.localParticipant.setMicrophoneEnabled(!0);const m=Zb(t);return h.debug({type:zb,message:m}),await h.sendMessage(m),h}catch(l){throw await o.disconnect(),l}}setupRoomEventListeners(){var t=this;this.room.on(G.Connected,async function(){t.isConnected=!0,console.info("WebRTC room connected")}),this.room.on(G.Disconnected,n=>{this.isConnected=!1,this.disconnect({reason:"agent",context:new CloseEvent("close",{reason:n?.toString()})})}),this.room.on(G.ConnectionStateChanged,n=>{n===Be.Disconnected&&(this.isConnected=!1,this.disconnect({reason:"error",message:`LiveKit connection state changed to ${n}`,context:new Event("connection_state_changed")}))}),this.room.on(G.DataReceived,(n,i)=>{try{const r=JSON.parse(new TextDecoder().decode(n));if(r.type==="audio")return;gh(r)?this.handleMessage(r):console.warn("Invalid socket event received:",r)}catch(r){console.warn("Failed to parse incoming data message:",r),console.warn("Raw payload:",new TextDecoder().decode(n))}}),this.room.on(G.TrackSubscribed,async function(n,i,r){if(n.kind===Z.Kind.Audio&&r.identity.includes("agent")){const s=n,a=s.attach();if(a.autoplay=!0,a.controls=!1,t.outputDeviceId&&a.setSinkId)try{await a.setSinkId(t.outputDeviceId)}catch(o){console.warn("Failed to set output device for new audio element:",o)}a.style.display="none",document.body.appendChild(a),t.audioElements.push(a),t.audioElements.length===1&&(t.onDebug==null||t.onDebug({type:"audio_element_ready"})),await t.setupAudioCapture(s)}}),this.room.on(G.ActiveSpeakersChanged,async function(n){t.updateMode(n.length>0&&n[0].identity.startsWith("agent")?"speaking":"listening")}),this.room.on(G.ParticipantDisconnected,n=>{var i;(i=n.identity)!=null&&i.startsWith("agent")&&this.disconnect({reason:"agent",context:new CloseEvent("close",{reason:"agent disconnected"})})})}close(){if(this.isConnected){try{this.room.localParticipant.audioTrackPublications.forEach(t=>{t.track&&t.track.stop()})}catch(t){console.warn("Error stopping local tracks:",t)}this.audioCaptureContext&&(this.audioCaptureContext.close().catch(t=>{console.warn("Error closing audio capture context:",t)}),this.audioCaptureContext=null),this.audioElements.forEach(t=>{t.parentNode&&t.parentNode.removeChild(t)}),this.audioElements=[],this.room.disconnect()}}async sendMessage(t){if(this.isConnected&&this.room.localParticipant){if(!("user_audio_chunk"in t))try{const n=new TextEncoder().encode(JSON.stringify(t));await this.room.localParticipant.publishData(n,{reliable:!0})}catch(n){this.debug({type:"send_message_error",message:{message:t,error:n}}),console.error("Failed to send message via WebRTC:",n)}}else console.warn("Cannot send message: room not connected or no local participant")}getRoom(){return this.room}async setMicMuted(t){if(!this.isConnected||!this.room.localParticipant)return void console.warn("Cannot set microphone muted: room not connected or no local participant");const n=this.room.localParticipant.getTrackPublication(Z.Source.Microphone);if(n!=null&&n.track)try{t?await n.track.mute():await n.track.unmute()}catch{await this.room.localParticipant.setMicrophoneEnabled(!t)}else await this.room.localParticipant.setMicrophoneEnabled(!t)}async setupAudioCapture(t){try{const n=new AudioContext;this.audioCaptureContext=n,this.outputAnalyser=n.createAnalyser(),this.outputAnalyser.fftSize=2048,this.outputAnalyser.smoothingTimeConstant=.8;const i=new MediaStream([t.mediaStreamTrack]),r=n.createMediaStreamSource(i);r.connect(this.outputAnalyser),await Gb(n.audioWorklet);const s=new AudioWorkletNode(n,"rawAudioProcessor");this.outputAnalyser.connect(s),s.port.postMessage({type:"setFormat",format:this.outputFormat.format,sampleRate:this.outputFormat.sampleRate}),s.port.onmessage=a=>{const[o,c]=a.data;if(c>.01){const l=Vb(o.buffer),u=this.audioEventId++;this.handleMessage({type:"audio",audio_event:{audio_base_64:l,event_id:u}})}},r.connect(s)}catch(n){console.warn("Failed to set up audio capture:",n)}}setAudioVolume(t){this.audioElements.forEach(n=>{n.volume=t})}async setAudioOutputDevice(t){if(!("setSinkId"in HTMLAudioElement.prototype))throw new Error("setSinkId is not supported in this browser");const n=this.audioElements.map(async function(i){try{await i.setSinkId(t)}catch(r){throw console.error("Failed to set sink ID for audio element:",r),r}});await Promise.all(n),this.outputDeviceId=t}async setAudioInputDevice(t){if(!this.isConnected||!this.room.localParticipant)throw new Error("Cannot change input device: room not connected or no local participant");try{const n=this.room.localParticipant.getTrackPublication(Z.Source.Microphone);n!=null&&n.track&&(await n.track.stop(),await this.room.localParticipant.unpublishTrack(n.track));const i={deviceId:{exact:t},echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:{ideal:1}},r=await $b(i);await this.room.localParticipant.publishTrack(r,{name:"microphone",source:Z.Source.Microphone})}catch(n){console.error("Failed to change input device:",n);try{await this.room.localParticipant.setMicrophoneEnabled(!0)}catch(i){console.error("Failed to recover microphone after device switch error:",i)}throw n}}getOutputByteFrequencyData(){return this.outputAnalyser?(this.outputFrequencyData!=null||(this.outputFrequencyData=new Uint8Array(this.outputAnalyser.frequencyBinCount)),this.outputAnalyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData):null}};async function Yb(e){const t=(function(n){return n.connectionType?n.connectionType:"conversationToken"in n&&n.conversationToken?"webrtc":"websocket"})(e);switch(t){case"websocket":return vh.create(e);case"webrtc":return Fr.create(e);default:throw new Error(`Unknown connection type: ${t}`)}}function bh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}async function Hb(e={default:0,android:3e3}){let t=e.default;var n;if(/android/i.test(navigator.userAgent))t=(n=e.android)!=null?n:t;else if(bh()){var i;t=(i=e.ios)!=null?i:t}t>0&&await new Promise(r=>setTimeout(r,t))}class Th extends Fa{static async startSession(t){const n=Fa.getFullOptions(t);n.onStatusChange&&n.onStatusChange({status:"connecting"}),n.onCanSendFeedbackChange&&n.onCanSendFeedbackChange({canSendFeedback:!1}),n.onModeChange&&n.onModeChange({mode:"listening"}),n.onCanSendFeedbackChange&&n.onCanSendFeedbackChange({canSendFeedback:!1});let i=null;try{return await Hb(n.connectionDelay),i=await Yb(t),new Th(n,i)}catch(s){var r;throw n.onStatusChange&&n.onStatusChange({status:"disconnected"}),(r=i)==null||r.close(),s}}}const Kb={echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:{ideal:1}};let Jb=class Eu{static async create({sampleRate:t,format:n,preferHeadphonesForIosDevices:i,inputDeviceId:r,workletPaths:s,libsampleratePath:a,onError:o}){let c=null,l=null;try{const h=jn({sampleRate:{ideal:t}},Kb);if(bh()&&i){const S=(await window.navigator.mediaDevices.enumerateDevices()).find(k=>k.kind==="audioinput"&&["airpod","headphone","earphone"].find(y=>k.label.toLowerCase().includes(y)));S&&(h.deviceId={ideal:S.deviceId})}r&&(h.deviceId=Eu.getDeviceIdConstraint(r));const p=navigator.mediaDevices.getSupportedConstraints().sampleRate;c=new window.AudioContext(p?{sampleRate:t}:{});const m=c.createAnalyser();if(!p){const S=a||"https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js";await c.audioWorklet.addModule(S)}await Gb(c.audioWorklet,s?.rawAudioProcessor);const O=jn({voiceIsolation:!0},h);l=await navigator.mediaDevices.getUserMedia({audio:O});const b=c.createMediaStreamSource(l),v=new AudioWorkletNode(c,"rawAudioProcessor");v.port.postMessage({type:"setFormat",format:n,sampleRate:t}),b.connect(m),m.connect(v),await c.resume();const T=await navigator.permissions.query({name:"microphone"});return new Eu(c,m,v,l,b,T,o)}catch(h){var u,d;throw(u=l)==null||u.getTracks().forEach(p=>{p.stop()}),(d=c)==null||d.close(),h}}static getDeviceIdConstraint(t){if(t)return bh()?{ideal:t}:{exact:t}}constructor(t,n,i,r,s,a,o=console.error){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.mediaStreamSource=void 0,this.permissions=void 0,this.onError=void 0,this.settingInput=!1,this.handlePermissionsChange=()=>{if(this.permissions.state==="denied")this.onError("Microphone permission denied");else if(!this.settingInput){var c;const[l]=this.inputStream.getAudioTracks(),{deviceId:u}=(c=l?.getSettings())!=null?c:{};this.setInputDevice(u).catch(d=>{this.onError("Failed to reset input device after permission change:",d)})}},this.context=t,this.analyser=n,this.worklet=i,this.inputStream=r,this.mediaStreamSource=s,this.permissions=a,this.onError=o,this.permissions.addEventListener("change",this.handlePermissionsChange)}forgetInputStreamAndSource(){for(const t of this.inputStream.getTracks())t.stop();this.mediaStreamSource.disconnect()}async close(){this.forgetInputStreamAndSource(),this.permissions.removeEventListener("change",this.handlePermissionsChange),await this.context.close()}setMuted(t){this.worklet.port.postMessage({type:"setMuted",isMuted:t})}async setInputDevice(t){try{if(this.settingInput)throw new Error("Input device is already being set");this.settingInput=!0;const n=jn({},Kb);t&&(n.deviceId=Eu.getDeviceIdConstraint(t));const i=jn({voiceIsolation:!0},n),r=await navigator.mediaDevices.getUserMedia({audio:i});this.forgetInputStreamAndSource(),this.inputStream=r,this.mediaStreamSource=this.context.createMediaStreamSource(r),this.mediaStreamSource.connect(this.analyser)}catch(n){throw this.onError("Failed to switch input device:",n),n}finally{this.settingInput=!1}}};const MR=Wb("audioConcatProcessor",`/*
 * ulaw decoding logic taken from the wavefile library
 * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js
 * USED BY @elevenlabs/client
 */

const decodeTable = [0,132,396,924,1980,4092,8316,16764];

function decodeSample(muLawSample) {
  let sign;
  let exponent;
  let mantissa;
  let sample;
  muLawSample = ~muLawSample;
  sign = (muLawSample & 0x80);
  exponent = (muLawSample >> 4) & 0x07;
  mantissa = muLawSample & 0x0F;
  sample = decodeTable[exponent] + (mantissa << (exponent+3));
  if (sign !== 0) sample = -sample;

  return sample;
}

class AudioConcatProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.buffers = []; // Initialize an empty buffer
    this.cursor = 0;
    this.currentBuffer = null;
    this.wasInterrupted = false;
    this.finished = false;
    
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.format = data.format;
          break;
        case "buffer":
          this.wasInterrupted = false;
          this.buffers.push(
            this.format === "ulaw"
              ? new Uint8Array(data.buffer)
              : new Int16Array(data.buffer)
          );
          break;
        case "interrupt":
          this.wasInterrupted = true;
          break;
        case "clearInterrupted":
          if (this.wasInterrupted) {
            this.wasInterrupted = false;
            this.buffers = [];
            this.currentBuffer = null;
          }
      }
    };
  }
  process(_, outputs) {
    let finished = false;
    const output = outputs[0][0];
    for (let i = 0; i < output.length; i++) {
      if (!this.currentBuffer) {
        if (this.buffers.length === 0) {
          finished = true;
          break;
        }
        this.currentBuffer = this.buffers.shift();
        this.cursor = 0;
      }

      let value = this.currentBuffer[this.cursor];
      if (this.format === "ulaw") {
        value = decodeSample(value);
      }
      output[i] = value / 32768;
      this.cursor++;

      if (this.cursor >= this.currentBuffer.length) {
        this.currentBuffer = null;
      }
    }

    if (this.finished !== finished) {
      this.finished = finished;
      this.port.postMessage({ type: "process", finished });
    }

    return true; // Continue processing
  }
}

registerProcessor("audioConcatProcessor", AudioConcatProcessor);
`);class Vc{static async create({sampleRate:t,format:n,outputDeviceId:i,workletPaths:r}){let s=null,a=null;try{s=new AudioContext({sampleRate:t});const l=s.createAnalyser(),u=s.createGain();a=new Audio,a.src="",a.load(),a.autoplay=!0,a.style.display="none",document.body.appendChild(a);const d=s.createMediaStreamDestination();a.srcObject=d.stream,u.connect(l),l.connect(d),await MR(s.audioWorklet,r?.audioConcatProcessor);const h=new AudioWorkletNode(s,"audioConcatProcessor");return h.port.postMessage({type:"setFormat",format:n}),h.connect(u),await s.resume(),i&&a.setSinkId&&await a.setSinkId(i),new Vc(s,l,u,h,a)}catch(l){var o,c;throw(o=a)!=null&&o.parentNode&&a.parentNode.removeChild(a),(c=a)==null||c.pause(),s&&s.state!=="closed"&&await s.close(),l}}constructor(t,n,i,r,s){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.audioElement=void 0,this.context=t,this.analyser=n,this.gain=i,this.worklet=r,this.audioElement=s}async setOutputDevice(t){if(!("setSinkId"in HTMLAudioElement.prototype))throw new Error("setSinkId is not supported in this browser");await this.audioElement.setSinkId(t||"")}async close(){this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement),this.audioElement.pause(),await this.context.close()}}class Ba extends Fa{static async requestWakeLock(){if("wakeLock"in navigator)try{return await navigator.wakeLock.request("screen")}catch{}return null}static async startSession(t){var n;const i=Fa.getFullOptions(t);i.onStatusChange&&i.onStatusChange({status:"connecting"}),i.onCanSendFeedbackChange&&i.onCanSendFeedbackChange({canSendFeedback:!1});let r=null,s=null,a=null,o=null,c=null;((n=t.useWakeLock)==null||n)&&(c=await Ba.requestWakeLock());try{var l;return o=await navigator.mediaDevices.getUserMedia({audio:!0}),await Hb(i.connectionDelay),s=await Yb(t),[r,a]=await Promise.all([Jb.create(jn({},s.inputFormat,{preferHeadphonesForIosDevices:t.preferHeadphonesForIosDevices,inputDeviceId:t.inputDeviceId,workletPaths:t.workletPaths,libsampleratePath:t.libsampleratePath})),Vc.create(jn({},s.outputFormat,{outputDeviceId:t.outputDeviceId,workletPaths:t.workletPaths}))]),(l=o)==null||l.getTracks().forEach(O=>{O.stop()}),o=null,new Ba(i,s,r,a,c)}catch(O){var u,d,h,p;i.onStatusChange&&i.onStatusChange({status:"disconnected"}),(u=o)==null||u.getTracks().forEach(b=>{b.stop()}),(d=s)==null||d.close(),await((h=r)==null?void 0:h.close()),await((p=a)==null?void 0:p.close());try{var m;await((m=c)==null?void 0:m.release()),c=null}catch{}throw O}}constructor(t,n,i,r,s){super(t,n),this.input=void 0,this.output=void 0,this.wakeLock=void 0,this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.visibilityChangeHandler=null,this.onInputWorkletMessage=a=>{this.status==="connected"&&this.connection.sendMessage({user_audio_chunk:Vb(a.data[0].buffer)})},this.onOutputWorkletMessage=({data:a})=>{a.type==="process"&&this.updateMode(a.finished?"listening":"speaking")},this.addAudioBase64Chunk=a=>{this.output.gain.gain.cancelScheduledValues(this.output.context.currentTime),this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"}),this.output.worklet.port.postMessage({type:"buffer",buffer:DR(a)})},this.fadeOutAudio=()=>{this.updateMode("listening"),this.output.worklet.port.postMessage({type:"interrupt"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.calculateVolume=a=>{if(a.length===0)return 0;let o=0;for(let c=0;c<a.length;c++)o+=a[c]/255;return o/=a.length,o<0?0:o>1?1:o},this.setVolume=({volume:a})=>{const o=Number.isFinite(a)?Math.min(1,Math.max(0,a)):1;this.volume=o,this.connection instanceof Fr?this.connection.setAudioVolume(o):this.output.gain.gain.value=o},this.input=i,this.output=r,this.wakeLock=s,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,s&&(this.visibilityChangeHandler=()=>{var a;document.visibilityState==="visible"&&(a=this.wakeLock)!=null&&a.released&&Ba.requestWakeLock().then(o=>{this.wakeLock=o})},document.addEventListener("visibilitychange",this.visibilityChangeHandler))}async handleEndSession(){await super.handleEndSession(),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler);try{var t;await((t=this.wakeLock)==null?void 0:t.release()),this.wakeLock=null}catch{}await this.input.close(),await this.output.close()}handleInterruption(t){super.handleInterruption(t),this.fadeOutAudio()}handleAudio(t){var n,i;super.handleAudio(t),t.audio_event.alignment&&this.options.onAudioAlignment&&this.options.onAudioAlignment(t.audio_event.alignment),this.lastInterruptTimestamp<=t.audio_event.event_id&&(t.audio_event.audio_base_64&&((n=(i=this.options).onAudio)==null||n.call(i,t.audio_event.audio_base_64),this.connection instanceof Fr||this.addAudioBase64Chunk(t.audio_event.audio_base_64)),this.currentEventId=t.audio_event.event_id,this.updateCanSendFeedback(),this.updateMode("speaking"))}setMicMuted(t){this.connection instanceof Fr?this.connection.setMicMuted(t):this.input.setMuted(t)}getInputByteFrequencyData(){return this.inputFrequencyData!=null||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData}getOutputByteFrequencyData(){return this.connection instanceof Fr?this.connection.getOutputByteFrequencyData()||new Uint8Array(1024):(this.outputFrequencyData!=null||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData)}getInputVolume(){return this.calculateVolume(this.getInputByteFrequencyData())}getOutputVolume(){return this.calculateVolume(this.getOutputByteFrequencyData())}async changeInputDevice({sampleRate:t,format:n,preferHeadphonesForIosDevices:i,inputDeviceId:r}){try{if(this.connection instanceof vh)try{return await this.input.setInputDevice(r),this.input}catch(a){console.warn("Failed to change device on existing input, recreating:",a)}this.connection instanceof Fr&&await this.connection.setAudioInputDevice(r||""),await this.input.close();const s=await Jb.create({sampleRate:t??this.connection.inputFormat.sampleRate,format:n??this.connection.inputFormat.format,preferHeadphonesForIosDevices:i,inputDeviceId:r,workletPaths:this.options.workletPaths,libsampleratePath:this.options.libsampleratePath,onError:this.options.onError});return this.input=s,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.input}catch(s){throw console.error("Error changing input device",s),s}}async changeOutputDevice({sampleRate:t,format:n,outputDeviceId:i}){try{if(this.connection instanceof vh)try{return await this.output.setOutputDevice(i),this.output}catch(s){console.warn("Failed to change device on existing output, recreating:",s)}this.connection instanceof Fr&&await this.connection.setAudioOutputDevice(i||""),await this.output.close();const r=await Vc.create({sampleRate:t??this.connection.outputFormat.sampleRate,format:n??this.connection.outputFormat.format,outputDeviceId:i,workletPaths:this.options.workletPaths});return this.output=r,this.output}catch(r){throw console.error("Error changing output device",r),r}}}function e0(e,t,n="https://api.elevenlabs.io"){const i={};return typeof t=="boolean"?i.feedback=t?"like":"dislike":(i.rating=t.rating,i.comment=t.comment),fetch(`${n}/v1/convai/conversations/${e}/feedback`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}})}var t0;(function(e){e.SESSION_STARTED="session_started",e.PARTIAL_TRANSCRIPT="partial_transcript",e.COMMITTED_TRANSCRIPT="committed_transcript",e.COMMITTED_TRANSCRIPT_WITH_TIMESTAMPS="committed_transcript_with_timestamps",e.AUTH_ERROR="auth_error",e.ERROR="error",e.OPEN="open",e.CLOSE="close",e.QUOTA_EXCEEDED="quota_exceeded",e.COMMIT_THROTTLED="commit_throttled",e.TRANSCRIBER_ERROR="transcriber_error",e.UNACCEPTED_TERMS="unaccepted_terms",e.RATE_LIMITED="rate_limited",e.INPUT_ERROR="input_error",e.QUEUE_OVERFLOW="queue_overflow",e.RESOURCE_EXHAUSTED="resource_exhausted",e.SESSION_TIME_LIMIT_EXCEEDED="session_time_limit_exceeded",e.CHUNK_SIZE_EXCEEDED="chunk_size_exceeded",e.INSUFFICIENT_AUDIO_ACTIVITY="insufficient_audio_activity"})(t0||(t0={}));var n0,i0;(function(e){e.PCM_8000="pcm_8000",e.PCM_16000="pcm_16000",e.PCM_22050="pcm_22050",e.PCM_24000="pcm_24000",e.PCM_44100="pcm_44100",e.PCM_48000="pcm_48000",e.ULAW_8000="ulaw_8000"})(n0||(n0={})),(function(e){e.MANUAL="manual",e.VAD="vad"})(i0||(i0={}));let LR=class QE extends Fa{static startSession(t){const n=QE.getFullOptions(t);return n.textOnly?Th.startSession(n):Ba.startSession(n)}};function cn(e){return e?e==="true"?!0:e==="false"?!1:null:null}const kh=["variant","placement","override-config","avatar-image-url","avatar-orb-color-1","avatar-orb-color-2","agent-id","signed-url","terms-key","server-location","language","dynamic-variables","show-avatar-when-collapsed","override-prompt","override-llm","override-speed","override-stability","override-similarity-boost","override-first-message","override-language","override-voice-id","override-text-only","mic-muting","transcript","text-input","text-contents","default-expanded","always-expanded","dismissible","strip-audio-tags","user-id","use-rtc","collect-feedback","worklet-path-raw-audio-processor","worklet-path-audio-concat-processor","worklet-path-libsamplerate","syntax-highlight-theme","markdown-link-allowed-hosts","markdown-link-include-www","markdown-link-allow-http","show-agent-status"],$R='@import"https://fonts.googleapis.com/css2?family=Inter:wght@400,500&display=swap";@layer components;@layer properties{@supports ((not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial}}}@layer theme{:host,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--font-weight-medium:500;--font-weight-semibold:600;--ease-out:cubic-bezier(0,0,.2,1);--animate-spin:spin 1s linear infinite;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer utilities{.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.\\!visible{visibility:visible!important}.collapse{visibility:collapse}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:0}.start-3{inset-inline-start:12px}.end-3{inset-inline-end:12px}.top-0{top:0}.top-1{top:4px}.top-1\\/2{top:50%}.top-4{top:16px}.top-16{top:64px}.top-20{top:80px}.top-\\[40\\%\\]{top:40%}.top-\\[88px\\]{top:88px}.right-0{right:0}.right-1{right:4px}.-bottom-3{bottom:-12px}.bottom-0{bottom:0}.bottom-20{bottom:80px}.left-0{left:0}.left-1\\/2{left:50%}.left-4{left:16px}.z-1{z-index:1}.z-2{z-index:2}.z-10{z-index:10}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.m-0{margin:0}.m-1{margin:4px}.-mx-0\\.5{margin-inline:-2px}.mx-1{margin-inline:4px}.-my-4{margin-block:-16px}.my-4{margin-block:16px}.my-6{margin-block:24px}.ms-auto{margin-inline-start:auto}.mt-3{margin-top:12px}.mt-4{margin-top:16px}.mt-6{margin-top:24px}.-mr-1\\.5{margin-right:-6px}.mb-0\\.5{margin-bottom:2px}.mb-1{margin-bottom:4px}.mb-2{margin-bottom:8px}.mb-3{margin-bottom:12px}.mb-4{margin-bottom:16px}.ml-4{margin-left:16px}.ml-auto{margin-left:auto}.\\!flex{display:flex!important}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.list-item{display:list-item}.table{display:table}.table-cell{display:table-cell}.table-row{display:table-row}.\\[field-sizing\\:content\\],.field-sizing-content{field-sizing:content}.h-4{height:16px}.h-5{height:20px}.h-6{height:24px}.h-7{height:28px}.h-8{height:32px}.h-9{height:36px}.h-12{height:48px}.h-16{height:64px}.h-48{height:192px}.h-full{height:100%}.h-screen{height:100vh}.max-h-\\[50\\%\\]{max-height:50%}.max-h-\\[min\\(384px\\,var\\(--radix-select-content-available-height\\)\\)\\]{max-height:min(384px,var(--radix-select-content-available-height))}.max-h-full{max-height:100%}.min-h-0{min-height:0}.min-h-\\[6lh\\]{min-height:6lh}.min-h-full{min-height:100%}.min-h-min{min-height:min-content}.w-1\\/2{width:50%}.w-4{width:16px}.w-5{width:20px}.w-6{width:24px}.w-8{width:32px}.w-9{width:36px}.w-12{width:48px}.w-20{width:80px}.w-48{width:192px}.w-64{width:256px}.w-full{width:100%}.w-screen{width:100vw}.max-w-64{max-width:256px}.max-w-\\[400px\\]{max-width:400px}.max-w-full{max-width:100%}.\\!min-w-60{min-width:240px!important}.min-w-0{min-width:0}.min-w-9{min-width:36px}.min-w-60{min-width:240px}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.min-w-max{min-width:max-content}.min-w-min{min-width:min-content}.flex-1{flex:1}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.border-collapse{border-collapse:collapse}.origin-bottom{transform-origin:bottom}.origin-bottom-left{transform-origin:0 100%}.origin-bottom-right{transform-origin:100% 100%}.origin-top{transform-origin:top}.origin-top-left{transform-origin:0 0}.origin-top-right{transform-origin:100% 0}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-\\[calc\\(var\\(--el-overlay-padding\\)\\)\\]{--tw-translate-y:calc(calc(var(--el-overlay-padding))*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-full{--tw-translate-y:-100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1\\/2{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-\\[calc\\(var\\(--el-overlay-padding\\)\\)\\]{--tw-translate-y:calc(var(--el-overlay-padding));translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-full{--tw-translate-y:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-75{--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-90{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-100{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-150{--tw-scale-x:150%;--tw-scale-y:150%;--tw-scale-z:150%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-\\[0\\.1667\\]{scale:.1667}.-rotate-90{rotate:-90deg}.-rotate-180{rotate:-180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.resize{resize:both}.resize-none{resize:none}.list-outside{list-style-position:outside}.list-decimal{list-style-type:decimal}.list-disc{list-style-type:disc}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-row{flex-direction:row}.place-content-center{place-content:center}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-1{gap:4px}.gap-1\\.5{gap:6px}.gap-2{gap:8px}.gap-2\\.5{gap:10px}.gap-3{gap:12px}.gap-6{gap:24px}.gap-8{gap:32px}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-base-border>:not(:last-child)){border-color:var(--el-base-border)}.self-auto{align-self:auto}.self-stretch{align-self:stretch}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-auto{overflow-y:auto}.rounded-\\[calc\\(var\\(--el-button-radius\\)\\+4px\\)\\]{border-radius:calc(var(--el-button-radius) + 4px)}.rounded-\\[calc\\(var\\(--el-sheet-radius\\)-8px\\)\\]{border-radius:calc(var(--el-sheet-radius) - 8px)}.rounded-bubble{border-radius:var(--el-bubble-radius)}.rounded-button{border-radius:var(--el-button-radius)}.rounded-compact-sheet{border-radius:var(--el-compact-sheet-radius)}.rounded-dropdown-sheet{border-radius:var(--el-dropdown-sheet-radius)}.rounded-full{border-radius:9999px}.rounded-input{border-radius:var(--el-input-radius)}.rounded-sheet{border-radius:var(--el-sheet-radius)}.border{border-style:var(--tw-border-style);border-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l-4{border-left-style:var(--tw-border-style);border-left-width:4px}.border-accent{border-color:var(--el-accent)}.border-base{border-color:var(--el-base)}.border-base-border{border-color:var(--el-base-border)}.border-base-subtle\\/30{border-color:var(--el-base-subtle)}@supports (color:color-mix(in lab,red,red)){.border-base-subtle\\/30{border-color:color-mix(in oklab,var(--el-base-subtle)30%,transparent)}}.bg-accent{background-color:var(--el-accent)}.bg-base{background-color:var(--el-base)}.bg-base-active,.bg-base-active\\/40{background-color:var(--el-base-active)}@supports (color:color-mix(in lab,red,red)){.bg-base-active\\/40{background-color:color-mix(in oklab,var(--el-base-active)40%,transparent)}}.bg-base-active\\/80{background-color:var(--el-base-active)}@supports (color:color-mix(in lab,red,red)){.bg-base-active\\/80{background-color:color-mix(in oklab,var(--el-base-active)80%,transparent)}}.bg-base-border{background-color:var(--el-base-border)}.bg-base-hover{background-color:var(--el-base-hover)}.bg-gradient-to-b{--tw-gradient-position:to bottom in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-t{--tw-gradient-position:to top in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-base{--tw-gradient-from:var(--el-base);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.\\[mask-image\\:linear-gradient\\(to_bottom\\,black\\,transparent\\)\\]{-webkit-mask-image:linear-gradient(#000,#0000);mask-image:linear-gradient(#000,#0000)}.\\[mask-image\\:linear-gradient\\(to_top\\,black\\,transparent\\)\\]{-webkit-mask-image:linear-gradient(#0000,#000);mask-image:linear-gradient(#0000,#000)}.bg-cover{background-size:cover}.object-cover{object-fit:cover}.p-1{padding:4px}.p-1\\.5{padding:6px}.p-2{padding:8px}.p-3{padding:12px}.p-4{padding:16px}.px-1{padding-inline:4px}.px-1\\.5{padding-inline:6px}.px-2{padding-inline:8px}.px-2\\.5{padding-inline:10px}.px-3{padding-inline:12px}.px-4{padding-inline:16px}.px-8{padding-inline:32px}.py-0\\.5{padding-block:2px}.py-1{padding-block:4px}.py-1\\.5{padding-block:6px}.py-2{padding-block:8px}.py-2\\.5{padding-block:10px}.py-4{padding-block:16px}.py-\\[calc\\(theme\\(spacing\\.2\\)-1px\\)\\]{padding-block:7px}.pt-1{padding-top:4px}.pt-1\\.5{padding-top:6px}.pt-2{padding-top:8px}.pt-4{padding-top:16px}.pt-20{padding-top:80px}.pr-3{padding-right:12px}.pr-8{padding-right:32px}.pr-16{padding-right:64px}.pb-1{padding-bottom:4px}.pb-2{padding-bottom:8px}.pb-3{padding-bottom:12px}.pb-4{padding-bottom:16px}.pb-\\[60px\\]{padding-bottom:60px}.pl-1\\.5{padding-left:6px}.pl-4{padding-left:16px}.pl-16{padding-left:64px}.text-center{text-align:center}.text-left{text-align:left}.font-mono{font-family:var(--font-mono)}.text-lg{font-size:18px;line-height:var(--tw-leading,26px)}.text-md{font-size:16px;line-height:var(--tw-leading,24px)}.text-sm{font-size:14px;line-height:var(--tw-leading,20px)}.text-xl{font-size:20px;line-height:var(--tw-leading,28px)}.text-xs{font-size:12px;line-height:var(--tw-leading,16px)}.text-\\[10px\\]{font-size:10px}.text-\\[13px\\]{font-size:13px}.leading-4{--tw-leading:16px;line-height:16px}.leading-5{--tw-leading:20px;line-height:20px}.\\[line-height\\:var\\(--el-overlay-padding\\)\\]{line-height:var(--el-overlay-padding)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.wrap-anywhere{overflow-wrap:anywhere}.wrap-break-word{overflow-wrap:break-word}.break-all{word-break:break-all}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.text-accent-primary{color:var(--el-accent-primary)}.text-base-border{color:var(--el-base-border)}.text-base-error{color:var(--el-base-error)}.text-base-primary{color:var(--el-base-primary)}.text-base-subtle{color:var(--el-base-subtle)}.italic{font-style:italic}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-30{opacity:.3}.shadow-header{--tw-shadow:0 0 1px 0 var(--tw-shadow-color,#0006),0 2px 2px 0 var(--tw-shadow-color,#0000000a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 2px 40px 1px var(--tw-shadow-color,#0000001f);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 2px 24px 1px var(--tw-shadow-color,#00000029);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-scroll-fade-bottom{--tw-shadow:0 8px 16px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-scroll-fade-top{--tw-shadow:0 -8px 16px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-accent{--tw-ring-color:var(--el-accent)}.outline-hidden{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.outline-hidden{outline-offset:2px;outline:2px solid #0000}}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-\\[1px\\]{--tw-backdrop-blur:blur(1px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[border-radius\\]{transition-property:border-radius;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[colors\\,opacity\\]{transition-property:colors,opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[margin\\]{transition-property:margin;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,transform\\]{transition-property:opacity,transform;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,width\\,height\\,transform\\,flex-grow\\]{transition-property:opacity,width,height,transform,flex-grow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\]{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[transform\\,left\\,top\\,opacity\\,scale\\]{transition-property:transform,left,top,opacity,scale;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[transform\\,opacity\\]{transition-property:transform,opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[width\\,height\\,max-width\\,max-height\\,transform\\,border-radius\\,opacity\\,inset\\,bottom\\,top\\,left\\,right\\,margin\\,padding\\]{transition-property:width,height,max-width,max-height,transform,border-radius,opacity,inset,bottom,top,left,right,margin,padding;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.select-none{-webkit-user-select:none;user-select:none}.group-focus-within\\:pointer-events-auto:is(:where(.group):focus-within *){pointer-events:auto}.group-focus-within\\:opacity-100:is(:where(.group):focus-within *){opacity:1}@media(hover:hover){.group-hover\\:pointer-events-auto:is(:where(.group):hover *){pointer-events:auto}.group-hover\\:opacity-100:is(:where(.group):hover *){opacity:1}}.placeholder\\:text-base-subtle::placeholder{color:var(--el-base-subtle)}.first\\:mt-0:first-child,:is(.\\*\\:first\\:mt-0>*):first-child{margin-top:0}.last\\:mb-0:last-child,:is(.\\*\\:last\\:mb-0>*):last-child{margin-bottom:0}@media(hover:hover){.hover\\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\\:border-accent-hover:hover{border-color:var(--el-accent-hover)}.hover\\:border-base-hover:hover{border-color:var(--el-base-hover)}.hover\\:bg-accent-hover:hover{background-color:var(--el-accent-hover)}.hover\\:bg-base-hover:hover{background-color:var(--el-base-hover)}.hover\\:opacity-50:hover{opacity:.5}}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.focus-visible\\:underline-offset-2:focus-visible{text-underline-offset:2px}.focus-visible\\:opacity-100:focus-visible{opacity:1}.focus-visible\\:outline-hidden:focus-visible{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.focus-visible\\:outline-hidden:focus-visible{outline-offset:2px;outline:2px solid #0000}}.active\\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\\:border-accent-active:active{border-color:var(--el-accent-active)}.active\\:border-base-active:active{border-color:var(--el-base-active)}.active\\:bg-accent-active:active{background-color:var(--el-accent-active)}.active\\:bg-base-active:active{background-color:var(--el-base-active)}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.data-hidden\\:translate-x-full[data-shown=false]{--tw-translate-x:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:-translate-y-4[data-shown=false]{--tw-translate-y: -16px ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:translate-y-2[data-shown=false]{--tw-translate-y:8px;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-hidden\\:scale-75[data-shown=false]{--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:scale-90[data-shown=false]{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:scale-100[data-shown=false]{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.data-hidden\\:opacity-0[data-shown=false]{opacity:0}.data-highlighted\\:bg-base-active[data-highlighted]{background-color:var(--el-base-active)}.overlay{inset:var(--el-overlay-padding);right:calc(var(--el-overlay-padding) + var(--removed-body-scroll-bar-size,0px));position:absolute}.focus-ring{--tw-ring-color:var(--el-accent);--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-offset-color:var(--el-base)}.focus-ring:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);--tw-outline-style:none;outline-style:none}[data-variant=compact].sheet{border-radius:var(--el-sheet-radius);width:100%;max-width:400px;height:calc(100% - 80px);max-height:550px}[data-variant=expanded].sheet{border-radius:var(--el-sheet-radius);width:100%;max-width:600px;height:100%;max-height:calc(100% - 80px)}[data-variant=fullscreen].sheet{width:100%;max-width:100dvw;height:100%;max-height:100dvh;margin:calc(-1*var(--el-overlay-padding));width:calc(100% + 2*var(--el-overlay-padding));height:calc(100% + 2*var(--el-overlay-padding));border-radius:0;padding-bottom:24px;bottom:0}.animate-text{background-image:linear-gradient(75deg,var(--el-base-primary),var(--el-base-subtle),var(--el-base-primary),var(--el-base-subtle));color:#0000;background-size:300% 100%;-webkit-background-clip:text;background-clip:text;animation:2s linear infinite TextAnimation}@keyframes TextAnimation{0%{background-position:0 0}to{background-position:100% 0}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin{animation:1s linear infinite spin}.terms h6{font-size:12px;line-height:var(--tw-leading,16px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h5{font-size:14px;line-height:var(--tw-leading,20px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h4{font-size:16px;line-height:var(--tw-leading,24px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h3{font-size:18px;line-height:var(--tw-leading,26px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h2{font-size:20px;line-height:var(--tw-leading,28px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}.terms h1{font-size:24px;line-height:var(--tw-leading,30px);--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--el-base-primary)}}.dev-host,:host{pointer-events:none;z-index:1000;font-size:16px;line-height:var(--tw-leading,24px);color:var(--el-base-primary);scrollbar-color:#e5e7eb transparent;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;position:fixed;inset:0}.markdown{text-autospace:normal;text-spacing-trim:trim-start}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{word-break:auto-phrase}.tok-comment,.tok-meta{color:#6a737d}.tok-keyword{color:#d73a49}.tok-atom,.tok-bool,.tok-literal,.tok-number{color:#005cc5}.tok-string,.tok-string2{color:#032f62}.tok-variableName{color:#24292e}.tok-variableName.tok-definition{color:#6f42c1}.tok-variableName.tok-local{color:#24292e}.tok-variableName2,.tok-macroName,.tok-typeName,.tok-namespace,.tok-className{color:#6f42c1}.tok-propertyName{color:#24292e}.tok-propertyName.tok-definition{color:#005cc5}.tok-labelName{color:#22863a}.tok-url,.tok-link{color:#032f62;text-decoration:underline}.tok-operator{color:#d73a49}.tok-punctuation{color:#24292e}.tok-invalid{color:#b31d28}.tok-deleted{color:#b31d28;background-color:#ffeef0}.tok-inserted{color:#22863a;background-color:#f0fff4}.tok-heading{color:#005cc5;font-weight:700}.tok-emphasis{color:#24292e;font-style:italic}.tok-strong{color:#24292e;font-weight:700}.tok-strikethrough{text-decoration:line-through}.tok-monospace{color:#005cc5}.tok-processingInstruction,[data-syntax-theme=dark] .tok-comment,[data-syntax-theme=dark] .tok-meta{color:#6a737d}[data-syntax-theme=dark] .tok-keyword{color:#f97583}[data-syntax-theme=dark] .tok-atom,[data-syntax-theme=dark] .tok-bool,[data-syntax-theme=dark] .tok-literal,[data-syntax-theme=dark] .tok-number,[data-syntax-theme=dark] .tok-propertyName.tok-definition{color:#79b8ff}[data-syntax-theme=dark] .tok-string,[data-syntax-theme=dark] .tok-string2{color:#9ecbff}[data-syntax-theme=dark] .tok-url,[data-syntax-theme=dark] .tok-link{color:#dbedff}[data-syntax-theme=dark] .tok-variableName,[data-syntax-theme=dark] .tok-variableName.tok-local,[data-syntax-theme=dark] .tok-propertyName,[data-syntax-theme=dark] .tok-emphasis,[data-syntax-theme=dark] .tok-strong{color:#e1e4e8}[data-syntax-theme=dark] .tok-variableName.tok-definition,[data-syntax-theme=dark] .tok-variableName2,[data-syntax-theme=dark] .tok-macroName,[data-syntax-theme=dark] .tok-typeName,[data-syntax-theme=dark] .tok-namespace,[data-syntax-theme=dark] .tok-className{color:#b392f0}[data-syntax-theme=dark] .tok-labelName{color:#85e89d}[data-syntax-theme=dark] .tok-invalid{color:#fdaeb7}[data-syntax-theme=dark] .tok-deleted{color:#fdaeb7;background-color:#86181d}[data-syntax-theme=dark] .tok-inserted{color:#85e89d;background-color:#144620}[data-syntax-theme=dark] .tok-heading{color:#79b8ff}[data-syntax-theme=dark] .tok-operator{color:#f97583}[data-syntax-theme=dark] .tok-punctuation{color:#e1e4e8}[data-syntax-theme=dark] .tok-monospace{color:#79b8ff}[data-syntax-theme=dark] .tok-processingInstruction{color:#6a737d}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}';function Xt(e,t){UR(e)&&(e="100%");const n=qR(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function Wc(e){return Math.min(1,Math.max(0,e))}function UR(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function qR(e){return typeof e=="string"&&e.indexOf("%")!==-1}function r0(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Gc(e){return Number(e)<=1?`${Number(e)*100}%`:e}function Br(e){return e.length===1?"0"+e:String(e)}function XR(e,t,n){return{r:Xt(e,255)*255,g:Xt(t,255)*255,b:Xt(n,255)*255}}function s0(e,t,n){e=Xt(e,255),t=Xt(t,255),n=Xt(n,255);const i=Math.max(e,t,n),r=Math.min(e,t,n);let s=0,a=0;const o=(i+r)/2;if(i===r)a=0,s=0;else{const c=i-r;switch(a=o>.5?c/(2-i-r):c/(i+r),i){case e:s=(t-n)/c+(t<n?6:0);break;case t:s=(n-e)/c+2;break;case n:s=(e-t)/c+4;break}s/=6}return{h:s,s:a,l:o}}function yh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function FR(e,t,n){let i,r,s;if(e=Xt(e,360),t=Xt(t,100),n=Xt(n,100),t===0)r=n,s=n,i=n;else{const a=n<.5?n*(1+t):n+t-n*t,o=2*n-a;i=yh(o,a,e+1/3),r=yh(o,a,e),s=yh(o,a,e-1/3)}return{r:i*255,g:r*255,b:s*255}}function a0(e,t,n){e=Xt(e,255),t=Xt(t,255),n=Xt(n,255);const i=Math.max(e,t,n),r=Math.min(e,t,n);let s=0;const a=i,o=i-r,c=i===0?0:o/i;if(i===r)s=0;else{switch(i){case e:s=(t-n)/o+(t<n?6:0);break;case t:s=(n-e)/o+2;break;case n:s=(e-t)/o+4;break}s/=6}return{h:s,s:c,v:a}}function BR(e,t,n){e=Xt(e,360)*6,t=Xt(t,100),n=Xt(n,100);const i=Math.floor(e),r=e-i,s=n*(1-t),a=n*(1-r*t),o=n*(1-(1-r)*t),c=i%6,l=[n,a,s,s,o,n][c],u=[o,n,n,a,s,s][c],d=[s,s,o,n,n,a][c];return{r:l*255,g:u*255,b:d*255}}function o0(e,t,n,i){const r=[Br(Math.round(e).toString(16)),Br(Math.round(t).toString(16)),Br(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function zR(e,t,n,i,r){const s=[Br(Math.round(e).toString(16)),Br(Math.round(t).toString(16)),Br(Math.round(n).toString(16)),Br(jR(i))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function ZR(e,t,n,i){const r=e/100,s=t/100,a=n/100,o=i/100,c=255*(1-r)*(1-o),l=255*(1-s)*(1-o),u=255*(1-a)*(1-o);return{r:c,g:l,b:u}}function c0(e,t,n){let i=1-e/255,r=1-t/255,s=1-n/255,a=Math.min(i,r,s);return a===1?(i=0,r=0,s=0):(i=(i-a)/(1-a)*100,r=(r-a)/(1-a)*100,s=(s-a)/(1-a)*100),a*=100,{c:Math.round(i),m:Math.round(r),y:Math.round(s),k:Math.round(a)}}function jR(e){return Math.round(parseFloat(e)*255).toString(16)}function l0(e){return gn(e)/255}function gn(e){return parseInt(e,16)}function VR(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}const Sh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function WR(e){let t={r:0,g:0,b:0},n=1,i=null,r=null,s=null,a=!1,o=!1;return typeof e=="string"&&(e=HR(e)),typeof e=="object"&&(vn(e.r)&&vn(e.g)&&vn(e.b)?(t=XR(e.r,e.g,e.b),a=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):vn(e.h)&&vn(e.s)&&vn(e.v)?(i=Gc(e.s),r=Gc(e.v),t=BR(e.h,i,r),a=!0,o="hsv"):vn(e.h)&&vn(e.s)&&vn(e.l)?(i=Gc(e.s),s=Gc(e.l),t=FR(e.h,i,s),a=!0,o="hsl"):vn(e.c)&&vn(e.m)&&vn(e.y)&&vn(e.k)&&(t=ZR(e.c,e.m,e.y,e.k),a=!0,o="cmyk"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=r0(n),{ok:a,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}const GR="[-\\+]?\\d+%?",YR="[-\\+]?\\d*\\.\\d+%?",hr="(?:"+YR+")|(?:"+GR+")",_h="[\\s|\\(]+("+hr+")[,|\\s]+("+hr+")[,|\\s]+("+hr+")\\s*\\)?",Yc="[\\s|\\(]+("+hr+")[,|\\s]+("+hr+")[,|\\s]+("+hr+")[,|\\s]+("+hr+")\\s*\\)?",Nn={CSS_UNIT:new RegExp(hr),rgb:new RegExp("rgb"+_h),rgba:new RegExp("rgba"+Yc),hsl:new RegExp("hsl"+_h),hsla:new RegExp("hsla"+Yc),hsv:new RegExp("hsv"+_h),hsva:new RegExp("hsva"+Yc),cmyk:new RegExp("cmyk"+Yc),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function HR(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;let t=!1;if(Sh[e])e=Sh[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let n=Nn.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Nn.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Nn.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Nn.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Nn.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Nn.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Nn.cmyk.exec(e),n?{c:n[1],m:n[2],y:n[3],k:n[4]}:(n=Nn.hex8.exec(e),n?{r:gn(n[1]),g:gn(n[2]),b:gn(n[3]),a:l0(n[4]),format:t?"name":"hex8"}:(n=Nn.hex6.exec(e),n?{r:gn(n[1]),g:gn(n[2]),b:gn(n[3]),format:t?"name":"hex"}:(n=Nn.hex4.exec(e),n?{r:gn(n[1]+n[1]),g:gn(n[2]+n[2]),b:gn(n[3]+n[3]),a:l0(n[4]+n[4]),format:t?"name":"hex8"}:(n=Nn.hex3.exec(e),n?{r:gn(n[1]+n[1]),g:gn(n[2]+n[2]),b:gn(n[3]+n[3]),format:t?"name":"hex"}:!1))))))))))}function vn(e){return typeof e=="number"?!Number.isNaN(e):Nn.CSS_UNIT.test(e)}class vt{constructor(t="",n={}){if(t instanceof vt)return t;typeof t=="number"&&(t=VR(t)),this.originalInput=t;const i=WR(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=n.format??i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3}getLuminance(){const t=this.toRgb();let n,i,r;const s=t.r/255,a=t.g/255,o=t.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),.2126*n+.7152*i+.0722*r}getAlpha(){return this.a}setAlpha(t){return this.a=r0(t),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:t}=this.toHsl();return t===0}toHsv(){const t=a0(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}}toHsvString(){const t=a0(this.r,this.g,this.b),n=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.v*100);return this.a===1?`hsv(${n}, ${i}%, ${r}%)`:`hsva(${n}, ${i}%, ${r}%, ${this.roundA})`}toHsl(){const t=s0(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}}toHslString(){const t=s0(this.r,this.g,this.b),n=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.l*100);return this.a===1?`hsl(${n}, ${i}%, ${r}%)`:`hsla(${n}, ${i}%, ${r}%, ${this.roundA})`}toHex(t=!1){return o0(this.r,this.g,this.b,t)}toHexString(t=!1){return"#"+this.toHex(t)}toHex8(t=!1){return zR(this.r,this.g,this.b,this.a,t)}toHex8String(t=!1){return"#"+this.toHex8(t)}toHexShortString(t=!1){return this.a===1?this.toHexString(t):this.toHex8String(t)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const t=Math.round(this.r),n=Math.round(this.g),i=Math.round(this.b);return this.a===1?`rgb(${t}, ${n}, ${i})`:`rgba(${t}, ${n}, ${i}, ${this.roundA})`}toPercentageRgb(){const t=n=>`${Math.round(Xt(n,255)*100)}%`;return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}}toPercentageRgbString(){const t=n=>Math.round(Xt(n,255)*100);return this.a===1?`rgb(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%)`:`rgba(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%, ${this.roundA})`}toCmyk(){return{...c0(this.r,this.g,this.b)}}toCmykString(){const{c:t,m:n,y:i,k:r}=c0(this.r,this.g,this.b);return`cmyk(${t}, ${n}, ${i}, ${r})`}toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;const t="#"+o0(this.r,this.g,this.b,!1);for(const[n,i]of Object.entries(Sh))if(t===i)return n;return!1}toString(t){const n=!!t;t=t??this.format;let i=!1;const r=this.a<1&&this.a>=0;return!n&&r&&(t.startsWith("hex")||t==="name")?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),t==="cmyk"&&(i=this.toCmykString()),i||this.toHexString())}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new vt(this.toString())}lighten(t=10){const n=this.toHsl();return n.l+=t/100,n.l=Wc(n.l),new vt(n)}brighten(t=10){const n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new vt(n)}darken(t=10){const n=this.toHsl();return n.l-=t/100,n.l=Wc(n.l),new vt(n)}tint(t=10){return this.mix("white",t)}shade(t=10){return this.mix("black",t)}desaturate(t=10){const n=this.toHsl();return n.s-=t/100,n.s=Wc(n.s),new vt(n)}saturate(t=10){const n=this.toHsl();return n.s+=t/100,n.s=Wc(n.s),new vt(n)}greyscale(){return this.desaturate(100)}spin(t){const n=this.toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,new vt(n)}mix(t,n=50){const i=this.toRgb(),r=new vt(t).toRgb(),s=n/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return new vt(a)}analogous(t=6,n=30){const i=this.toHsl(),r=360/n,s=[this];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,s.push(new vt(i));return s}complement(){const t=this.toHsl();return t.h=(t.h+180)%360,new vt(t)}monochromatic(t=6){const n=this.toHsv(),{h:i}=n,{s:r}=n;let{v:s}=n;const a=[],o=1/t;for(;t--;)a.push(new vt({h:i,s:r,v:s})),s=(s+o)%1;return a}splitcomplement(){const t=this.toHsl(),{h:n}=t;return[this,new vt({h:(n+72)%360,s:t.s,l:t.l}),new vt({h:(n+216)%360,s:t.s,l:t.l})]}onBackground(t){const n=this.toRgb(),i=new vt(t).toRgb(),r=n.a+i.a*(1-n.a);return new vt({r:(n.r*n.a+i.r*i.a*(1-n.a))/r,g:(n.g*n.a+i.g*i.a*(1-n.a))/r,b:(n.b*n.a+i.b*i.a*(1-n.a))/r,a:r})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(t){const n=this.toHsl(),{h:i}=n,r=[this],s=360/t;for(let a=1;a<t;a++)r.push(new vt({h:(i+a*s)%360,s:n.s,l:n.l}));return r}equals(t){const n=new vt(t);return this.format==="cmyk"||n.format==="cmyk"?this.toCmykString()===n.toCmykString():this.toRgbString()===n.toRgbString()}}const u0=["tiny","compact","full"];function KR(e){return u0.includes(e)?e:u0[0]}const JR=["top-left","top","top-right","bottom-left","bottom","bottom-right"];function eI(e){return JR.includes(e)?e:"bottom-right"}const d0={main_label:"Need help?",start_call:"Start a call",start_chat:"Start a chat",send_message:"Send",new_call:"New call",end_call:"End",mute_microphone:"Mute microphone",text_mode:"Switch to text mode",voice_mode:"Switch to voice mode",switched_to_text_mode:"Switched to text mode",switched_to_voice_mode:"Switched to voice mode",change_language:"Change language",collapse:"Collapse",expand:"Expand",copied:"Copied!",accept_terms:"Accept",dismiss_terms:"Cancel",listening_status:"Listening",speaking_status:"Talk to interrupt",connecting_status:"Connecting",chatting_status:"Chatting with AI Agent",input_label:"Text message input",input_placeholder:"Send a message...",input_placeholder_text_only:"Send a message...",input_placeholder_new_conversation:"Start a new conversation",user_ended_conversation:"You ended the conversation",agent_ended_conversation:"The agent ended the conversation",conversation_id:"ID",error_occurred:"An error occurred",copy_id:"Copy ID",initiate_feedback:"How was this conversation?",request_follow_up_feedback:"Tell us more",thanks_for_feedback:"Thank you for your feedback!",thanks_for_feedback_details:"Your feedback helps us improve our service and better support you in the future.",follow_up_feedback_placeholder:"Tell us more about your experience...",submit:"Submit",go_back:"Go back",copy:"Copy",download:"Download",wrap:"Wrap",agent_working:"Thinking...",agent_done:"Completed",agent_error:"Error occurred"},tI=Object.keys(d0),wh={base:"#ffffff",base_hover:"#f9fafb",base_active:"#f3f4f6",base_border:"#e5e7eb",base_subtle:"#6b7280",base_primary:"#000000",base_error:"#ef4444",accent:"#000000",accent_hover:"#1f2937",accent_active:"#374151",accent_border:"#4b5563",accent_subtle:"#6b7280",accent_primary:"#ffffff",overlay_padding:32,button_radius:18,input_radius:10,bubble_radius:15,sheet_radius:"calc(var(--el-button-radius) + 6px)",compact_sheet_radius:"calc(var(--el-button-radius) + 12px)",dropdown_sheet_radius:"calc(var(--el-input-radius) + 6px)"},nI=Object.keys(wh);function iI(e="us"){switch(e){case"eu-residency":case"in-residency":case"us":case"global":return e;default:return console.warn(`[ConversationalAI] Invalid server-location: ${e}. Defaulting to "us"`),"us"}}function Vt(e){const t=fn(e);if(t==null)throw new Error(`${e.displayName} cannot be used outside of provider`);return t}const h0=st(null);function rI({value:e,children:t}){const n=Me(()=>Object.fromEntries(kh.map(i=>[i,Pn(e[i])])),[]);return kh.forEach(i=>{n[i].value=e[i]}),g(h0.Provider,{value:n,children:t})}function sI(){return Vt(h0)}function ge(e){return sI()[e]}const p0=st(null);function aI({children:e}){const t=ge("server-location"),n=Me(()=>{const i=jt(()=>iI(t.value)),r={us:"https://api.us.elevenlabs.io","eu-residency":"https://api.eu.residency.elevenlabs.io","in-residency":"https://api.in.residency.elevenlabs.io",global:"https://api.elevenlabs.io"},s={us:"wss://api.us.elevenlabs.io","eu-residency":"wss://api.eu.residency.elevenlabs.io","in-residency":"wss://api.in.residency.elevenlabs.io",global:"wss://api.elevenlabs.io"};return{location:i,serverUrl:jt(()=>r[i.value]),webSocketUrl:jt(()=>s[i.value])}},[]);return g(p0.Provider,{value:n,children:e})}function Eh(){return Vt(p0)}const za={en:{name:"English",flagCode:"us",languageCode:"en"},zh:{name:"",flagCode:"cn",languageCode:"zh"},es:{name:"Espaol",flagCode:"es",languageCode:"es"},hi:{name:"",flagCode:"in",languageCode:"hi"},pt:{name:"Portugus (Portugal)",flagCode:"pt",languageCode:"pt"},"pt-br":{name:"Portugus (Brasil)",flagCode:"br",languageCode:"pt-br"},fr:{name:"Franais",flagCode:"fr",languageCode:"fr"},de:{name:"Deutsch",flagCode:"de",languageCode:"de"},ja:{name:"",flagCode:"jp",languageCode:"ja"},ar:{name:"",flagCode:"ae",languageCode:"ar"},ru:{name:"",flagCode:"ru",languageCode:"ru"},ko:{name:"",flagCode:"kr",languageCode:"ko"},id:{name:"Bahasa Indonesia",flagCode:"id",languageCode:"id"},it:{name:"Italiano",flagCode:"it",languageCode:"it"},nl:{name:"Nederlands",flagCode:"nl",languageCode:"nl"},tr:{name:"Trke",flagCode:"tr",languageCode:"tr"},pl:{name:"Polski",flagCode:"pl",languageCode:"pl"},sv:{name:"Svenska",flagCode:"se",languageCode:"sv"},ms:{name:"Bahasa Melayu",flagCode:"my",languageCode:"ms"},ro:{name:"Romn",flagCode:"ro",languageCode:"ro"},uk:{name:"",flagCode:"ua",languageCode:"uk"},el:{name:"",flagCode:"gr",languageCode:"el"},cs:{name:"etina",flagCode:"cz",languageCode:"cs"},da:{name:"Dansk",flagCode:"dk",languageCode:"da"},fi:{name:"Suomi",flagCode:"fi",languageCode:"fi"},bg:{name:"",flagCode:"bg",languageCode:"bg"},hr:{name:"Hrvatski",flagCode:"hr",languageCode:"hr"},sk:{name:"Slovenina",flagCode:"sk",languageCode:"sk"},ta:{name:"",flagCode:"in",languageCode:"ta"},hu:{name:"Magyar",flagCode:"hu",languageCode:"hu"},no:{name:"Norsk",flagCode:"no",languageCode:"no"},vi:{name:"Ting Vit",flagCode:"vn",languageCode:"vi"},tl:{name:"Filipino",flagCode:"ph",languageCode:"tl"},af:{name:"Afrikaans",flagCode:"za",languageCode:"af"},hy:{name:"",flagCode:"am",languageCode:"hy"},as:{name:"",flagCode:"in",languageCode:"as"},az:{name:"Azrbaycan",flagCode:"az",languageCode:"az"},be:{name:"",flagCode:"by",languageCode:"be"},bn:{name:"",flagCode:"in",languageCode:"bn"},bs:{name:"Bosanski",flagCode:"ba",languageCode:"bs"},ca:{name:"Catal",flagCode:"es-ct",languageCode:"ca"},et:{name:"Eesti",flagCode:"ee",languageCode:"et"},gl:{name:"Galego",flagCode:"es-ga",languageCode:"gl"},ka:{name:"",flagCode:"ge",languageCode:"ka"},gu:{name:"",flagCode:"in",languageCode:"gu"},ha:{name:"Hausa",flagCode:"ng",languageCode:"ha"},he:{name:"",flagCode:"il",languageCode:"he"},is:{name:"slenska",flagCode:"is",languageCode:"is"},ga:{name:"Gaeilge",flagCode:"ie",languageCode:"ga"},jv:{name:"Basa Jawa",flagCode:"id",languageCode:"jv"},kn:{name:"",flagCode:"in",languageCode:"kn"},kk:{name:"",flagCode:"kz",languageCode:"kk"},ky:{name:"",flagCode:"kg",languageCode:"ky"},lv:{name:"Latvieu",flagCode:"lv",languageCode:"lv"},lt:{name:"Lietuvi",flagCode:"lt",languageCode:"lt"},lb:{name:"Ltzebuergesch",flagCode:"lu",languageCode:"lb"},mk:{name:"",flagCode:"mk",languageCode:"mk"},ml:{name:"",flagCode:"in",languageCode:"ml"},mr:{name:"",flagCode:"in",languageCode:"mr"},ne:{name:"",flagCode:"np",languageCode:"ne"},ps:{name:"",flagCode:"af",languageCode:"ps"},fa:{name:"",flagCode:"ir",languageCode:"fa"},pa:{name:"",flagCode:"in",languageCode:"pa"},sr:{name:"",flagCode:"rs",languageCode:"sr"},sd:{name:"",flagCode:"in",languageCode:"sd"},sl:{name:"Slovenina",flagCode:"si",languageCode:"sl"},so:{name:"Soomaali",flagCode:"so",languageCode:"so"},sw:{name:"Kiswahili",flagCode:"ke",languageCode:"sw"},te:{name:"",flagCode:"in",languageCode:"te"},th:{name:"",flagCode:"th",languageCode:"th"},ur:{name:"",flagCode:"pk",languageCode:"ur"},cy:{name:"Cymraeg",flagCode:"gb-wls",languageCode:"cy"}};function xh(e){return Object.keys(za).includes(e??"")}const f0=st(null);function oI({children:e}){const t=bt(),n=ge("language"),i=ge("override-language"),r=We(n.peek()??t.peek().language),s=pe(()=>(t.value.supported_language_overrides??[]).filter(xh)),a=pe(()=>s.value.map(c=>za[c]).sort((c,l)=>c.name.localeCompare(l.name))),o=Me(()=>({language:jt(()=>xh(i.value)?za[i.value]:xh(r.value)&&s.value.includes(r.value)?za[r.value]:za[t.value.language]),setLanguage:c=>{r.value=c},options:a,showPicker:jt(()=>a.value.length>0)}),[]);return g(f0.Provider,{value:o,children:e})}function zr(){return Vt(f0)}const cI="0.9.0",m0=st(null);function lI({children:e}){const{language:t}=zr(),n=ge("override-prompt"),i=ge("override-llm"),r=ge("override-speed"),s=ge("override-stability"),a=ge("override-similarity-boost"),o=ge("override-first-message"),c=ge("override-voice-id"),l=ge("override-text-only"),u=ge("user-id"),d=pe(()=>({agent:{prompt:{prompt:n.value,llm:i.value},firstMessage:o.value,language:t.value.languageCode},tts:{voiceId:c.value,speed:r.value?parseFloat(r.value):void 0,stability:s.value?parseFloat(s.value):void 0,similarityBoost:a.value?parseFloat(a.value):void 0},conversation:{textOnly:cn(l.value)??void 0}})),h=ge("dynamic-variables"),p=pe(()=>{if(h.value)try{return JSON.parse(h.value)}catch(x){console.error(`[ConversationalAI] Cannot parse dynamic-variables: ${x?.message}`)}}),m=ge("worklet-path-raw-audio-processor"),O=ge("worklet-path-audio-concat-processor"),b=ge("worklet-path-libsamplerate"),{webSocketUrl:v}=Eh(),T=ge("agent-id"),S=ge("signed-url"),k=Kc(),y=vI(),_=pe(()=>{const x=y.value,N={dynamicVariables:p.value,overrides:d.value,connectionDelay:{default:300},textOnly:k.value,userId:u.value||void 0,libsampleratePath:b.value,workletPaths:{rawAudioProcessor:m.value,audioConcatProcessor:O.value}};return T.value?x?{agentId:T.value,origin:v.value,connectionType:"webrtc",...N}:{agentId:T.value,origin:v.value,connectionType:"websocket",...N}:S.value?{signedUrl:S.value,connectionType:"websocket",...N}:(console.error("[ConversationalAI] Either agent-id or signed-url is required"),null)});return _.value?g(m0.Provider,{value:_,children:e}):null}function uI(){return Vt(m0)}const O0=st(null);function dI({children:e}){const t=y0(),n=We(!1),i=We(!1),r=Me(()=>{const s=jt(()=>!t.value.terms_html||i.value);let a=[];return{termsShown:n,termsAccepted:s,dismissTerms:()=>{n.value=!1,a.forEach(o=>o.reject()),a=[]},acceptTerms:()=>{i.value=!0,n.value=!1;const o=t.peek().terms_key;o&&localStorage.setItem(o,"true"),a.forEach(c=>c.resolve()),a=[]},requestTerms:async()=>{s.peek()||(n.value=!0,await new Promise((o,c)=>{a.push({resolve:o,reject:c})}))}}},[n,i,t]);return An(()=>{const s=t.value.terms_key,a=s?!!localStorage.getItem(s):!1;i.value=a}),g(O0.Provider,{value:r,children:e})}function Hc(){return Vt(O0)}const g0=st(null);function hI({children:e}){const t=We(null),n=oe(i=>{t.value=pI(i)},[t]);return g(g0.Provider,{value:t,children:[g("template",{ref:n}),e]})}function v0(){return Vt(g0)}function pI(e){if(!e)return null;const t=e?.getRootNode();return t instanceof ShadowRoot&&t.host instanceof HTMLElement?t.host:e.parentElement}const Dn={LOADING:"loading",SUCCESS:"success",ERROR:"error"},b0=st(null);function fI({children:e}){const t=mI();return An(()=>{if(t.conversationTextOnly.value===!0){t.transcript.value;const n=setTimeout(()=>{t.endSession()},600*1e3);return()=>{clearTimeout(n)}}}),g(b0.Provider,{value:t,children:e})}function _t(){return Vt(b0)}function mI(){const e=ue(null),t=ue(null),n=ue(!1),i=ue(null),r=ue(!1),s=v0(),a=bt(),o=k0(),c=Hc(),l=uI();return ke(()=>()=>{e.current?.endSession()},[]),Me(()=>{const u=Pn("disconnected"),d=jt(()=>u.value==="disconnected"),h=Pn("listening"),p=jt(()=>h.value==="speaking"),m=Pn(null),O=Pn(null),b=Pn(!1),v=Pn([]),T=Pn(0),S=Pn(null),k=Pn(new Map);return{status:u,isSpeaking:p,mode:h,isDisconnected:d,lastId:O,error:m,canSendFeedback:b,conversationIndex:T,conversationTextOnly:S,transcript:v,toolCallStatus:k,startSession:async(y,_)=>{if(await c.requestTerms(),e.current?.isOpen())return e.current.getId();if(t.current)return(await t.current).getId();let x=structuredClone(l.peek());_&&a.value.supports_text_only&&(x.textOnly=!0,a.value.text_only||(x.overrides??={},x.overrides.conversation??={},x.overrides.conversation.textOnly=!0));try{x=OI(s.value??y,x)}catch(N){console.error("[ConversationalAI] Error triggering call event:",N)}S.value=x.textOnly??!1,v.value=_?[{type:"message",role:"user",message:_,isText:!0,conversationIndex:T.peek()}]:[];try{if(t.current=LR.startSession({...x,overrides:{...x.overrides,client:{...x.overrides?.client,source:x.overrides?.client?.source||"widget",version:x.overrides?.client?.version||cI}},onModeChange:D=>{h.value=D.mode},onStatusChange:D=>{u.value=D.status},onCanSendFeedbackChange:D=>{b.value=D.canSendFeedback},onMessage:({role:D,message:E})=>{if(o.peek()&&S.peek()===!0&&D==="agent"&&!n.current){n.current=!0;return}else D==="agent"&&(n.current=!0);if(D==="agent"&&r.current){const M=i.current;if(M!==null){const L=[...v.peek()];L[M]={type:"message",role:"agent",message:E,isText:!0,conversationIndex:T.peek()},v.value=L}r.current=!1;return}v.value=[...v.peek(),{type:"message",role:D,message:E,isText:!1,conversationIndex:T.peek()}]},onAgentChatResponsePart:({text:D,type:E})=>{if(o.peek()&&S.peek()===!0&&!n.current)return;const M=v.peek();if(E==="start")r.current=!0,i.current=M.length;else if(E==="delta"){const L=i.current;if(L!==null&&D){const z=[...M],X=z[L]??={type:"message",role:"agent",message:"",isText:!0,conversationIndex:T.peek()};X.type==="message"&&(z[L]={...X,message:X.message+D},v.value=z)}}else E==="stop"&&(i.current=null)},onAgentToolRequest:({tool_call_id:D,event_id:E})=>{const M=k.peek(),L=!M.has(E),z=new Map(M),X=new Map(z.get(E)??[]);X.set(D,Dn.LOADING),z.set(E,X),k.value=z,L&&a.value.show_agent_status&&(v.value=[...v.peek(),{type:"tool_call",eventId:E,conversationIndex:T.peek(),status:Dn.LOADING}])},onAgentToolResponse:({tool_call_id:D,is_error:E,event_id:M})=>{const L=k.peek(),z=L.get(M);if(!z?.has(D))return;const X=new Map(L),F=new Map(z);if(F.set(D,E?Dn.ERROR:Dn.SUCCESS),X.set(M,F),k.value=X,!!a.value.show_agent_status&&![...F.values()].some(K=>K===Dn.LOADING)){const K=[...F.values()].some(se=>se===Dn.ERROR)?Dn.ERROR:Dn.SUCCESS;v.value=v.peek().map(se=>se.type==="tool_call"&&se.eventId===M?{...se,status:K}:se)}},onDisconnect:D=>{n.current=!1,S.value=null,i.current=null,r.current=!1,k.value=new Map,v.value=[...v.peek(),D.reason==="error"?{type:"error",message:D.message,conversationIndex:T.peek()}:{type:"disconnection",role:D.reason==="user"?"user":"agent",conversationIndex:T.peek()}],T.value++,D.reason==="error"&&(m.value=D.message,console.error("[ConversationalAI] Disconnected due to an error:",D.message))}}),e.current=await t.current,_){const D=e.current;setTimeout(()=>D.sendUserMessage(_),100)}const N=e.current.getId();return O.value=N,m.value=null,N}catch(N){let D="Could not start a conversation.";N instanceof CloseEvent?D=N.reason||D:N instanceof Error&&(D=N.message||D),m.value=D,v.value=[...v.value,{type:"error",message:D,conversationIndex:T.peek()}]}finally{t.current=null}},endSession:async()=>{const y=e.current;e.current=null,await y?.endSession()},getInputVolume:()=>e.current?.getInputVolume()??0,getOutputVolume:()=>e.current?.getOutputVolume()??0,setVolume:y=>{e.current?.setVolume({volume:y})},setMicMuted:y=>{e.current?.setMicMuted(y)},sendFeedback:y=>{e.current?.sendFeedback(y)},sendUserMessage:y=>{e.current?.sendUserMessage(y),v.value=[...v.value,{type:"message",role:"user",message:y,isText:!0,conversationIndex:T.peek()}]},sendUserActivity:()=>{e.current?.sendUserActivity()},addModeToggleEntry:y=>{e.current?.isOpen()&&(v.value=[...v.value,{type:"mode_toggle",mode:y,conversationIndex:T.peek()}])}}},[l])}function OI(e,t){try{const n=new CustomEvent("elevenlabs-convai:call",{bubbles:!0,composed:!0,detail:{config:t}});return e.dispatchEvent(n),n.detail.config}catch(n){return console.error("[ConversationalAI] Could not trigger call event:",n),t}}const T0=st(null);function gI({children:e}){const{serverUrl:t}=Eh(),n=ge("agent-id"),i=ge("override-config"),r=ge("signed-url"),s=We(null);An(()=>{if(i.value)try{const x=JSON.parse(i.value);if(x){s.value=x;return}}catch(x){console.error(`[ConversationalAI] Cannot parse override-config: ${x?.message}`)}let k=n.value,y;if(r.value){const x=new URL(r.value).searchParams;k=x.get("agent_id")??n.value,y=x.get("conversation_signature")??void 0}if(!k){s.value=null;return}const _=new AbortController;return yI(k,t.value,_.signal,y).then(x=>{_.signal.aborted||(s.value=x)}).catch(x=>{console.error(`[ConversationalAI] Cannot fetch config for agent ${n.value}: ${x?.message}`),_.signal.aborted||(s.value=null)}),()=>{_.abort()}});const a=ge("variant"),o=ge("placement"),c=ge("terms-key"),l=ge("mic-muting"),u=ge("transcript"),d=ge("text-input"),h=ge("default-expanded"),p=ge("always-expanded"),m=ge("dismissible"),O=ge("strip-audio-tags"),b=ge("override-text-only"),v=ge("use-rtc"),T=ge("show-agent-status"),S=pe(()=>{if(!s.value)return null;const k=a.value??s.value.variant,y=o.value??s.value.placement,_=c.value??s.value.terms_key,x=cn(b.value)??s.value.text_only??!1,N=cn(l.value)??s.value.mic_muting_enabled,D=cn(u.value)??s.value.transcript_enabled,E=cn(d.value)??s.value.text_input_enabled,M=cn(p.value)??s.value.always_expanded??!1,L=cn(h.value)??s.value.default_expanded??!1,z=cn(m.value)??s.value.dismissible??!1,X=cn(O.value)??s.value.strip_audio_tags??!x,F=cn(v.value)??s.value.use_rtc??!1,K=cn(T.value)??s.value.show_agent_status??!1;return{...s.value,variant:KR(k),placement:eI(y),terms_key:_,mic_muting_enabled:!x&&N,transcript_enabled:x||D,text_input_enabled:x||E,always_expanded:M,default_expanded:L,dismissible:z,strip_audio_tags:X,use_rtc:F,show_agent_status:K}});return S.value?g(T0.Provider,{value:S,children:e}):null}function bt(){return Vt(T0)}function Kc(){const e=ge("override-text-only"),t=bt();return pe(()=>cn(e.value)??t.value.text_only??!1)}function Za(){const e=Kc(),{conversationTextOnly:t}=_t();return pe(()=>t.value??e.value)}function k0(){const e=ge("override-first-message"),t=bt(),{language:n}=zr();return pe(()=>e.value??t.value.language_presets?.[n.value.languageCode]?.first_message??t.value.first_message??null)}function Ch(){const e=bt();return pe(()=>e.value.text_input_enabled??!1)}function y0(){const e=bt(),{language:t}=zr();return pe(()=>{const n=e.value.language_presets?.[t.value.languageCode];return{terms_html:n?.terms_html??e.value.terms_html,terms_text:n?.terms_text??e.value.terms_text,terms_key:n?.terms_key??e.value.terms_key}})}function vI(){const e=bt();return pe(()=>e.value.use_rtc??!1)}function bI(){const e=bt();return pe(()=>e.value.end_feedback?.type??null)}function TI(){const e=ge("markdown-link-allowed-hosts"),t=ge("markdown-link-include-www"),n=ge("markdown-link-allow-http"),i=bt();return pe(()=>{let r=[];if(e.value)r=e.value.split(",").map(o=>o.trim()).filter(Boolean);else{const o=i.value.markdown_link_allowed_hosts;o&&o.length>0&&(o.some(c=>c.hostname==="*")?r=["*"]:r=o.map(c=>c.hostname))}const s=cn(t.value)??i.value.markdown_link_include_www??!0,a=cn(n.value)??i.value.markdown_link_allow_http??!0;return{allowedHosts:r,includeWww:s,allowHttp:a}})}function kI(){const e=ge("syntax-highlight-theme"),t=bt();return pe(()=>{const n=e.value??t.value.syntax_highlight_theme;if(n==="light"||n==="dark")return n;const i=t.value.styles?.base_active??wh.base_active,r=new vt(i);return r.isValid&&r.isDark()?"dark":"light"})}async function yI(e,t,n,i){const r=await(await fetch(`${t}/v1/convai/agents/${e}/widget${i?`?conversation_signature=${encodeURIComponent(i)}`:""}`,{signal:n})).json();if(!r.widget_config)throw new Error("Response does not contain widget_config");return r.widget_config}const SI=Fe(function(){const e=bt(),t=pe(()=>{const n=e.value.styles;return`:host, :root {
${nI.map(i=>`${_I(i)}: ${wI(n?.[i]??wh[i])};`).join(`
`)}
}`});return g("style",{children:[t,$R]})});function _I(e){return`--el-${e.replace(/_/g,"-")}`}function wI(e){return typeof e=="number"?`${e}px`:e}const S0=st(null);function EI({children:e}){const t=We("voice"),{isDisconnected:n,addModeToggleEntry:i,setVolume:r}=_t();An(()=>{const a=t.value==="text";r(a?0:1)});const s=Me(()=>({mode:jt(()=>t.value),setMode:a=>{t.value!==a&&(t.value=a,n.value||i(a))},isTextMode:jt(()=>t.value==="text"),isVoiceMode:jt(()=>t.value==="voice")}),[n,i]);return g(S0.Provider,{value:s,children:e})}function Jc(){return Vt(S0)}const _0=st(null);function xI({children:e}){const t=bt(),{isTextMode:n}=Jc(),{setMicMuted:i,status:r}=_t(),s=pe(()=>t.value.mic_muting_enabled??!1),a=We(!1),o=ue(null);An(()=>{r.value==="disconnected"&&(a.value=!1)}),An(()=>{n.value?(o.current===null&&(o.current=a.peek()),i(!0)):(o.current!==null&&(a.value=o.current,o.current=null),i(s.value?a.value:!1))});const c=Me(()=>({isMuted:jt(()=>n.value?!0:s.value?a.value:!1),setIsMuted:l=>{a.value=l},isMutingEnabled:s}),[]);return g(_0.Provider,{value:c,children:e})}function CI(){return Vt(_0)}const w0=st(null);function PI({children:e}){const t=bt(),{language:n}=zr(),i=ge("text-contents"),r=pe(()=>{try{if(i.value){const a=JSON.parse(i.value);if(typeof a=="object")return a}}catch(a){console.error("[ConversationalAI] Cannot parse text-contents:",a)}return{}}),s=Me(()=>Object.fromEntries(tI.map(a=>[a,jt(()=>r.value[a]??t.value.language_presets?.[n.value.languageCode]?.text_contents?.[a]??t.value.text_contents?.[a]??d0[a])])),[]);return g(w0.Provider,{value:s,children:e})}function nt(){return Vt(w0)}const E0=st(null);function AI({children:e}){const t=bt(),n=ge("avatar-image-url"),i=ge("avatar-orb-color-1"),r=ge("avatar-orb-color-2"),s=We(""),a=pe(()=>n.value?{type:"image",url:n.value}:i.value&&r.value?{type:"orb",color_1:i.value,color_2:r.value}:t.value.avatar),o=pe(()=>{switch(a.value.type){case"url":return a.value.custom_url;case"orb":return s.value;case"image":return a.value.url}}),c=Me(()=>({config:a,previewUrl:o,canvasUrl:s}),[]);return g(E0.Provider,{value:c,children:e})}function Ph(){return Vt(E0)}const x0=st(null);function ja({children:e,...t}){const[n,i]=he(null);return g("div",{ref:i,...t,children:n&&g(x0.Provider,{value:n,children:e})})}function RI(){return Vt(x0)}function Ah(e){return e&&typeof e=="object"&&"peek"in e}function II(e){const t=Ah(e),n=We(t?e.peek():e);return t?e:(n.value=e,n)}function C0(e){return Ah(e)?e.value:e}function QI(e){return Ah(e)?e.peek():e}function P0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rh(...e){return t=>{let n=!1;const i=e.map(r=>{const s=P0(r,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():P0(e[r],null)}}}}function Ft(...e){return oe(Rh(...e),e)}var NI=Symbol.for("react.lazy"),el=Yu[" use ".trim().toString()];function DI(e){return typeof e=="object"&&e!==null&&"then"in e}function A0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===NI&&"_payload"in e&&DI(e._payload)}function MI(e){const t=LI(e),n=Ee((i,r)=>{let{children:s,...a}=i;A0(s)&&typeof el=="function"&&(s=el(s._payload));const o=mn.toArray(s),c=o.find(UI);if(c){const l=c.props.children,u=o.map(d=>d===c?mn.count(l)>1?mn.only(null):Ct(l)?l.props.children:null:d);return g(t,{...a,ref:r,children:Ct(l)?Nr(l,void 0,u):null})}return g(t,{...a,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}var R0=MI("Slot");function LI(e){const t=Ee((n,i)=>{let{children:r,...s}=n;if(A0(r)&&typeof el=="function"&&(r=el(r._payload)),Ct(r)){const a=XI(r),o=qI(s,r.props);return r.type!==Ue&&(o.ref=i?Rh(i,a):a),Nr(r,o)}return mn.count(r)>1?mn.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $I=Symbol("radix.slottable");function UI(e){return Ct(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$I}function qI(e,t){const n={...t};for(const i in t){const r=e[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const o=s(...a);return r(...a),o}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function XI(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Ih=window.matchMedia("(prefers-reduced-motion: reduce)");function I0(){const e=We(Ih.matches);return ke(()=>{const t=n=>{e.value=n.matches};return Ih.addEventListener("change",t),()=>Ih.removeEventListener("change",t)},[]),e}function Q0({onStart:e,onEnd:t}){const n=ue();n.current??=new Set;const i=ue(e);i.current=e;const r=ue(t);r.current=t;const s=We(!1),a=oe(c=>{c.target===c.currentTarget&&(n.current?.add(c.propertyName),s.peek()||(s.value=!0,i.current?.()))},[]),o=oe(c=>{c.target===c.currentTarget&&(n.current?.delete(c.propertyName),n.current?.size||(s.value=!1,r.current?.()))},[]);return{transitioning:s,handlers:{onTransitionStart:a,onTransitionEnd:o}}}function wt(e){const t=I0().value?FI:BI;return g(t,{...e})}function FI({active:e,...t}){return C0(e)?g(R0,{"data-shown":!0,...t}):null}function BI({active:e,initial:t=e,...n}){const i=II(e),r=We(QI(t));An(()=>{i.value&&(r.value=i.value)});const{handlers:s}=Q0({onEnd:()=>{r.value=i.value}});return!i.value&&!r.value?null:g(R0,{"data-shown":i.value&&r.value,...s,...n})}function N0(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=N0(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function at(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=N0(e))&&(i&&(i+=" "),i+=t);return i}const zI=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},ZI=(e,t)=>({classGroupId:e,validator:t}),D0=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),tl="-",M0=[],jI="arbitrary..",VI=e=>{const t=GI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:r=>{if(r.startsWith("[")&&r.endsWith("]"))return WI(r);const s=r.split(tl),a=s[0]===""&&s.length>1?1:0;return L0(s,a,t)},getConflictingClassGroupIds:(r,s)=>{if(s){const a=i[r],o=n[r];return a?o?zI(o,a):a:o||M0}return n[r]||M0}}},L0=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],r=n.nextPart.get(i);if(r){const c=L0(e,t+1,r);if(c)return c}const s=n.validators;if(s===null)return;const a=t===0?e.join(tl):e.slice(t).join(tl),o=s.length;for(let c=0;c<o;c++){const l=s[c];if(l.validator(a))return l.classGroupId}},WI=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?jI+i:void 0})(),GI=e=>{const{theme:t,classGroups:n}=e;return YI(n,t)},YI=(e,t)=>{const n=D0();for(const i in e){const r=e[i];Qh(r,n,i,t)}return n},Qh=(e,t,n,i)=>{const r=e.length;for(let s=0;s<r;s++){const a=e[s];HI(a,t,n,i)}},HI=(e,t,n,i)=>{if(typeof e=="string"){KI(e,t,n);return}if(typeof e=="function"){JI(e,t,n,i);return}eQ(e,t,n,i)},KI=(e,t,n)=>{const i=e===""?t:$0(t,e);i.classGroupId=n},JI=(e,t,n,i)=>{if(tQ(e)){Qh(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(ZI(n,e))},eQ=(e,t,n,i)=>{const r=Object.entries(e),s=r.length;for(let a=0;a<s;a++){const[o,c]=r[a];Qh(c,$0(t,o),n,i)}},$0=(e,t)=>{let n=e;const i=t.split(tl),r=i.length;for(let s=0;s<r;s++){const a=i[s];let o=n.nextPart.get(a);o||(o=D0(),n.nextPart.set(a,o)),n=o}return n},tQ=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,nQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const r=(s,a)=>{n[s]=a,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=i[s])!==void 0)return r(s,a),a},set(s,a){s in n?n[s]=a:r(s,a)}}},Nh="!",U0=":",iQ=[],q0=(e,t,n,i,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:r}),rQ=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=r=>{const s=[];let a=0,o=0,c=0,l;const u=r.length;for(let O=0;O<u;O++){const b=r[O];if(a===0&&o===0){if(b===U0){s.push(r.slice(c,O)),c=O+1;continue}if(b==="/"){l=O;continue}}b==="["?a++:b==="]"?a--:b==="("?o++:b===")"&&o--}const d=s.length===0?r:r.slice(c);let h=d,p=!1;d.endsWith(Nh)?(h=d.slice(0,-1),p=!0):d.startsWith(Nh)&&(h=d.slice(1),p=!0);const m=l&&l>c?l-c:void 0;return q0(s,p,h,m)};if(t){const r=t+U0,s=i;i=a=>a.startsWith(r)?s(a.slice(r.length)):q0(iQ,!1,a,void 0,!0)}if(n){const r=i;i=s=>n({className:s,parseClassName:r})}return i},sQ=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let r=[];for(let s=0;s<n.length;s++){const a=n[s],o=a[0]==="[",c=t.has(a);o||c?(r.length>0&&(r.sort(),i.push(...r),r=[]),i.push(a)):r.push(a)}return r.length>0&&(r.sort(),i.push(...r)),i}},aQ=e=>({cache:nQ(e.cacheSize),parseClassName:rQ(e),sortModifiers:sQ(e),...VI(e)}),oQ=/\s+/,cQ=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=t,a=[],o=e.trim().split(oQ);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{isExternal:d,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:O}=n(u);if(d){c=u+(c.length>0?" "+c:c);continue}let b=!!O,v=i(b?m.substring(0,O):m);if(!v){if(!b){c=u+(c.length>0?" "+c:c);continue}if(v=i(m),!v){c=u+(c.length>0?" "+c:c);continue}b=!1}const T=h.length===0?"":h.length===1?h[0]:s(h).join(":"),S=p?T+Nh:T,k=S+v;if(a.indexOf(k)>-1)continue;a.push(k);const y=r(v,b);for(let _=0;_<y.length;++_){const x=y[_];a.push(S+x)}c=u+(c.length>0?" "+c:c)}return c},lQ=(...e)=>{let t=0,n,i,r="";for(;t<e.length;)(n=e[t++])&&(i=X0(n))&&(r&&(r+=" "),r+=i);return r},X0=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=X0(e[i]))&&(n&&(n+=" "),n+=t);return n},uQ=(e,...t)=>{let n,i,r,s;const a=c=>{const l=t.reduce((u,d)=>d(u),e());return n=aQ(l),i=n.cache.get,r=n.cache.set,s=o,o(c)},o=c=>{const l=i(c);if(l)return l;const u=cQ(c,n);return r(c,u),u};return s=a,(...c)=>s(lQ(...c))},dQ=[],Rt=e=>{const t=n=>n[e]||dQ;return t.isThemeGetter=!0,t},F0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,B0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hQ=/^\d+\/\d+$/,pQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=e=>hQ.test(e),we=e=>!!e&&!Number.isNaN(Number(e)),pr=e=>!!e&&Number.isInteger(Number(e)),Dh=e=>e.endsWith("%")&&we(e.slice(0,-1)),Ni=e=>pQ.test(e),vQ=()=>!0,bQ=e=>fQ.test(e)&&!mQ.test(e),z0=()=>!1,TQ=e=>OQ.test(e),kQ=e=>gQ.test(e),yQ=e=>!ce(e)&&!le(e),SQ=e=>Ds(e,G0,z0),ce=e=>F0.test(e),Zr=e=>Ds(e,Y0,bQ),Mh=e=>Ds(e,CQ,we),Z0=e=>Ds(e,V0,z0),_Q=e=>Ds(e,W0,kQ),nl=e=>Ds(e,H0,TQ),le=e=>B0.test(e),Va=e=>Ms(e,Y0),wQ=e=>Ms(e,PQ),j0=e=>Ms(e,V0),EQ=e=>Ms(e,G0),xQ=e=>Ms(e,W0),il=e=>Ms(e,H0,!0),Ds=(e,t,n)=>{const i=F0.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},Ms=(e,t,n=!1)=>{const i=B0.exec(e);return i?i[1]?t(i[1]):n:!1},V0=e=>e==="position"||e==="percentage",W0=e=>e==="image"||e==="url",G0=e=>e==="length"||e==="size"||e==="bg-size",Y0=e=>e==="length",CQ=e=>e==="number",PQ=e=>e==="family-name",H0=e=>e==="shadow",AQ=()=>{const e=Rt("color"),t=Rt("font"),n=Rt("text"),i=Rt("font-weight"),r=Rt("tracking"),s=Rt("leading"),a=Rt("breakpoint"),o=Rt("container"),c=Rt("spacing"),l=Rt("radius"),u=Rt("shadow"),d=Rt("inset-shadow"),h=Rt("text-shadow"),p=Rt("drop-shadow"),m=Rt("blur"),O=Rt("perspective"),b=Rt("aspect"),v=Rt("ease"),T=Rt("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],y=()=>[...k(),le,ce],_=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],N=()=>[le,ce,c],D=()=>[Ns,"full","auto",...N()],E=()=>[pr,"none","subgrid",le,ce],M=()=>["auto",{span:["full",pr,le,ce]},pr,le,ce],L=()=>[pr,"auto",le,ce],z=()=>["auto","min","max","fr",le,ce],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...N()],se=()=>[Ns,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],j=()=>[e,le,ce],fe=()=>[...k(),j0,Z0,{position:[le,ce]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ne=()=>["auto","cover","contain",EQ,SQ,{size:[le,ce]}],De=()=>[Dh,Va,Zr],A=()=>["","none","full",l,le,ce],be=()=>["",we,Va,Zr],Ge=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[we,Dh,j0,Z0],qe=()=>["","none",m,le,ce],Xe=()=>["none",we,le,ce],Te=()=>["none",we,le,ce],Ye=()=>[we,le,ce],Ot=()=>[Ns,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ni],breakpoint:[Ni],color:[vQ],container:[Ni],"drop-shadow":[Ni],ease:["in","out","in-out"],font:[yQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ni],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ni],shadow:[Ni],spacing:["px",we],text:[Ni],"text-shadow":[Ni],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ns,ce,le,b]}],container:["container"],columns:[{columns:[we,ce,le,o]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[pr,"auto",le,ce]}],basis:[{basis:[Ns,"full","auto",o,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[we,Ns,"auto","initial","none",ce]}],grow:[{grow:["",we,le,ce]}],shrink:[{shrink:["",we,le,ce]}],order:[{order:[pr,"first","last","none",le,ce]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[o,"screen",...se()]}],"min-w":[{"min-w":[o,"screen","none",...se()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,Va,Zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,le,Mh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dh,ce]}],"font-family":[{font:[wQ,ce,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,le,ce]}],"line-clamp":[{"line-clamp":[we,"none",le,Mh]}],leading:[{leading:[s,...N()]}],"list-image":[{"list-image":["none",le,ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",le,ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[we,"from-font","auto",le,Zr]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[we,"auto",le,ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le,ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le,ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:Ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pr,le,ce],radial:["",le,ce],conic:[pr,le,ce]},xQ,_Q]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:De()}],"gradient-via-pos":[{via:De()}],"gradient-to-pos":[{to:De()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ge(),"hidden","none"]}],"divide-style":[{divide:[...Ge(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...Ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[we,le,ce]}],"outline-w":[{outline:["",we,Va,Zr]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",u,il,nl]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",d,il,nl]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[we,Zr]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",h,il,nl]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[we,le,ce]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[we]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[le,ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[we]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:Ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",le,ce]}],filter:[{filter:["","none",le,ce]}],blur:[{blur:qe()}],brightness:[{brightness:[we,le,ce]}],contrast:[{contrast:[we,le,ce]}],"drop-shadow":[{"drop-shadow":["","none",p,il,nl]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",we,le,ce]}],"hue-rotate":[{"hue-rotate":[we,le,ce]}],invert:[{invert:["",we,le,ce]}],saturate:[{saturate:[we,le,ce]}],sepia:[{sepia:["",we,le,ce]}],"backdrop-filter":[{"backdrop-filter":["","none",le,ce]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[we,le,ce]}],"backdrop-contrast":[{"backdrop-contrast":[we,le,ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",we,le,ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[we,le,ce]}],"backdrop-invert":[{"backdrop-invert":["",we,le,ce]}],"backdrop-opacity":[{"backdrop-opacity":[we,le,ce]}],"backdrop-saturate":[{"backdrop-saturate":[we,le,ce]}],"backdrop-sepia":[{"backdrop-sepia":["",we,le,ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",le,ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[we,"initial",le,ce]}],ease:[{ease:["linear","initial",v,le,ce]}],delay:[{delay:[we,le,ce]}],animate:[{animate:["none",T,le,ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,le,ce]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:Xe()}],"rotate-x":[{"rotate-x":Xe()}],"rotate-y":[{"rotate-y":Xe()}],"rotate-z":[{"rotate-z":Xe()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[le,ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le,ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le,ce]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[we,Va,Zr,Mh]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RQ=uQ(AQ),_e=(...e)=>RQ(at(e)),K0=st(null);function IQ({children:e}){const t=We(null),n=We(""),i=We("initial"),{lastId:r}=_t();ge("agent-id");const{serverUrl:s}=Eh(),a=oe(async u=>{const d=r.value;if(!d){console.warn("[ConversationalAI] Cannot submit rating: missing conversation_id");return}try{t.value=u,i.value="submitted-rating",await e0(d,{rating:u},s.value)}catch(h){console.error("[ConversationalAI] Failed to submit rating:",h)}},[]),o=oe(async()=>{const u=r.value;if(!u){console.warn("[ConversationalAI] Cannot submit feedback: missing conversation_id");return}if(t.value===null){console.warn("[ConversationalAI] Cannot submit feedback: rating not set");return}if(n.value)try{i.value="submitted-follow-up",await e0(u,{rating:t.value,comment:n.value||void 0},s.value)}catch(d){console.error("[ConversationalAI] Failed to submit feedback:",d)}},[]),c=oe(()=>{t.value=null,n.value="",i.value="initial"},[]);An(()=>{r.value!==null&&c()});const l=Me(()=>({rating:t,feedbackText:n,feedbackProgress:i,submitRating:a,submitFeedback:o,reset:c}),[a,o,c]);return g(K0.Provider,{value:l,children:e})}function Lh(){return Vt(K0)}const J0=st(null);function QQ({defaultContent:e="transcript",children:t}){const n=We(e),i=Me(()=>{const r=n.value==="feedback"?{showHeaderBack:!0,onHeaderBack:()=>{n.value="transcript"}}:{showHeaderBack:!1};return{currentContent:n,currentConfig:r}},[n.value]);return g(J0.Provider,{value:i,children:t})}function $h(){return Vt(J0)}const NQ={phone:MQ,"phone-off":LQ,chat:$Q,mic:UQ,"mic-off":qQ,soundwave:XQ,check:zQ,"chevron-down":FQ,"chevron-up":BQ,send:ZQ,star:jQ,copy:VQ,download:WQ,wrap:GQ,maximize:HQ,minimize:KQ,loader:JQ,x:eN},DQ={xs:"text-xs",sm:"text-sm",md:"text-lg",lg:"text-xl"};function bn({name:e,size:t="md",className:n}){const i=NQ[e];return g("slot",{name:`icon-${e}`,className:at("flex",DQ[t],n),"aria-hidden":!0,children:g(i,{})})}function MQ(e){return g("svg",{height:"1em",width:"1em",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:g("path",{d:"M3.7489 2.25C2.93286 2.25 2.21942 2.92142 2.27338 3.7963C2.6686 10.2041 7.79483 15.3303 14.2026 15.7255C15.0775 15.7795 15.7489 15.066 15.7489 14.25V11.958C15.7489 11.2956 15.3144 10.7116 14.6799 10.5213L12.6435 9.91035C12.1149 9.75179 11.542 9.89623 11.1518 10.2864L10.5901 10.8482C9.15291 10.0389 7.95998 8.84599 7.15074 7.40881L7.71246 6.84709C8.10266 6.45689 8.24711 5.88396 8.08854 5.35541L7.47761 3.31898C7.28727 2.6845 6.70329 2.25 6.04087 2.25H3.7489Z"})})}function LQ(e){return g("svg",{height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[g("path",{d:"M16.0303 3.53033C16.3232 3.23744 16.3232 2.76256 16.0303 2.46967C15.7374 2.17678 15.2626 2.17678 14.9697 2.46967L8.6271 8.81224C8.25925 8.3778 7.93185 7.90804 7.65074 7.40881L8.21246 6.84709C8.60266 6.45689 8.74711 5.88396 8.58854 5.35541L7.97761 3.31898C7.78727 2.6845 7.20329 2.25 6.54087 2.25H4.2489C3.43286 2.25 2.71942 2.92142 2.77338 3.7963C2.95462 6.73468 4.13069 9.40357 5.96899 11.4703L2.96967 14.4697C2.67678 14.7626 2.67678 15.2374 2.96967 15.5303C3.26256 15.8232 3.73744 15.8232 4.03033 15.5303L16.0303 3.53033Z"}),g("path",{d:"M14.7026 15.7255C12.2994 15.5773 10.0765 14.7636 8.21584 13.4665L10.9278 10.7545C10.9815 10.7863 11.0356 10.8175 11.0901 10.8482L11.6518 10.2864C12.042 9.89623 12.6149 9.75179 13.1435 9.91035L15.1799 10.5213C15.8144 10.7116 16.2489 11.2956 16.2489 11.958V14.25C16.2489 15.066 15.5775 15.7795 14.7026 15.7255Z"})]})}function $Q(e){return g("svg",{height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.5 6.75C1.5 4.26472 3.51472 2.25 6 2.25H12C14.4853 2.25 16.5 4.26472 16.5 6.75V11.25C16.5 13.7353 14.4853 15.75 12 15.75H2.25C1.83579 15.75 1.5 15.4142 1.5 15V6.75ZM6 9.9375C5.48223 9.9375 5.0625 9.51777 5.0625 9C5.0625 8.48223 5.48223 8.0625 6 8.0625C6.51777 8.0625 6.9375 8.48223 6.9375 9C6.9375 9.51777 6.51777 9.9375 6 9.9375ZM9 9.9375C8.48223 9.9375 8.0625 9.51777 8.0625 9C8.0625 8.48223 8.48223 8.0625 9 8.0625C9.51777 8.0625 9.9375 8.48223 9.9375 9C9.9375 9.51777 9.51777 9.9375 9 9.9375ZM11.0625 9C11.0625 9.51777 11.4822 9.9375 12 9.9375C12.5178 9.9375 12.9375 9.51777 12.9375 9C12.9375 8.48223 12.5178 8.0625 12 8.0625C11.4822 8.0625 11.0625 8.48223 11.0625 9Z"})})}function UQ(e){return g("svg",{height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[g("path",{d:"M9.50008 1.5C7.42901 1.5 5.75008 3.17893 5.75008 5.25V8.25C5.75008 10.3211 7.42901 12 9.50008 12C11.5712 12 13.2501 10.3211 13.2501 8.25V5.25C13.2501 3.17893 11.5712 1.5 9.50008 1.5Z"}),g("path",{d:"M4.88997 10.8417C4.66448 10.4943 4.20002 10.3954 3.85256 10.6209C3.50509 10.8463 3.40621 11.3108 3.63169 11.6583C4.47442 12.9569 6.08493 14.6838 8.75008 14.9616V15.75C8.75008 16.1642 9.08587 16.5 9.50008 16.5C9.9143 16.5 10.2501 16.1642 10.2501 15.75V14.9616C12.9152 14.6838 14.5257 12.9569 15.3685 11.6583C15.594 11.3108 15.4951 10.8463 15.1476 10.6209C14.8001 10.3954 14.3357 10.4943 14.1102 10.8417C13.3305 12.0432 11.9002 13.5 9.50008 13.5C7.1 13.5 5.66968 12.0432 4.88997 10.8417Z"})]})}function qQ(e){return g("svg",{height:"1em",width:"1em",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[g("path",{d:"M13.25 8.25C13.25 8.64791 13.188 9.03135 13.0732 9.39119L6.57947 2.8975C7.26687 2.04521 8.31974 1.5 9.49995 1.5C11.571 1.5 13.25 3.17893 13.25 5.25V8.25Z"}),g("path",{d:"M2.21967 1.71967C2.51256 1.42678 2.98744 1.42678 3.28033 1.71967L16.7803 15.2197C17.0732 15.5126 17.0732 15.9874 16.7803 16.2803C16.4874 16.5732 16.0126 16.5732 15.7197 16.2803L13.2828 13.8435C12.4719 14.4022 11.4678 14.8338 10.25 14.9614V15.75C10.25 16.1642 9.91422 16.5 9.50001 16.5C9.08579 16.5 8.75001 16.1642 8.75001 15.75V14.9616C6.08485 14.6838 4.47434 12.9569 3.63162 11.6583C3.40614 11.3108 3.50502 10.8463 3.85248 10.6209C4.19995 10.3954 4.66441 10.4943 4.88989 10.8417C5.6696 12.0432 7.09993 13.5 9.50001 13.5C10.5978 13.5 11.4845 13.1981 12.1992 12.7598L11.0875 11.6482C10.605 11.8739 10.0667 12 9.50001 12C7.42894 12 5.75001 10.3211 5.75001 8.25V6.31067L2.21967 2.78033C1.92678 2.48744 1.92678 2.01256 2.21967 1.71967Z"})]})}function XQ(e){return g("svg",{height:"1em",width:"1em",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[g("rect",{x:"1.5",y:"6.75",width:"2",height:"4.5",rx:"1"}),g("rect",{x:"5",y:"4.5",width:"2",height:"9",rx:"1"}),g("rect",{x:"8.5",y:"2.25",width:"2",height:"13.5",rx:"1"}),g("rect",{x:"12",y:"4.5",width:"2",height:"9",rx:"1"}),g("rect",{x:"15.5",y:"6.75",width:"2",height:"4.5",rx:"1"})]})}function FQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:g("path",{d:"m6 9 6 6 6-6"})})}function BQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:g("path",{d:"m18 15-6-6-6 6"})})}function zQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:g("path",{d:"M20 6 9 17l-5-5"})})}function ZQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 20 20",fill:"currentColor",...e,children:g("path",{d:"M4.64337 17.6645C3.243 18.1313 1.97185 16.6817 2.6176 15.3543L8.50148 3.25965C9.10962 2.00957 10.8908 2.00958 11.4989 3.25965L17.3828 15.3543C18.0286 16.6817 16.7574 18.1313 15.357 17.6645L10.8334 16.1567L10.8334 12.5005C10.8334 12.0403 10.4603 11.6672 10 11.6672C9.5398 11.6672 9.16671 12.0403 9.16671 12.5005L9.16671 16.1568L4.64337 17.6645Z"})})}function jQ(e){return g("svg",{height:"1em",width:"1em",viewBox:"0 0 21 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:g("path",{d:"M11.8621 0.854898C11.3145 -0.284967 9.68804 -0.284965 9.1404 0.854899L6.77181 5.78487C6.77181 5.78487 6.76902 5.78867 6.7646 5.78925L1.31499 6.50272C0.0591912 6.66713 -0.452868 8.21568 0.474832 9.09033L4.45896 12.8466C4.46075 12.8483 4.46059 12.8502 4.46059 12.8502L3.46003 18.2169C3.22657 19.4691 4.55184 20.4152 5.66108 19.8172L10.4957 17.2111C10.4991 17.2093 10.5035 17.2093 10.5068 17.2111L15.3415 19.8172C16.4507 20.4152 17.776 19.4691 17.5425 18.2169L16.542 12.8502C16.542 12.8502 16.5418 12.8483 16.5436 12.8466L20.5277 9.09033C21.4554 8.21568 20.9434 6.66713 19.6876 6.50272L14.2379 5.78925C14.2335 5.78867 14.2307 5.78487 14.2307 5.78487L11.8621 0.854898Z"})})}function VQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[g("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),g("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}function WQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[g("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),g("polyline",{points:"7 10 12 15 17 10"}),g("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]})}function GQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[g("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),g("path",{d:"M3 12h15a3 3 0 1 1 0 6h-4"}),g("polyline",{points:"16 16 14 18 16 20"}),g("line",{x1:"3",x2:"10",y1:"18",y2:"18"})]})}function YQ({orbColor:e,circleBackgroundColor:t,starColor:n,className:i}){return g("slot",{name:"icon-feedback",className:at("flex",i),"aria-hidden":!0,children:g("svg",{width:"100%",height:"100%",viewBox:"0 0 82 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 42C9 59.6731 23.3269 74 41 74C58.6731 74 73 59.6731 73 42C73 24.3269 58.6731 10 41 10C23.3269 10 9 24.3269 9 42ZM29.4529 18.5973C31.1347 18.0574 32.8641 17.5023 34.9844 16.6005C42.2533 13.5091 48.3526 11.9217 51.7782 14.094C53.5063 15.1899 54.4051 16.7749 55.6117 18.9024C56.7969 20.9922 58.279 23.6057 61.1358 26.7937C62.2737 28.0636 63.3886 29.2195 64.4371 30.3064C68.7007 34.7263 71.8645 38.0061 70.9949 43.1697C70.2965 47.316 67.9794 49.4559 65.6038 51.65C63.4317 53.656 61.2107 55.7073 60.1332 59.3786C57.8774 67.0653 53.5327 71.9113 48.3526 72.7468C43.1725 73.5823 36.6555 75.1698 29.8043 70.1567C26.1949 67.5157 25.229 64.3182 24.1947 60.894C23.2657 57.8184 22.2814 54.56 19.2768 51.3577C14.1619 45.9062 10.2533 29.6345 19.2768 23.0339C23.736 20.4327 26.5223 19.5382 29.4529 18.5973Z",fill:e,"fill-opacity":"0.15",stroke:e,"stroke-opacity":"0.35"}),g("path",{d:"M43.5 73.4212C40.4387 73.4212 35.0039 71.1025 37.556 56.4696C40.143 41.6365 42.6582 40.577 44.6991 25.744C46.3318 13.8775 41.1635 8.87964 33 10.9988",stroke:e,"stroke-opacity":"0.35"}),g("path",{d:"M43.5 73.4212C40.4387 73.4212 35.0039 71.1025 37.556 56.4696C40.143 41.6365 42.6582 40.577 44.6991 25.744C46.3318 13.8775 41.1635 8.87964 33 10.9988",stroke:e,"stroke-opacity":"0.35"}),g("path",{d:"M21.9366 68.1987C21.3549 66.5119 21.0386 60.9231 28.1376 53.3448C37.0114 43.8719 40.5 43.9579 51.4911 31.7482C59.5691 22.7747 59.1723 17.0524 58.0993 15.4626",stroke:e,"stroke-opacity":"0.35"}),g("path",{d:"M9.26819 42.161C10.4003 43.5337 15.6951 46.3853 25.7661 44.3926C38.3548 41.9018 52.434 40.307 57.694 41.0287C70.352 42.7655 71.4138 51.3035 71.4138 51.3035",stroke:e,"stroke-opacity":"0.35"}),g("path",{d:"M22 16.4916C18.815 21.85 19.6451 26.0591 27.9943 32.0828C38.4307 39.6124 50.2985 48.8304 53.5024 53.1027C58.6684 59.9914 59.5 67.928 59.5 67.928",stroke:e,"stroke-opacity":"0.35"}),g("rect",{x:"9.26099",y:"10",width:"63.7129",height:"63.7129",rx:"31.8565",stroke:e,"stroke-opacity":"0.43","stroke-width":"1.5"}),g("g",{"clip-path":"url(#clip0_7006_42127)",children:[g("circle",{cx:"62.4996",cy:"18.2032",r:"15.0195",transform:"rotate(6.27205 62.4996 18.2032)",fill:t}),g("path",{d:"M60.7142 12.1753C62.057 10.0714 65.2294 10.4202 66.0833 12.7654L66.6158 14.2308L68.1251 14.6217C70.5415 15.2484 71.1908 18.3742 69.2237 19.911L67.9944 20.8704L68.0896 22.4262C68.2403 24.9178 65.4681 26.5011 63.3987 25.1056L62.1065 24.2326L60.6555 24.8041C58.3322 25.7172 55.9702 23.5694 56.6585 21.1698L57.0884 19.6717L56.0977 18.4684C54.5112 16.541 55.8231 13.6307 58.318 13.5438L59.8751 13.4899L60.7142 12.1753Z",fill:n,stroke:t,"stroke-width":"3.27381"}),g("path",{d:"M63.925 5.23719C71.0867 6.02431 76.2545 12.4676 75.4676 19.6293C74.6805 26.7911 68.2364 31.959 61.0746 31.1718C53.9129 30.3845 48.7459 23.9406 49.533 16.7789C50.3203 9.61739 56.7634 4.45029 63.925 5.23719ZM63.6957 7.32326C57.6866 6.66302 52.2797 10.9991 51.6191 17.0082C50.9586 23.0174 55.2946 28.4251 61.3038 29.0858C67.3132 29.7462 72.7211 25.4094 73.3816 19.4C74.0418 13.3908 69.705 7.98372 63.6957 7.32326Z",fill:n,stroke:t,"stroke-width":"0.3","stroke-linecap":"round","stroke-linejoin":"round"})]}),g("ellipse",{cx:"41",cy:"85",rx:"15",ry:"3",fill:e,"fill-opacity":"0.35"}),g("defs",{children:g("clipPath",{id:"clip0_7006_42127",children:g("rect",{width:"33",height:"33",fill:"white",transform:"translate(47.9012) rotate(6.27205)"})})})]})})}function HQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[g("path",{d:"M15 3h6v6"}),g("path",{d:"m21 3-7 7"}),g("path",{d:"m3 21 7-7"}),g("path",{d:"M9 21H3v-6"})]})}function KQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[g("path",{d:"m14 10 7-7"}),g("path",{d:"M20 10h-6V4"}),g("path",{d:"m3 21 7-7"}),g("path",{d:"M4 14h6v6"})]})}function JQ(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:g("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}function eN(e){return g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[g("path",{d:"M18 6 6 18"}),g("path",{d:"m6 6 12 12"})]})}function Tn(e){const t=I0().value?tN:nN;return g(t,{...e})}function tN({visible:e,className:t,grow:n,dep:i,...r}){return e?g("div",{className:at(n&&"grow",t),...r}):null}function nN({visible:e,children:t,className:n,grow:i,dep:r,...s}){const[a,o]=he(e),[c,l]=he(null),[u,d]=he(null),h=ue(t);e&&(h.current=t);const p=oe(b=>{l(b),b&&!e&&(b.style.width="0px",b.style.height="0px")},[]);ke(()=>{u&&(u.style.transition="none",u.style.opacity="0",u.offsetWidth,u.style.transition="",u.style.opacity="")},[r]),Me(()=>{c&&(c.style.width=`${c.offsetWidth}px`,c.style.height=`${c.offsetHeight}px`)},[c,e,r]),ke(()=>{if(!c||!u)return;e&&o(!0);const b=e?u.offsetWidth:0,v=e?u.offsetHeight:0;c.style.width=!e||c.offsetWidth!==b?`${b}px`:"",c.style.height=!e||c.offsetHeight!==v?`${v}px`:""},[c,u,e,r]);const{transitioning:m,handlers:O}=Q0({onEnd:()=>{e?(c.style.width="",c.style.height=""):o(!1)}});return g("div",{ref:p,className:at("relative inline-flex shrink-0 justify-center items-center transition-[opacity,width,height,transform,flex-grow] duration-200 min-w-0",!e&&"opacity-0 scale-75",e&&i&&"grow",e&&a&&!m.value&&"z-1"),...O,children:g("div",{ref:d,className:at("shrink-0 min-h-min min-w-min transition-opacity duration-200",i&&"grow",n),...s,children:(e||a)&&h.current})})}const iN={primary:"text-accent-primary border border-accent bg-accent hover:border-accent-hover hover:bg-accent-hover active:border-accent-active active:bg-accent-active",secondary:"text-base-primary border border-base-border bg-base hover:bg-base-hover active:bg-base-active",ghost:"text-base-primary border border-base bg-base hover:bg-base-hover hover:border-base-hover active:bg-base-active active:border-base-active","md-button":"text-base-primary border border-base-border bg-base hover:bg-base-hover active:bg-base-active text-sm h-6"},It=Ee(function({variant:e="secondary",children:t,icon:n,className:i,iconClassName:r,truncate:s=!0,...a},o){const c=!!n&&!t;return g("button",{ref:o,className:_e("h-9 flex px-2.5 text-sm items-center transition-[colors,opacity] justify-center rounded-button duration-200 focus-ring overflow-hidden select-none","disabled:opacity-50 disabled:pointer-events-none",iN[e],c&&"min-w-9",i),type:"button",...a,children:[n&&g(bn,{className:_e("transition-[margin] duration-200",c&&"-mx-0.5",e==="md-button"&&"text-sm",r),name:n}),g(Tn,{visible:!!t,dep:t,children:g("span",{className:_e("block whitespace-nowrap max-w-64 truncate",e==="md-button"?"pl-1.5":"px-1.5"),children:t})})]})}),eT=(e,t)=>Array.from({length:t-e+1},(n,i)=>i+e),rN=({isFilled:e,iconName:t})=>g("span",{className:at("w-8 h-8 grid place-content-center",e?"text-base-primary":"text-base-border"),children:g(bn,{name:t,size:"lg"})}),sN=({value:e,rating:t,hoverRating:n,onClick:i,onHover:r,onKeyDown:s,iconName:a})=>{const o=t.value!==null&&e<=t.value,c=n.value!==null&&e<=n.value,l=oe(d=>{d.stopPropagation(),i(e)},[i,e]),u=oe(d=>{s(d,e)},[s,e]);return g("button",{type:"button",role:"radio","aria-checked":o,"aria-label":e.toString(),onMouseEnter:()=>r(e),onClick:l,onKeyDown:u,className:at("w-8 h-8 grid place-content-center rounded-full focus-ring transition-colors cursor-pointer",o||c?"text-base-primary":"text-base-border"),children:g(bn,{name:a,size:"lg"})})},aN=({onRate:e,min:t=1,max:n=5,ariaLabel:i,icon:r="star"})=>{const s=We(null),a=We(null),o=eT(t,n),c=oe(h=>{a.value=h},[a]),l=oe(()=>{a.value=null},[a]),u=oe(h=>{s.value=h,e(h)},[s,e]),d=oe((h,p)=>{h.key==="Enter"||h.key===" "?(h.preventDefault(),s.value=p,e(p)):h.key==="ArrowLeft"||h.key==="ArrowDown"?(h.preventDefault(),p-1>=t&&h.currentTarget?.previousElementSibling?.focus()):(h.key==="ArrowRight"||h.key==="ArrowUp")&&(h.preventDefault(),p+1<=n&&h.currentTarget?.nextElementSibling?.focus())},[s,e,t,n]);return g("div",{role:"radiogroup","aria-label":i,className:"flex no-wrap cursor-pointer",onMouseLeave:l,children:o.map(h=>g(sN,{value:h,rating:s,hoverRating:a,onClick:u,onHover:c,onKeyDown:d,iconName:r},h))})};function tT({rating:e,min:t=1,max:n=5,icon:i="star"}){const r=eT(t,n);return g("div",{className:"flex no-wrap",role:"img","aria-label":`Rating: ${e} out of ${n}`,children:r.map(s=>g(rN,{isFilled:e>=s,iconName:i},s))})}function oN({icon:e,onRate:t}){const n=nt();return g("div",{className:"flex flex-col items-center",children:[g("div",{className:"text-sm text-base-primary font-medium",children:n.initiate_feedback}),g("div",{className:"py-4",children:g(aN,{onRate:t,ariaLabel:n.initiate_feedback,icon:e})})]})}function cN({icon:e,rating:t,showFollowUpButton:n,onFollowUpClick:i}){const r=nt();return g("div",{className:"flex flex-col items-center gap-3 mb-4",children:[g("div",{className:"text-sm text-base-primary font-medium",children:r.thanks_for_feedback}),g(tT,{rating:t,min:1,max:5,icon:e}),n&&g(It,{variant:"secondary",onClick:i,children:r.request_follow_up_feedback})]})}function lN({icon:e="star"}){const{currentContent:t}=$h(),{rating:n,feedbackProgress:i,submitRating:r}=Lh(),s=i.value!=="initial"&&n.value!==null,a=oe(c=>{r(c),t.value="feedback"},[r]),o=oe(()=>{t.value="feedback"},[]);return s?g(cN,{icon:e,rating:n.value??0,showFollowUpButton:i.value!=="submitted-follow-up",onFollowUpClick:o}):g(oN,{icon:e,onRate:a})}const uN=/\[[\w\s]+\](?!\()\s*/g;function dN(e){return e.replace(uN,"").trim()}const nT=-1,rl=0,Wa=1,sl=2,Uh=3,qh=4,Xh=5,Fh=6,iT=7,rT=8,sT=typeof self=="object"?self:globalThis,hN=(e,t)=>{const n=(r,s)=>(e.set(s,r),r),i=r=>{if(e.has(r))return e.get(r);const[s,a]=t[r];switch(s){case rl:case nT:return n(a,r);case Wa:{const o=n([],r);for(const c of a)o.push(i(c));return o}case sl:{const o=n({},r);for(const[c,l]of a)o[i(c)]=i(l);return o}case Uh:return n(new Date(a),r);case qh:{const{source:o,flags:c}=a;return n(new RegExp(o,c),r)}case Xh:{const o=n(new Map,r);for(const[c,l]of a)o.set(i(c),i(l));return o}case Fh:{const o=n(new Set,r);for(const c of a)o.add(i(c));return o}case iT:{const{name:o,message:c}=a;return n(new sT[o](c),r)}case rT:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new sT[s](a),r)};return i},aT=e=>hN(new Map,e)(0),Ls="",{toString:pN}={},{keys:fN}=Object,Ga=e=>{const t=typeof e;if(t!=="object"||!e)return[rl,t];const n=pN.call(e).slice(8,-1);switch(n){case"Array":return[Wa,Ls];case"Object":return[sl,Ls];case"Date":return[Uh,Ls];case"RegExp":return[qh,Ls];case"Map":return[Xh,Ls];case"Set":return[Fh,Ls];case"DataView":return[Wa,n]}return n.includes("Array")?[Wa,n]:n.includes("Error")?[iT,n]:[sl,n]},al=([e,t])=>e===rl&&(t==="function"||t==="symbol"),mN=(e,t,n,i)=>{const r=(a,o)=>{const c=i.push(a)-1;return n.set(o,c),c},s=a=>{if(n.has(a))return n.get(a);let[o,c]=Ga(a);switch(o){case rl:{let u=a;switch(c){case"bigint":o=rT,u=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);u=null;break;case"undefined":return r([nT],a)}return r([o,u],a)}case Wa:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),r([c,[...h]],a)}const u=[],d=r([o,u],a);for(const h of a)u.push(s(h));return d}case sl:{if(c)switch(c){case"BigInt":return r([c,a.toString()],a);case"Boolean":case"Number":case"String":return r([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const u=[],d=r([o,u],a);for(const h of fN(a))(e||!al(Ga(a[h])))&&u.push([s(h),s(a[h])]);return d}case Uh:return r([o,a.toISOString()],a);case qh:{const{source:u,flags:d}=a;return r([o,{source:u,flags:d}],a)}case Xh:{const u=[],d=r([o,u],a);for(const[h,p]of a)(e||!(al(Ga(h))||al(Ga(p))))&&u.push([s(h),s(p)]);return d}case Fh:{const u=[],d=r([o,u],a);for(const h of a)(e||!al(Ga(h)))&&u.push(s(h));return d}}const{message:l}=a;return r([o,{name:c,message:l}],a)};return s},oT=(e,{json:t,lossy:n}={})=>{const i=[];return mN(!(t||n),!!t,new Map,i)(e),i},jr=typeof structuredClone=="function"?((e,t)=>t&&("json"in t||"lossy"in t)?aT(oT(e,t)):structuredClone(e)):(e,t)=>aT(oT(e,t)),ol=cT("end"),oi=cT("start");function cT(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function lT(e){const t=oi(e),n=ol(e);if(t&&n)return{start:t,end:n}}const Vr=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Ya={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Vr,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Vr],h2:[["className","sr-only"]],img:[...Vr,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Vr,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Vr],table:[...Vr],ul:[...Vr,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},fr={}.hasOwnProperty;function ON(e,t){let n={type:"root",children:[]};const i={schema:t?{...Ya,...t}:Ya,stack:[]},r=uT(i,e);return r&&(Array.isArray(r)?r.length===1?n=r[0]:n.children=r:n=r),n}function uT(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return gN(e,n);case"doctype":return vN(e,n);case"element":return bN(e,n);case"root":return TN(e,n);case"text":return kN(e,n)}}}function gN(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",i=n.indexOf("-->"),r={type:"comment",value:i<0?n:n.slice(0,i)};return Ha(r,t),r}}function vN(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return Ha(n,t),n}}function bN(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const i=dT(e,t.children),r=yN(e,t.properties);e.stack.pop();let s=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(s=!0,e.schema.ancestors&&fr.call(e.schema.ancestors,n))){const o=e.schema.ancestors[n];let c=-1;for(s=!1;++c<o.length;)e.stack.includes(o[c])&&(s=!0)}if(!s)return e.schema.strip&&!e.schema.strip.includes(n)?i:void 0;const a={type:"element",tagName:n,properties:r,children:i};return Ha(a,t),a}function TN(e,t){const n={type:"root",children:dT(e,t.children)};return Ha(n,t),n}function kN(e,t){const n={type:"text",value:typeof t.value=="string"?t.value:""};return Ha(n,t),n}function dT(e,t){const n=[];if(Array.isArray(t)){const i=t;let r=-1;for(;++r<i.length;){const s=uT(e,i[r]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function yN(e,t){const n=e.stack[e.stack.length-1],i=e.schema.attributes,r=e.schema.required,s=i&&fr.call(i,n)?i[n]:void 0,a=i&&fr.call(i,"*")?i["*"]:void 0,o=t&&typeof t=="object"?t:{},c={};let l;for(l in o)if(fr.call(o,l)){const u=o[l];let d=hT(e,fT(s,l),l,u);d==null&&(d=hT(e,fT(a,l),l,u)),d!=null&&(c[l]=d)}if(r&&fr.call(r,n)){const u=r[n];for(l in u)fr.call(u,l)&&!fr.call(c,l)&&(c[l]=u[l])}return c}function hT(e,t,n,i){return t?Array.isArray(i)?SN(e,t,n,i):pT(e,t,n,i):void 0}function SN(e,t,n,i){let r=-1;const s=[];for(;++r<i.length;){const a=pT(e,t,n,i[r]);(typeof a=="number"||typeof a=="string")&&s.push(a)}return s}function pT(e,t,n,i){if(!(typeof i!="boolean"&&typeof i!="number"&&typeof i!="string")&&_N(e,n,i)){if(typeof t=="object"&&t.length>1){let r=!1,s=0;for(;++s<t.length;){const a=t[s];if(a&&typeof a=="object"&&"flags"in a){if(a.test(String(i))){r=!0;break}}else if(a===i){r=!0;break}}if(!r)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+i:i}}function _N(e,t,n){const i=e.schema.protocols&&fr.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!i||i.length===0)return!0;const r=String(n),s=r.indexOf(":"),a=r.indexOf("?"),o=r.indexOf("#"),c=r.indexOf("/");if(s<0||c>-1&&s>c||a>-1&&s>a||o>-1&&s>o)return!0;let l=-1;for(;++l<i.length;){const u=i[l];if(s===u.length&&r.slice(0,u.length)===u)return!0}return!1}function Ha(e,t){const n=lT(t);t.data&&(e.data=jr(t.data)),n&&(e.position=n)}function fT(e,t){let n,i=-1;if(e)for(;++i<e.length;){const r=e[i],s=typeof r=="string"?r:r[0];if(s===t)return r;s==="data*"&&(n=r)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function wN(e){return function(t){return ON(t,e)}}class Ka{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Ka.prototype.normal={},Ka.prototype.property={},Ka.prototype.space=void 0;function mT(e,t){const n={},i={};for(const r of e)Object.assign(n,r.property),Object.assign(i,r.normal);return new Ka(n,i,t)}function Ja(e){return e.toLowerCase()}class ln{constructor(t,n){this.attribute=n,this.property=t}}ln.prototype.attribute="",ln.prototype.booleanish=!1,ln.prototype.boolean=!1,ln.prototype.commaOrSpaceSeparated=!1,ln.prototype.commaSeparated=!1,ln.prototype.defined=!1,ln.prototype.mustUseProperty=!1,ln.prototype.number=!1,ln.prototype.overloadedBoolean=!1,ln.prototype.property="",ln.prototype.spaceSeparated=!1,ln.prototype.space=void 0;let EN=0;const Se=Wr(),Et=Wr(),Bh=Wr(),H=Wr(),rt=Wr(),$s=Wr(),kn=Wr();function Wr(){return 2**++EN}const zh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Se,booleanish:Et,commaOrSpaceSeparated:kn,commaSeparated:$s,number:H,overloadedBoolean:Bh,spaceSeparated:rt},Symbol.toStringTag,{value:"Module"})),Zh=Object.keys(zh);class jh extends ln{constructor(t,n,i,r){let s=-1;if(super(t,n),OT(this,"space",r),typeof i=="number")for(;++s<Zh.length;){const a=Zh[s];OT(this,Zh[s],(i&zh[a])===zh[a])}}}jh.prototype.defined=!0;function OT(e,t,n){n&&(e[t]=n)}function Us(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const s=new jh(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,n[Ja(i)]=i,n[Ja(s.attribute)]=i}return new Ka(t,n,e.space)}const gT=Us({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:H,ariaColIndex:H,ariaColSpan:H,ariaControls:rt,ariaCurrent:null,ariaDescribedBy:rt,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:rt,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:rt,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rt,ariaLevel:H,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:rt,ariaPlaceholder:null,ariaPosInSet:H,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:rt,ariaRowCount:H,ariaRowIndex:H,ariaRowSpan:H,ariaSelected:Et,ariaSetSize:H,ariaSort:null,ariaValueMax:H,ariaValueMin:H,ariaValueNow:H,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function vT(e,t){return t in e?e[t]:t}function bT(e,t){return vT(e,t.toLowerCase())}const xN=Us({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$s,acceptCharset:rt,accessKey:rt,action:null,allow:null,allowFullScreen:Se,allowPaymentRequest:Se,allowUserMedia:Se,alt:null,as:null,async:Se,autoCapitalize:null,autoComplete:rt,autoFocus:Se,autoPlay:Se,blocking:rt,capture:null,charSet:null,checked:Se,cite:null,className:rt,cols:H,colSpan:null,content:null,contentEditable:Et,controls:Se,controlsList:rt,coords:H|$s,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Se,defer:Se,dir:null,dirName:null,disabled:Se,download:Bh,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Se,formTarget:null,headers:rt,height:H,hidden:Bh,high:H,href:null,hrefLang:null,htmlFor:rt,httpEquiv:rt,id:null,imageSizes:null,imageSrcSet:null,inert:Se,inputMode:null,integrity:null,is:null,isMap:Se,itemId:null,itemProp:rt,itemRef:rt,itemScope:Se,itemType:rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Se,low:H,manifest:null,max:null,maxLength:H,media:null,method:null,min:null,minLength:H,multiple:Se,muted:Se,name:null,nonce:null,noModule:Se,noValidate:Se,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Se,optimum:H,pattern:null,ping:rt,placeholder:null,playsInline:Se,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Se,referrerPolicy:null,rel:rt,required:Se,reversed:Se,rows:H,rowSpan:H,sandbox:rt,scope:null,scoped:Se,seamless:Se,selected:Se,shadowRootClonable:Se,shadowRootDelegatesFocus:Se,shadowRootMode:null,shape:null,size:H,sizes:null,slot:null,span:H,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:H,step:null,style:null,tabIndex:H,target:null,title:null,translate:null,type:null,typeMustMatch:Se,useMap:null,value:Et,width:H,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rt,axis:null,background:null,bgColor:null,border:H,borderColor:null,bottomMargin:H,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Se,declare:Se,event:null,face:null,frame:null,frameBorder:null,hSpace:H,leftMargin:H,link:null,longDesc:null,lowSrc:null,marginHeight:H,marginWidth:H,noResize:Se,noHref:Se,noShade:Se,noWrap:Se,object:null,profile:null,prompt:null,rev:null,rightMargin:H,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:H,valueType:null,version:null,vAlign:null,vLink:null,vSpace:H,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Se,disableRemotePlayback:Se,prefix:null,property:null,results:H,security:null,unselectable:null},space:"html",transform:bT}),CN=Us({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:kn,accentHeight:H,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:H,amplitude:H,arabicForm:null,ascent:H,attributeName:null,attributeType:null,azimuth:H,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:H,by:null,calcMode:null,capHeight:H,className:rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:H,diffuseConstant:H,direction:null,display:null,dur:null,divisor:H,dominantBaseline:null,download:Se,dx:null,dy:null,edgeMode:null,editable:null,elevation:H,enableBackground:null,end:null,event:null,exponent:H,externalResourcesRequired:null,fill:null,fillOpacity:H,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$s,g2:$s,glyphName:$s,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:H,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:H,horizOriginX:H,horizOriginY:H,id:null,ideographic:H,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:H,k:H,k1:H,k2:H,k3:H,k4:H,kernelMatrix:kn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:H,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:H,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:H,overlineThickness:H,paintOrder:null,panose1:null,path:null,pathLength:H,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:H,pointsAtY:H,pointsAtZ:H,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:kn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:kn,rev:kn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:kn,requiredFeatures:kn,requiredFonts:kn,requiredFormats:kn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:H,specularExponent:H,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:H,strikethroughThickness:H,string:null,stroke:null,strokeDashArray:kn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:H,strokeOpacity:H,strokeWidth:null,style:null,surfaceScale:H,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:kn,tabIndex:H,tableValues:null,target:null,targetX:H,targetY:H,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:kn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:H,underlineThickness:H,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:H,values:null,vAlphabetic:H,vMathematical:H,vectorEffect:null,vHanging:H,vIdeographic:H,version:null,vertAdvY:H,vertOriginX:H,vertOriginY:H,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:H,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vT}),TT=Us({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),kT=Us({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:bT}),yT=Us({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),PN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},AN=/[A-Z]/g,ST=/-[a-z]/g,RN=/^data[-\w.:]+$/i;function cl(e,t){const n=Ja(t);let i=t,r=ln;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&RN.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(ST,QN);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!ST.test(s)){let a=s.replace(AN,IN);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}r=jh}return new r(i,t)}function IN(e){return"-"+e.toLowerCase()}function QN(e){return e.charAt(1).toUpperCase()}const eo=mT([gT,xN,TT,kT,yT],"html"),mr=mT([gT,CN,TT,kT,yT],"svg");function _T(e){const t=[],n=String(e||"");let i=n.indexOf(","),r=0,s=!1;for(;!s;){i===-1&&(i=n.length,s=!0);const a=n.slice(r,i).trim();(a||!s)&&t.push(a),r=i+1,i=n.indexOf(",",r)}return t}function wT(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ET=/[#.]/g;function NN(e,t){const n=e||"",i={};let r=0,s,a;for(;r<n.length;){ET.lastIndex=r;const o=ET.exec(n),c=n.slice(r,o?o.index:n.length);c&&(s?s==="#"?i.id=c:Array.isArray(i.className)?i.className.push(c):i.className=[c]:a=c,r+=c.length),o&&(s=o[0],r++)}return{type:"element",tagName:a||t||"div",properties:i,children:[]}}function xT(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function CT(e){return e.join(" ").trim()}function PT(e,t,n){const i=n?$N(n):void 0;function r(s,a,...o){let c;if(s==null){c={type:"root",children:[]};const l=a;o.unshift(l)}else{c=NN(s,t);const l=c.tagName.toLowerCase(),u=i?i.get(l):void 0;if(c.tagName=u||l,DN(a))o.unshift(a);else for(const[d,h]of Object.entries(a))MN(e,c.properties,d,h)}for(const l of o)Vh(c.children,l);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return r}function DN(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const i of n){const r=t[i];if(r&&typeof r=="object"){if(!Array.isArray(r))return!0;const s=r;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function MN(e,t,n,i){const r=cl(e,n);let s;if(i!=null){if(typeof i=="number"){if(Number.isNaN(i))return;s=i}else typeof i=="boolean"?s=i:typeof i=="string"?r.spaceSeparated?s=xT(i):r.commaSeparated?s=_T(i):r.commaOrSpaceSeparated?s=xT(_T(i).join(" ")):s=AT(r,r.property,i):Array.isArray(i)?s=[...i]:s=r.property==="style"?LN(i):String(i);if(Array.isArray(s)){const a=[];for(const o of s)a.push(AT(r,r.property,o));s=a}r.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[r.property]=s}}function Vh(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Vh(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Vh(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function AT(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Ja(n)===Ja(t)))return!0}return n}function LN(e){const t=[];for(const[n,i]of Object.entries(e))t.push([n,i].join(": "));return t.join("; ")}function $N(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const UN=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],qN=PT(eo,"div"),XN=PT(mr,"g",UN);function FN(e){const t=String(e),n=[];return{toOffset:r,toPoint:i};function i(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const c=RT(t,n[a-1]);o=c===-1?t.length+1:c+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function r(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],c=RT(t,o),l=c===-1?t.length+1:c+1;if(o===l)break;n.push(l)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function RT(e,t){const n=e.indexOf("\r",t),i=e.indexOf(`
`,t);return i===-1?n:n===-1||n+1===i?i:n<i?n:i}const Gr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},IT={}.hasOwnProperty,BN=Object.prototype;function zN(e,t){const n=t||{};return Wh({file:n.file||void 0,location:!1,schema:n.space==="svg"?mr:eo,verbose:n.verbose||!1},e)}function Wh(e,t){let n;switch(t.nodeName){case"#comment":{const i=t;return n={type:"comment",value:i.data},ll(e,i,n),n}case"#document":case"#document-fragment":{const i=t,r="mode"in i?i.mode==="quirks"||i.mode==="limited-quirks":!1;if(n={type:"root",children:QT(e,t.childNodes),data:{quirksMode:r}},e.file&&e.location){const s=String(e.file),a=FN(s),o=a.toPoint(0),c=a.toPoint(s.length);n.position={start:o,end:c}}return n}case"#documentType":{const i=t;return n={type:"doctype"},ll(e,i,n),n}case"#text":{const i=t;return n={type:"text",value:i.value},ll(e,i,n),n}default:return n=ZN(e,t),n}}function QT(e,t){let n=-1;const i=[];for(;++n<t.length;){const r=Wh(e,t[n]);i.push(r)}return i}function ZN(e,t){const n=e.schema;e.schema=t.namespaceURI===Gr.svg?mr:eo;let i=-1;const r={};for(;++i<t.attrs.length;){const a=t.attrs[i],o=(a.prefix?a.prefix+":":"")+a.name;IT.call(BN,o)||(r[o]=a.value)}const s=(e.schema.space==="svg"?XN:qN)(t.tagName,r,QT(e,t.childNodes));if(ll(e,t,s),s.tagName==="template"){const a=t,o=a.sourceCodeLocation,c=o&&o.startTag&&qs(o.startTag),l=o&&o.endTag&&qs(o.endTag),u=Wh(e,a.content);c&&l&&e.file&&(u.position={start:c.end,end:l.start}),s.content=u}return e.schema=n,s}function ll(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const i=jN(e,n,t.sourceCodeLocation);i&&(e.location=!0,n.position=i)}}function jN(e,t,n){const i=qs(n);if(t.type==="element"){const r=t.children[t.children.length-1];if(i&&!n.endTag&&r&&r.position&&r.position.end&&(i.end=Object.assign({},r.position.end)),e.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)IT.call(n.attrs,a)&&(s[cl(e.schema,a).property]=qs(n.attrs[a]));n.startTag;const o=qs(n.startTag),c=n.endTag?qs(n.endTag):void 0,l={opening:o};c&&(l.closing=c),l.properties=s,t.data={position:l}}}return i}function qs(e){const t=NT({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=NT({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function NT(e){return e.line&&e.column?e:void 0}const DT={}.hasOwnProperty;function MT(e,t){const n=t||{};function i(r,...s){let a=i.invalid;const o=i.handlers;if(r&&DT.call(r,e)){const c=String(r[e]);a=DT.call(o,c)?o[c]:i.unknown}if(a)return a.call(this,r,...s)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}const VN={},WN={}.hasOwnProperty,LT=MT("type",{handlers:{root:YN,element:tD,text:JN,comment:eD,doctype:KN}});function GN(e,t){const n=(t||VN).space;return LT(e,n==="svg"?mr:eo)}function YN(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Gh(e.children,n,t),Xs(e,n),n}function HN(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Gh(e.children,n,t),Xs(e,n),n}function KN(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Xs(e,t),t}function JN(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Xs(e,t),t}function eD(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Xs(e,t),t}function tD(e,t){const n=t;let i=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=mr);const r=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&WN.call(e.properties,s)){const c=nD(i,s,e.properties[s]);c&&r.push(c)}}const a=i.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:r,namespaceURI:Gr[a],childNodes:[],parentNode:null};return o.childNodes=Gh(e.children,o,i),Xs(e,o),e.tagName==="template"&&e.content&&(o.content=HN(e.content,i)),o}function nD(e,t,n){const i=cl(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&i.boolean)return;Array.isArray(n)&&(n=i.commaSeparated?wT(n):CT(n));const r={name:i.attribute,value:n===!0?"":String(n)};if(i.space&&i.space!=="html"&&i.space!=="svg"){const s=r.name.indexOf(":");s<0?r.prefix="":(r.name=r.name.slice(s+1),r.prefix=i.attribute.slice(0,s)),r.namespace=Gr[i.space]}return r}function Gh(e,t,n){let i=-1;const r=[];if(e)for(;++i<e.length;){const s=LT(e[i],n);s.parentNode=t,r.push(s)}return r}function Xs(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const iD=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],rD=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),dt="";var w;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(w||(w={}));const un={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function $T(e){return e>=55296&&e<=57343}function sD(e){return e>=56320&&e<=57343}function aD(e,t){return(e-55296)*1024+9216+t}function UT(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function qT(e){return e>=64976&&e<=65007||rD.has(e)}var q;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(q||(q={}));const oD=65536;class cD{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=oD,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:i,col:r,offset:s}=this,a=r+n,o=s+n;return{code:t,startLine:i,endLine:i,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(sD(n))return this.pos++,this._addGap(),aD(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,w.EOF;return this._err(q.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let i=0;i<t.length;i++)if((this.html.charCodeAt(this.pos+i)|32)!==t.charCodeAt(i))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,w.EOF;const i=this.html.charCodeAt(n);return i===w.CARRIAGE_RETURN?w.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,w.EOF;let t=this.html.charCodeAt(this.pos);return t===w.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,w.LINE_FEED):t===w.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,$T(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===w.LINE_FEED||t===w.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){UT(t)?this._err(q.controlCharacterInInputStream):qT(t)&&this._err(q.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var xe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(xe||(xe={}));function XT(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const lD=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),uD=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function dD(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=uD.get(e))!==null&&t!==void 0?t:e}var Mt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Mt||(Mt={}));const hD=32;var Or;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Or||(Or={}));function Yh(e){return e>=Mt.ZERO&&e<=Mt.NINE}function pD(e){return e>=Mt.UPPER_A&&e<=Mt.UPPER_F||e>=Mt.LOWER_A&&e<=Mt.LOWER_F}function fD(e){return e>=Mt.UPPER_A&&e<=Mt.UPPER_Z||e>=Mt.LOWER_A&&e<=Mt.LOWER_Z||Yh(e)}function mD(e){return e===Mt.EQUALS||fD(e)}var Lt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Lt||(Lt={}));var Di;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Di||(Di={}));class OD{constructor(t,n,i){this.decodeTree=t,this.emitCodePoint=n,this.errors=i,this.state=Lt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Di.Strict}startEntity(t){this.decodeMode=t,this.state=Lt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Lt.EntityStart:return t.charCodeAt(n)===Mt.NUM?(this.state=Lt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Lt.NamedEntity,this.stateNamedEntity(t,n));case Lt.NumericStart:return this.stateNumericStart(t,n);case Lt.NumericDecimal:return this.stateNumericDecimal(t,n);case Lt.NumericHex:return this.stateNumericHex(t,n);case Lt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|hD)===Mt.LOWER_X?(this.state=Lt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Lt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,i,r){if(n!==i){const s=i-n;this.result=this.result*Math.pow(r,s)+Number.parseInt(t.substr(n,s),r),this.consumed+=s}}stateNumericHex(t,n){const i=n;for(;n<t.length;){const r=t.charCodeAt(n);if(Yh(r)||pD(r))n+=1;else return this.addToNumericResult(t,i,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(t,i,n,16),-1}stateNumericDecimal(t,n){const i=n;for(;n<t.length;){const r=t.charCodeAt(n);if(Yh(r))n+=1;else return this.addToNumericResult(t,i,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(t,i,n,10),-1}emitNumericEntity(t,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Mt.SEMI)this.consumed+=1;else if(this.decodeMode===Di.Strict)return 0;return this.emitCodePoint(dD(this.result),this.consumed),this.errors&&(t!==Mt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:i}=this;let r=i[this.treeIndex],s=(r&Or.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=gD(i,r,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===Di.Attribute&&(s===0||mD(a))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],s=(r&Or.VALUE_LENGTH)>>14,s!==0){if(a===Mt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Di.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:i}=this,r=(i[n]&Or.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,i){const{decodeTree:r}=this;return this.emitCodePoint(n===1?r[t]&~Or.VALUE_LENGTH:r[t+1],i),n===3&&this.emitCodePoint(r[t+2],i),i}end(){var t;switch(this.state){case Lt.NamedEntity:return this.result!==0&&(this.decodeMode!==Di.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Lt.NumericDecimal:return this.emitNumericEntity(0,2);case Lt.NumericHex:return this.emitNumericEntity(0,3);case Lt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Lt.EntityStart:return 0}}}function gD(e,t,n,i){const r=(t&Or.BRANCH_LENGTH)>>7,s=t&Or.JUMP_TABLE;if(r===0)return s!==0&&i===s?n:-1;if(s){const c=i-s;return c<0||c>=r?-1:e[n+c]-1}let a=n,o=a+r-1;for(;a<=o;){const c=a+o>>>1,l=e[c];if(l<i)a=c+1;else if(l>i)o=c-1;else return e[c+r]}return-1}var W;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(W||(W={}));var Yr;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Yr||(Yr={}));var Mn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Mn||(Mn={}));var $;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})($||($={}));var f;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(f||(f={}));const vD=new Map([[$.A,f.A],[$.ADDRESS,f.ADDRESS],[$.ANNOTATION_XML,f.ANNOTATION_XML],[$.APPLET,f.APPLET],[$.AREA,f.AREA],[$.ARTICLE,f.ARTICLE],[$.ASIDE,f.ASIDE],[$.B,f.B],[$.BASE,f.BASE],[$.BASEFONT,f.BASEFONT],[$.BGSOUND,f.BGSOUND],[$.BIG,f.BIG],[$.BLOCKQUOTE,f.BLOCKQUOTE],[$.BODY,f.BODY],[$.BR,f.BR],[$.BUTTON,f.BUTTON],[$.CAPTION,f.CAPTION],[$.CENTER,f.CENTER],[$.CODE,f.CODE],[$.COL,f.COL],[$.COLGROUP,f.COLGROUP],[$.DD,f.DD],[$.DESC,f.DESC],[$.DETAILS,f.DETAILS],[$.DIALOG,f.DIALOG],[$.DIR,f.DIR],[$.DIV,f.DIV],[$.DL,f.DL],[$.DT,f.DT],[$.EM,f.EM],[$.EMBED,f.EMBED],[$.FIELDSET,f.FIELDSET],[$.FIGCAPTION,f.FIGCAPTION],[$.FIGURE,f.FIGURE],[$.FONT,f.FONT],[$.FOOTER,f.FOOTER],[$.FOREIGN_OBJECT,f.FOREIGN_OBJECT],[$.FORM,f.FORM],[$.FRAME,f.FRAME],[$.FRAMESET,f.FRAMESET],[$.H1,f.H1],[$.H2,f.H2],[$.H3,f.H3],[$.H4,f.H4],[$.H5,f.H5],[$.H6,f.H6],[$.HEAD,f.HEAD],[$.HEADER,f.HEADER],[$.HGROUP,f.HGROUP],[$.HR,f.HR],[$.HTML,f.HTML],[$.I,f.I],[$.IMG,f.IMG],[$.IMAGE,f.IMAGE],[$.INPUT,f.INPUT],[$.IFRAME,f.IFRAME],[$.KEYGEN,f.KEYGEN],[$.LABEL,f.LABEL],[$.LI,f.LI],[$.LINK,f.LINK],[$.LISTING,f.LISTING],[$.MAIN,f.MAIN],[$.MALIGNMARK,f.MALIGNMARK],[$.MARQUEE,f.MARQUEE],[$.MATH,f.MATH],[$.MENU,f.MENU],[$.META,f.META],[$.MGLYPH,f.MGLYPH],[$.MI,f.MI],[$.MO,f.MO],[$.MN,f.MN],[$.MS,f.MS],[$.MTEXT,f.MTEXT],[$.NAV,f.NAV],[$.NOBR,f.NOBR],[$.NOFRAMES,f.NOFRAMES],[$.NOEMBED,f.NOEMBED],[$.NOSCRIPT,f.NOSCRIPT],[$.OBJECT,f.OBJECT],[$.OL,f.OL],[$.OPTGROUP,f.OPTGROUP],[$.OPTION,f.OPTION],[$.P,f.P],[$.PARAM,f.PARAM],[$.PLAINTEXT,f.PLAINTEXT],[$.PRE,f.PRE],[$.RB,f.RB],[$.RP,f.RP],[$.RT,f.RT],[$.RTC,f.RTC],[$.RUBY,f.RUBY],[$.S,f.S],[$.SCRIPT,f.SCRIPT],[$.SEARCH,f.SEARCH],[$.SECTION,f.SECTION],[$.SELECT,f.SELECT],[$.SOURCE,f.SOURCE],[$.SMALL,f.SMALL],[$.SPAN,f.SPAN],[$.STRIKE,f.STRIKE],[$.STRONG,f.STRONG],[$.STYLE,f.STYLE],[$.SUB,f.SUB],[$.SUMMARY,f.SUMMARY],[$.SUP,f.SUP],[$.TABLE,f.TABLE],[$.TBODY,f.TBODY],[$.TEMPLATE,f.TEMPLATE],[$.TEXTAREA,f.TEXTAREA],[$.TFOOT,f.TFOOT],[$.TD,f.TD],[$.TH,f.TH],[$.THEAD,f.THEAD],[$.TITLE,f.TITLE],[$.TR,f.TR],[$.TRACK,f.TRACK],[$.TT,f.TT],[$.U,f.U],[$.UL,f.UL],[$.SVG,f.SVG],[$.VAR,f.VAR],[$.WBR,f.WBR],[$.XMP,f.XMP]]);function Fs(e){var t;return(t=vD.get(e))!==null&&t!==void 0?t:f.UNKNOWN}const Y=f,bD={[W.HTML]:new Set([Y.ADDRESS,Y.APPLET,Y.AREA,Y.ARTICLE,Y.ASIDE,Y.BASE,Y.BASEFONT,Y.BGSOUND,Y.BLOCKQUOTE,Y.BODY,Y.BR,Y.BUTTON,Y.CAPTION,Y.CENTER,Y.COL,Y.COLGROUP,Y.DD,Y.DETAILS,Y.DIR,Y.DIV,Y.DL,Y.DT,Y.EMBED,Y.FIELDSET,Y.FIGCAPTION,Y.FIGURE,Y.FOOTER,Y.FORM,Y.FRAME,Y.FRAMESET,Y.H1,Y.H2,Y.H3,Y.H4,Y.H5,Y.H6,Y.HEAD,Y.HEADER,Y.HGROUP,Y.HR,Y.HTML,Y.IFRAME,Y.IMG,Y.INPUT,Y.LI,Y.LINK,Y.LISTING,Y.MAIN,Y.MARQUEE,Y.MENU,Y.META,Y.NAV,Y.NOEMBED,Y.NOFRAMES,Y.NOSCRIPT,Y.OBJECT,Y.OL,Y.P,Y.PARAM,Y.PLAINTEXT,Y.PRE,Y.SCRIPT,Y.SECTION,Y.SELECT,Y.SOURCE,Y.STYLE,Y.SUMMARY,Y.TABLE,Y.TBODY,Y.TD,Y.TEMPLATE,Y.TEXTAREA,Y.TFOOT,Y.TH,Y.THEAD,Y.TITLE,Y.TR,Y.TRACK,Y.UL,Y.WBR,Y.XMP]),[W.MATHML]:new Set([Y.MI,Y.MO,Y.MN,Y.MS,Y.MTEXT,Y.ANNOTATION_XML]),[W.SVG]:new Set([Y.TITLE,Y.FOREIGN_OBJECT,Y.DESC]),[W.XLINK]:new Set,[W.XML]:new Set,[W.XMLNS]:new Set},Hh=new Set([Y.H1,Y.H2,Y.H3,Y.H4,Y.H5,Y.H6]);$.STYLE,$.SCRIPT,$.XMP,$.IFRAME,$.NOEMBED,$.NOFRAMES,$.PLAINTEXT;var C;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(C||(C={}));const Tt={DATA:C.DATA,RCDATA:C.RCDATA,RAWTEXT:C.RAWTEXT,SCRIPT_DATA:C.SCRIPT_DATA,PLAINTEXT:C.PLAINTEXT,CDATA_SECTION:C.CDATA_SECTION};function TD(e){return e>=w.DIGIT_0&&e<=w.DIGIT_9}function to(e){return e>=w.LATIN_CAPITAL_A&&e<=w.LATIN_CAPITAL_Z}function kD(e){return e>=w.LATIN_SMALL_A&&e<=w.LATIN_SMALL_Z}function gr(e){return kD(e)||to(e)}function FT(e){return gr(e)||TD(e)}function ul(e){return e+32}function BT(e){return e===w.SPACE||e===w.LINE_FEED||e===w.TABULATION||e===w.FORM_FEED}function zT(e){return BT(e)||e===w.SOLIDUS||e===w.GREATER_THAN_SIGN}function yD(e){return e===w.NULL?q.nullCharacterReference:e>1114111?q.characterReferenceOutsideUnicodeRange:$T(e)?q.surrogateCharacterReference:qT(e)?q.noncharacterCharacterReference:UT(e)||e===w.CARRIAGE_RETURN?q.controlCharacterReference:null}class SD{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=C.DATA,this.returnState=C.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new cD(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new OD(lD,(i,r)=>{this.preprocessor.pos=this.entityStartPos+r-1,this._flushCodePointConsumedAsCharacterReference(i)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(q.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:i=>{this._err(q.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+i)},validateNumericCharacterReference:i=>{const r=yD(i);r&&this._err(r,1)}}:void 0)}_err(t,n=0){var i,r;(r=(i=this.handler).onParseError)===null||r===void 0||r.call(i,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,i){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||i?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:xe.START_TAG,tagName:"",tagID:f.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:xe.END_TAG,tagName:"",tagID:f.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:xe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:xe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const i=this.currentToken;if(XT(i,this.currentAttr.name)===null){if(i.attrs.push(this.currentAttr),i.location&&this.currentLocation){const r=(t=(n=i.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);r[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(q.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Fs(t.tagName),t.type===xe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(q.endTagWithAttributes),t.selfClosing&&this._err(q.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case xe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case xe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case xe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:xe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=BT(t)?xe.WHITESPACE_CHARACTER:t===w.NULL?xe.NULL_CHARACTER:xe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(xe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=C.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Di.Attribute:Di.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===C.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case C.DATA:{this._stateData(t);break}case C.RCDATA:{this._stateRcdata(t);break}case C.RAWTEXT:{this._stateRawtext(t);break}case C.SCRIPT_DATA:{this._stateScriptData(t);break}case C.PLAINTEXT:{this._statePlaintext(t);break}case C.TAG_OPEN:{this._stateTagOpen(t);break}case C.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case C.TAG_NAME:{this._stateTagName(t);break}case C.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case C.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case C.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case C.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case C.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case C.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case C.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case C.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case C.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case C.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case C.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case C.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case C.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case C.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case C.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case C.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case C.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case C.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case C.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case C.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case C.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case C.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case C.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case C.BOGUS_COMMENT:{this._stateBogusComment(t);break}case C.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case C.COMMENT_START:{this._stateCommentStart(t);break}case C.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case C.COMMENT:{this._stateComment(t);break}case C.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case C.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case C.COMMENT_END:{this._stateCommentEnd(t);break}case C.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case C.DOCTYPE:{this._stateDoctype(t);break}case C.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case C.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case C.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case C.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case C.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case C.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case C.CDATA_SECTION:{this._stateCdataSection(t);break}case C.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case C.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case C.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case C.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case w.LESS_THAN_SIGN:{this.state=C.TAG_OPEN;break}case w.AMPERSAND:{this._startCharacterReference();break}case w.NULL:{this._err(q.unexpectedNullCharacter),this._emitCodePoint(t);break}case w.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case w.AMPERSAND:{this._startCharacterReference();break}case w.LESS_THAN_SIGN:{this.state=C.RCDATA_LESS_THAN_SIGN;break}case w.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(dt);break}case w.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case w.LESS_THAN_SIGN:{this.state=C.RAWTEXT_LESS_THAN_SIGN;break}case w.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(dt);break}case w.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case w.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_LESS_THAN_SIGN;break}case w.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(dt);break}case w.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case w.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(dt);break}case w.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(gr(t))this._createStartTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case w.EXCLAMATION_MARK:{this.state=C.MARKUP_DECLARATION_OPEN;break}case w.SOLIDUS:{this.state=C.END_TAG_OPEN;break}case w.QUESTION_MARK:{this._err(q.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t);break}case w.EOF:{this._err(q.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=C.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(gr(t))this._createEndTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case w.GREATER_THAN_SIGN:{this._err(q.missingEndTagName),this.state=C.DATA;break}case w.EOF:{this._err(q.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:{this.state=C.BEFORE_ATTRIBUTE_NAME;break}case w.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case w.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case w.NULL:{this._err(q.unexpectedNullCharacter),n.tagName+=dt;break}case w.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(to(t)?ul(t):t)}}_stateRcdataLessThanSign(t){t===w.SOLIDUS?this.state=C.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){gr(t)?(this.state=C.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=C.BEFORE_ATTRIBUTE_NAME,!1;case w.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=C.SELF_CLOSING_START_TAG,!1;case w.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=C.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===w.SOLIDUS?this.state=C.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){gr(t)?(this.state=C.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case w.SOLIDUS:{this.state=C.SCRIPT_DATA_END_TAG_OPEN;break}case w.EXCLAMATION_MARK:{this.state=C.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=C.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){gr(t)?(this.state=C.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===w.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===w.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case w.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case w.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case w.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(dt);break}case w.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case w.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case w.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case w.NULL:{this._err(q.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(dt);break}case w.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case w.HYPHEN_MINUS:{this._emitChars("-");break}case w.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case w.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case w.NULL:{this._err(q.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(dt);break}case w.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===w.SOLIDUS?this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:gr(t)?(this._emitChars("<"),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){gr(t)?(this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(un.SCRIPT,!1)&&zT(this.preprocessor.peek(un.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<un.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case w.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case w.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case w.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(dt);break}case w.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case w.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case w.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case w.NULL:{this._err(q.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(dt);break}case w.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case w.HYPHEN_MINUS:{this._emitChars("-");break}case w.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case w.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case w.NULL:{this._err(q.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(dt);break}case w.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===w.SOLIDUS?(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(un.SCRIPT,!1)&&zT(this.preprocessor.peek(un.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<un.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.SOLIDUS:case w.GREATER_THAN_SIGN:case w.EOF:{this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case w.EQUALS_SIGN:{this._err(q.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=C.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:case w.SOLIDUS:case w.GREATER_THAN_SIGN:case w.EOF:{this._leaveAttrName(),this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case w.EQUALS_SIGN:{this._leaveAttrName(),this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case w.QUOTATION_MARK:case w.APOSTROPHE:case w.LESS_THAN_SIGN:{this._err(q.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case w.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.name+=dt;break}default:this.currentAttr.name+=String.fromCodePoint(to(t)?ul(t):t)}}_stateAfterAttributeName(t){switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case w.EQUALS_SIGN:{this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case w.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case w.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.QUOTATION_MARK:{this.state=C.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case w.APOSTROPHE:{this.state=C.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case w.GREATER_THAN_SIGN:{this._err(q.missingAttributeValue),this.state=C.DATA,this.emitCurrentTagToken();break}default:this.state=C.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case w.QUOTATION_MARK:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case w.AMPERSAND:{this._startCharacterReference();break}case w.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=dt;break}case w.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case w.APOSTROPHE:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case w.AMPERSAND:{this._startCharacterReference();break}case w.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=dt;break}case w.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case w.AMPERSAND:{this._startCharacterReference();break}case w.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case w.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=dt;break}case w.QUOTATION_MARK:case w.APOSTROPHE:case w.LESS_THAN_SIGN:case w.EQUALS_SIGN:case w.GRAVE_ACCENT:{this._err(q.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case w.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case w.SOLIDUS:{this._leaveAttrValue(),this.state=C.SELF_CLOSING_START_TAG;break}case w.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case w.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBetweenAttributes),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case w.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=C.DATA,this.emitCurrentTagToken();break}case w.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.unexpectedSolidusInTag),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case w.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case w.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case w.NULL:{this._err(q.unexpectedNullCharacter),n.data+=dt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(un.DASH_DASH,!0)?(this._createCommentToken(un.DASH_DASH.length+1),this.state=C.COMMENT_START):this._consumeSequenceIfMatch(un.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(un.DOCTYPE.length+1),this.state=C.DOCTYPE):this._consumeSequenceIfMatch(un.CDATA_START,!0)?this.inForeignNode?this.state=C.CDATA_SECTION:(this._err(q.cdataInHtmlContent),this._createCommentToken(un.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=C.BOGUS_COMMENT):this._ensureHibernation()||(this._err(q.incorrectlyOpenedComment),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case w.HYPHEN_MINUS:{this.state=C.COMMENT_START_DASH;break}case w.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=C.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case w.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case w.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=C.DATA,this.emitCurrentComment(n);break}case w.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case w.HYPHEN_MINUS:{this.state=C.COMMENT_END_DASH;break}case w.LESS_THAN_SIGN:{n.data+="<",this.state=C.COMMENT_LESS_THAN_SIGN;break}case w.NULL:{this._err(q.unexpectedNullCharacter),n.data+=dt;break}case w.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case w.EXCLAMATION_MARK:{n.data+="!",this.state=C.COMMENT_LESS_THAN_SIGN_BANG;break}case w.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===w.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=C.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===w.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=C.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==w.GREATER_THAN_SIGN&&t!==w.EOF&&this._err(q.nestedComment),this.state=C.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case w.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case w.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case w.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case w.EXCLAMATION_MARK:{this.state=C.COMMENT_END_BANG;break}case w.HYPHEN_MINUS:{n.data+="-";break}case w.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case w.HYPHEN_MINUS:{n.data+="--!",this.state=C.COMMENT_END_DASH;break}case w.GREATER_THAN_SIGN:{this._err(q.incorrectlyClosedComment),this.state=C.DATA,this.emitCurrentComment(n);break}case w.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=C.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_NAME;break}case w.GREATER_THAN_SIGN:{this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case w.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBeforeDoctypeName),this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(to(t))this._createDoctypeToken(String.fromCharCode(ul(t))),this.state=C.DOCTYPE_NAME;else switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.NULL:{this._err(q.unexpectedNullCharacter),this._createDoctypeToken(dt),this.state=C.DOCTYPE_NAME;break}case w.GREATER_THAN_SIGN:{this._err(q.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case w.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=C.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:{this.state=C.AFTER_DOCTYPE_NAME;break}case w.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case w.NULL:{this._err(q.unexpectedNullCharacter),n.name+=dt;break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(to(t)?ul(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(un.PUBLIC,!1)?this.state=C.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(un.SYSTEM,!1)?this.state=C.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(q.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case w.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case w.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case w.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.QUOTATION_MARK:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case w.APOSTROPHE:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case w.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case w.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case w.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=dt;break}case w.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case w.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case w.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=dt;break}case w.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:{this.state=C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case w.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case w.QUOTATION_MARK:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case w.APOSTROPHE:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case w.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case w.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case w.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case w.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case w.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case w.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case w.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case w.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case w.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=dt;break}case w.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case w.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case w.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=dt;break}case w.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case w.SPACE:case w.LINE_FEED:case w.TABULATION:case w.FORM_FEED:break;case w.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case w.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case w.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case w.NULL:{this._err(q.unexpectedNullCharacter);break}case w.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case w.RIGHT_SQUARE_BRACKET:{this.state=C.CDATA_SECTION_BRACKET;break}case w.EOF:{this._err(q.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===w.RIGHT_SQUARE_BRACKET?this.state=C.CDATA_SECTION_END:(this._emitChars("]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case w.GREATER_THAN_SIGN:{this.state=C.DATA;break}case w.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(w.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&FT(this.preprocessor.peek(1))?C.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){FT(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===w.SEMICOLON&&this._err(q.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const ZT=new Set([f.DD,f.DT,f.LI,f.OPTGROUP,f.OPTION,f.P,f.RB,f.RP,f.RT,f.RTC]),jT=new Set([...ZT,f.CAPTION,f.COLGROUP,f.TBODY,f.TD,f.TFOOT,f.TH,f.THEAD,f.TR]),dl=new Set([f.APPLET,f.CAPTION,f.HTML,f.MARQUEE,f.OBJECT,f.TABLE,f.TD,f.TEMPLATE,f.TH]),_D=new Set([...dl,f.OL,f.UL]),wD=new Set([...dl,f.BUTTON]),VT=new Set([f.ANNOTATION_XML,f.MI,f.MN,f.MO,f.MS,f.MTEXT]),WT=new Set([f.DESC,f.FOREIGN_OBJECT,f.TITLE]),ED=new Set([f.TR,f.TEMPLATE,f.HTML]),xD=new Set([f.TBODY,f.TFOOT,f.THEAD,f.TEMPLATE,f.HTML]),CD=new Set([f.TABLE,f.TEMPLATE,f.HTML]),PD=new Set([f.TD,f.TH]);class AD{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,i){this.treeAdapter=n,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=f.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===f.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===W.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const i=this._indexOf(t);this.items[i]=n,i===this.stackTop&&(this.current=n)}insertAfter(t,n,i){const r=this._indexOf(t)+1;this.items.splice(r,0,n),this.tagIDs.splice(r,0,i),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==W.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const i=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(i,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Hh,W.HTML)}popUntilTableCellPopped(){this.popUntilPopped(PD,W.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let i=this.stackTop;i>=0;i--)if(t.has(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===n)return i;return-1}clearBackTo(t,n){const i=this._indexOfTagNames(t,n);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo(CD,W.HTML)}clearBackToTableBodyContext(){this.clearBackTo(xD,W.HTML)}clearBackToTableRowContext(){this.clearBackTo(ED,W.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===f.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===f.HTML}hasInDynamicScope(t,n){for(let i=this.stackTop;i>=0;i--){const r=this.tagIDs[i];switch(this.treeAdapter.getNamespaceURI(this.items[i])){case W.HTML:{if(r===t)return!0;if(n.has(r))return!1;break}case W.SVG:{if(WT.has(r))return!1;break}case W.MATHML:{if(VT.has(r))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,dl)}hasInListItemScope(t){return this.hasInDynamicScope(t,_D)}hasInButtonScope(t){return this.hasInDynamicScope(t,wD)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case W.HTML:{if(Hh.has(n))return!0;if(dl.has(n))return!1;break}case W.SVG:{if(WT.has(n))return!1;break}case W.MATHML:{if(VT.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===W.HTML)switch(this.tagIDs[n]){case t:return!0;case f.TABLE:case f.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===W.HTML)switch(this.tagIDs[t]){case f.TBODY:case f.THEAD:case f.TFOOT:return!0;case f.TABLE:case f.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===W.HTML)switch(this.tagIDs[n]){case t:return!0;case f.OPTION:case f.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&ZT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&jT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&jT.has(this.currentTagId);)this.pop()}}const Kh=3;var ci;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(ci||(ci={}));const GT={type:ci.Marker};class RD{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const i=[],r=n.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const c=this.entries[o];if(c.type===ci.Marker)break;const{element:l}=c;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===a){const u=this.treeAdapter.getAttrList(l);u.length===r&&i.push({idx:o,attrs:u})}}return i}_ensureNoahArkCondition(t){if(this.entries.length<Kh)return;const n=this.treeAdapter.getAttrList(t),i=this._getNoahArkConditionCandidates(t,n);if(i.length<Kh)return;const r=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<i.length;a++){const o=i[a];o.attrs.every(c=>r.get(c.name)===c.value)&&(s+=1,s>=Kh&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(GT)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:ci.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:ci.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(GT);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(i=>i.type===ci.Marker||this.treeAdapter.getTagName(i.element)===t);return n&&n.type===ci.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===ci.Element&&n.element===t)}}const vr={createDocument(){return{nodeName:"#document",mode:Mn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const i=e.childNodes.indexOf(n);e.childNodes.splice(i,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,i){const r=e.childNodes.find(s=>s.nodeName==="#documentType");if(r)r.name=t,r.publicId=n,r.systemId=i;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:i,parentNode:null};vr.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(vr.isTextNode(n)){n.value+=t;return}}vr.appendChild(e,vr.createTextNode(t))},insertTextBefore(e,t,n){const i=e.childNodes[e.childNodes.indexOf(n)-1];i&&vr.isTextNode(i)?i.value+=t:vr.insertBefore(e,vr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(i=>i.name));for(let i=0;i<t.length;i++)n.has(t[i].name)||e.attrs.push(t[i])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},YT="html",ID="about:legacy-compat",QD="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",HT=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ND=[...HT,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],DD=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),KT=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],MD=[...KT,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function JT(e,t){return t.some(n=>e.startsWith(n))}function LD(e){return e.name===YT&&e.publicId===null&&(e.systemId===null||e.systemId===ID)}function $D(e){if(e.name!==YT)return Mn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===QD)return Mn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),DD.has(n))return Mn.QUIRKS;let i=t===null?ND:HT;if(JT(n,i))return Mn.QUIRKS;if(i=t===null?KT:MD,JT(n,i))return Mn.LIMITED_QUIRKS}return Mn.NO_QUIRKS}const ek={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},UD="definitionurl",qD="definitionURL",XD=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),FD=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:W.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:W.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:W.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:W.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:W.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:W.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:W.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:W.XML}],["xml:space",{prefix:"xml",name:"space",namespace:W.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:W.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:W.XMLNS}]]),BD=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),zD=new Set([f.B,f.BIG,f.BLOCKQUOTE,f.BODY,f.BR,f.CENTER,f.CODE,f.DD,f.DIV,f.DL,f.DT,f.EM,f.EMBED,f.H1,f.H2,f.H3,f.H4,f.H5,f.H6,f.HEAD,f.HR,f.I,f.IMG,f.LI,f.LISTING,f.MENU,f.META,f.NOBR,f.OL,f.P,f.PRE,f.RUBY,f.S,f.SMALL,f.SPAN,f.STRONG,f.STRIKE,f.SUB,f.SUP,f.TABLE,f.TT,f.U,f.UL,f.VAR]);function ZD(e){const t=e.tagID;return t===f.FONT&&e.attrs.some(({name:n})=>n===Yr.COLOR||n===Yr.SIZE||n===Yr.FACE)||zD.has(t)}function tk(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===UD){e.attrs[t].name=qD;break}}function nk(e){for(let t=0;t<e.attrs.length;t++){const n=XD.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Jh(e){for(let t=0;t<e.attrs.length;t++){const n=FD.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function jD(e){const t=BD.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Fs(e.tagName))}function VD(e,t){return t===W.MATHML&&(e===f.MI||e===f.MO||e===f.MN||e===f.MS||e===f.MTEXT)}function WD(e,t,n){if(t===W.MATHML&&e===f.ANNOTATION_XML){for(let i=0;i<n.length;i++)if(n[i].name===Yr.ENCODING){const r=n[i].value.toLowerCase();return r===ek.TEXT_HTML||r===ek.APPLICATION_XML}}return t===W.SVG&&(e===f.FOREIGN_OBJECT||e===f.DESC||e===f.TITLE)}function GD(e,t,n,i){return(!i||i===W.HTML)&&WD(e,t,n)||(!i||i===W.MATHML)&&VD(e,t)}const YD="hidden",HD=8,KD=3;var R;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(R||(R={}));const JD={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ik=new Set([f.TABLE,f.TBODY,f.TFOOT,f.THEAD,f.TR]),rk={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:vr,onParseError:null};let sk=class{constructor(e,t,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=R.INITIAL,this.originalInsertionMode=R.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...rk,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=t??this.treeAdapter.createDocument(),this.tokenizer=new SD(this.options,this),this.activeFormattingElements=new RD(this.treeAdapter),this.fragmentContextID=n?Fs(this.treeAdapter.getTagName(n)):f.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new AD(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n={...rk,...t};e??(e=n.treeAdapter.createElement($.TEMPLATE,W.HTML,[]));const i=n.treeAdapter.createElement("documentmock",W.HTML,[]),r=new this(n,i,e);return r.fragmentContextID===f.TEMPLATE&&r.tmplInsertionModeStack.unshift(R.IN_TEMPLATE),r._initTokenizerForFragmentParsing(),r._insertFakeRootElement(),r._resetInsertionMode(),r._findFormInFragmentContext(),r}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var i;if(!this.onParseError)return;const r=(i=e.location)!==null&&i!==void 0?i:JD,s={code:t,startLine:r.startLine,startCol:r.startCol,startOffset:r.startOffset,endLine:n?r.startLine:r.endLine,endCol:n?r.startCol:r.endCol,endOffset:n?r.startOffset:r.endOffset};this.onParseError(s)}onItemPush(e,t,n){var i,r;(r=(i=this.treeAdapter).onItemPush)===null||r===void 0||r.call(i,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,e,this.openElements.current),t){let r,s;this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,s=this.fragmentContextID):{current:r,currentTagId:s}=this.openElements,this._setContextModes(r,s)}}_setContextModes(e,t){const n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===W.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&e!==void 0&&t!==void 0&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,W.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=R.TEXT}switchToPlaintextParsing(){this.insertionMode=R.TEXT,this.originalInsertionMode=R.IN_BODY,this.tokenizer.state=Tt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===$.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==W.HTML))switch(this.fragmentContextID){case f.TITLE:case f.TEXTAREA:{this.tokenizer.state=Tt.RCDATA;break}case f.STYLE:case f.XMP:case f.IFRAME:case f.NOEMBED:case f.NOFRAMES:case f.NOSCRIPT:{this.tokenizer.state=Tt.RAWTEXT;break}case f.SCRIPT:{this.tokenizer.state=Tt.SCRIPT_DATA;break}case f.PLAINTEXT:{this.tokenizer.state=Tt.PLAINTEXT;break}}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,i),e.location){const r=this.treeAdapter.getChildNodes(this.document).find(s=>this.treeAdapter.isDocumentTypeNode(s));r&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,W.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,W.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement($.HTML,W.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,f.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(t),r=n?i.lastIndexOf(n):i.length,s=i[r-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:a,endCol:o,endOffset:c}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:a,endCol:o,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,i=this.treeAdapter.getTagName(e),r=t.type===xe.END_TAG&&i===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,r)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return this.openElements.stackTop===0&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):{current:t,currentTagId:n}=this.openElements,e.tagID===f.SVG&&this.treeAdapter.getTagName(t)===$.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(t)===W.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===f.MGLYPH||e.tagID===f.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,t,W.HTML)}_processToken(e){switch(e.type){case xe.CHARACTER:{this.onCharacter(e);break}case xe.NULL_CHARACTER:{this.onNullCharacter(e);break}case xe.COMMENT:{this.onComment(e);break}case xe.DOCTYPE:{this.onDoctype(e);break}case xe.START_TAG:{this._processStartTag(e);break}case xe.END_TAG:{this.onEndTag(e);break}case xe.EOF:{this.onEof(e);break}case xe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,t,n){const i=this.treeAdapter.getNamespaceURI(t),r=this.treeAdapter.getAttrList(t);return GD(e,i,r,n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(i=>i.type===ci.Marker||this.openElements.contains(i.element)),n=t===-1?e-1:t-1;for(let i=n;i>=0;i--){const r=this.activeFormattingElements.entries[i];this._insertElement(r.token,this.treeAdapter.getNamespaceURI(r.element)),r.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=R.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(f.P),this.openElements.popUntilTagNamePopped(f.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case f.TR:{this.insertionMode=R.IN_ROW;return}case f.TBODY:case f.THEAD:case f.TFOOT:{this.insertionMode=R.IN_TABLE_BODY;return}case f.CAPTION:{this.insertionMode=R.IN_CAPTION;return}case f.COLGROUP:{this.insertionMode=R.IN_COLUMN_GROUP;return}case f.TABLE:{this.insertionMode=R.IN_TABLE;return}case f.BODY:{this.insertionMode=R.IN_BODY;return}case f.FRAMESET:{this.insertionMode=R.IN_FRAMESET;return}case f.SELECT:{this._resetInsertionModeForSelect(e);return}case f.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case f.HTML:{this.insertionMode=this.headElement?R.AFTER_HEAD:R.BEFORE_HEAD;return}case f.TD:case f.TH:{if(e>0){this.insertionMode=R.IN_CELL;return}break}case f.HEAD:{if(e>0){this.insertionMode=R.IN_HEAD;return}break}}this.insertionMode=R.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const n=this.openElements.tagIDs[t];if(n===f.TEMPLATE)break;if(n===f.TABLE){this.insertionMode=R.IN_SELECT_IN_TABLE;return}}this.insertionMode=R.IN_SELECT}_isElementCausesFosterParenting(e){return ik.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case f.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(t)===W.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break}case f.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return bD[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){PM(this,e);return}switch(this.insertionMode){case R.INITIAL:{no(this,e);break}case R.BEFORE_HTML:{io(this,e);break}case R.BEFORE_HEAD:{ro(this,e);break}case R.IN_HEAD:{so(this,e);break}case R.IN_HEAD_NO_SCRIPT:{ao(this,e);break}case R.AFTER_HEAD:{oo(this,e);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:{ok(this,e);break}case R.TEXT:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{ip(this,e);break}case R.IN_TABLE_TEXT:{mk(this,e);break}case R.IN_COLUMN_GROUP:{fl(this,e);break}case R.AFTER_BODY:{gl(this,e);break}case R.AFTER_AFTER_BODY:{vl(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){CM(this,e);return}switch(this.insertionMode){case R.INITIAL:{no(this,e);break}case R.BEFORE_HTML:{io(this,e);break}case R.BEFORE_HEAD:{ro(this,e);break}case R.IN_HEAD:{so(this,e);break}case R.IN_HEAD_NO_SCRIPT:{ao(this,e);break}case R.AFTER_HEAD:{oo(this,e);break}case R.TEXT:{this._insertCharacters(e);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{ip(this,e);break}case R.IN_COLUMN_GROUP:{fl(this,e);break}case R.AFTER_BODY:{gl(this,e);break}case R.AFTER_AFTER_BODY:{vl(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){tp(this,e);return}switch(this.insertionMode){case R.INITIAL:case R.BEFORE_HTML:case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_TEMPLATE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{tp(this,e);break}case R.IN_TABLE_TEXT:{uo(this,e);break}case R.AFTER_BODY:{a2(this,e);break}case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{o2(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case R.INITIAL:{c2(this,e);break}case R.BEFORE_HEAD:case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:{this._err(e,q.misplacedDoctype);break}case R.IN_TABLE_TEXT:{uo(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,q.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?AM(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case R.INITIAL:{no(this,e);break}case R.BEFORE_HTML:{l2(this,e);break}case R.BEFORE_HEAD:{d2(this,e);break}case R.IN_HEAD:{Vn(this,e);break}case R.IN_HEAD_NO_SCRIPT:{f2(this,e);break}case R.AFTER_HEAD:{O2(this,e);break}case R.IN_BODY:{Wt(this,e);break}case R.IN_TABLE:{Bs(this,e);break}case R.IN_TABLE_TEXT:{uo(this,e);break}case R.IN_CAPTION:{hM(this,e);break}case R.IN_COLUMN_GROUP:{rp(this,e);break}case R.IN_TABLE_BODY:{ml(this,e);break}case R.IN_ROW:{Ol(this,e);break}case R.IN_CELL:{mM(this,e);break}case R.IN_SELECT:{vk(this,e);break}case R.IN_SELECT_IN_TABLE:{gM(this,e);break}case R.IN_TEMPLATE:{bM(this,e);break}case R.AFTER_BODY:{kM(this,e);break}case R.IN_FRAMESET:{yM(this,e);break}case R.AFTER_FRAMESET:{_M(this,e);break}case R.AFTER_AFTER_BODY:{EM(this,e);break}case R.AFTER_AFTER_FRAMESET:{xM(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?RM(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case R.INITIAL:{no(this,e);break}case R.BEFORE_HTML:{u2(this,e);break}case R.BEFORE_HEAD:{h2(this,e);break}case R.IN_HEAD:{p2(this,e);break}case R.IN_HEAD_NO_SCRIPT:{m2(this,e);break}case R.AFTER_HEAD:{g2(this,e);break}case R.IN_BODY:{pl(this,e);break}case R.TEXT:{nM(this,e);break}case R.IN_TABLE:{co(this,e);break}case R.IN_TABLE_TEXT:{uo(this,e);break}case R.IN_CAPTION:{pM(this,e);break}case R.IN_COLUMN_GROUP:{fM(this,e);break}case R.IN_TABLE_BODY:{sp(this,e);break}case R.IN_ROW:{gk(this,e);break}case R.IN_CELL:{OM(this,e);break}case R.IN_SELECT:{bk(this,e);break}case R.IN_SELECT_IN_TABLE:{vM(this,e);break}case R.IN_TEMPLATE:{TM(this,e);break}case R.AFTER_BODY:{kk(this,e);break}case R.IN_FRAMESET:{SM(this,e);break}case R.AFTER_FRAMESET:{wM(this,e);break}case R.AFTER_AFTER_BODY:{vl(this,e);break}}}onEof(e){switch(this.insertionMode){case R.INITIAL:{no(this,e);break}case R.BEFORE_HTML:{io(this,e);break}case R.BEFORE_HEAD:{ro(this,e);break}case R.IN_HEAD:{so(this,e);break}case R.IN_HEAD_NO_SCRIPT:{ao(this,e);break}case R.AFTER_HEAD:{oo(this,e);break}case R.IN_BODY:case R.IN_TABLE:case R.IN_CAPTION:case R.IN_COLUMN_GROUP:case R.IN_TABLE_BODY:case R.IN_ROW:case R.IN_CELL:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:{pk(this,e);break}case R.TEXT:{iM(this,e);break}case R.IN_TABLE_TEXT:{uo(this,e);break}case R.IN_TEMPLATE:{Tk(this,e);break}case R.AFTER_BODY:case R.IN_FRAMESET:case R.AFTER_FRAMESET:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{np(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===w.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case R.IN_HEAD:case R.IN_HEAD_NO_SCRIPT:case R.AFTER_HEAD:case R.TEXT:case R.IN_COLUMN_GROUP:case R.IN_SELECT:case R.IN_SELECT_IN_TABLE:case R.IN_FRAMESET:case R.AFTER_FRAMESET:{this._insertCharacters(e);break}case R.IN_BODY:case R.IN_CAPTION:case R.IN_CELL:case R.IN_TEMPLATE:case R.AFTER_BODY:case R.AFTER_AFTER_BODY:case R.AFTER_AFTER_FRAMESET:{ak(this,e);break}case R.IN_TABLE:case R.IN_TABLE_BODY:case R.IN_ROW:{ip(this,e);break}case R.IN_TABLE_TEXT:{fk(this,e);break}}}};function e2(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):hk(e,t),n}function t2(e,t){let n=null,i=e.openElements.stackTop;for(;i>=0;i--){const r=e.openElements.items[i];if(r===t.element)break;e._isSpecialElement(r,e.openElements.tagIDs[i])&&(n=r)}return n||(e.openElements.shortenToLength(Math.max(i,0)),e.activeFormattingElements.removeEntry(t)),n}function n2(e,t,n){let i=t,r=e.openElements.getCommonAncestor(t);for(let s=0,a=r;a!==n;s++,a=r){r=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),c=o&&s>=KD;!o||c?(c&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=i2(e,o),i===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(i),e.treeAdapter.appendChild(a,i),i=a)}return i}function i2(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),i=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,i),t.element=i,i}function r2(e,t,n){const i=e.treeAdapter.getTagName(t),r=Fs(i);if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);r===f.TEMPLATE&&s===W.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function s2(e,t,n){const i=e.treeAdapter.getNamespaceURI(n.element),{token:r}=n,s=e.treeAdapter.createElement(r.tagName,i,r.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,r),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,r.tagID)}function ep(e,t){for(let n=0;n<HD;n++){const i=e2(e,t);if(!i)break;const r=t2(e,i);if(!r)break;e.activeFormattingElements.bookmark=i;const s=n2(e,r,i.element),a=e.openElements.getCommonAncestor(i.element);e.treeAdapter.detachNode(s),a&&r2(e,a,s),s2(e,r,i)}}function tp(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function a2(e,t){e._appendCommentNode(t,e.openElements.items[0])}function o2(e,t){e._appendCommentNode(t,e.document)}function np(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let i=e.openElements.stackTop;i>=n;i--)e._setEndLocation(e.openElements.items[i],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const i=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(i);if(r&&!r.endTag&&(e._setEndLocation(i,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function c2(e,t){e._setDocumentType(t);const n=t.forceQuirks?Mn.QUIRKS:$D(t);LD(t)||e._err(t,q.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=R.BEFORE_HTML}function no(e,t){e._err(t,q.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Mn.QUIRKS),e.insertionMode=R.BEFORE_HTML,e._processToken(t)}function l2(e,t){t.tagID===f.HTML?(e._insertElement(t,W.HTML),e.insertionMode=R.BEFORE_HEAD):io(e,t)}function u2(e,t){const n=t.tagID;(n===f.HTML||n===f.HEAD||n===f.BODY||n===f.BR)&&io(e,t)}function io(e,t){e._insertFakeRootElement(),e.insertionMode=R.BEFORE_HEAD,e._processToken(t)}function d2(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.HEAD:{e._insertElement(t,W.HTML),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD;break}default:ro(e,t)}}function h2(e,t){const n=t.tagID;n===f.HEAD||n===f.BODY||n===f.HTML||n===f.BR?ro(e,t):e._err(t,q.endTagWithoutMatchingOpenElement)}function ro(e,t){e._insertFakeElement($.HEAD,f.HEAD),e.headElement=e.openElements.current,e.insertionMode=R.IN_HEAD,e._processToken(t)}function Vn(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:{e._appendElement(t,W.HTML),t.ackSelfClosing=!0;break}case f.TITLE:{e._switchToTextParsing(t,Tt.RCDATA);break}case f.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Tt.RAWTEXT):(e._insertElement(t,W.HTML),e.insertionMode=R.IN_HEAD_NO_SCRIPT);break}case f.NOFRAMES:case f.STYLE:{e._switchToTextParsing(t,Tt.RAWTEXT);break}case f.SCRIPT:{e._switchToTextParsing(t,Tt.SCRIPT_DATA);break}case f.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=R.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(R.IN_TEMPLATE);break}case f.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:so(e,t)}}function p2(e,t){switch(t.tagID){case f.HEAD:{e.openElements.pop(),e.insertionMode=R.AFTER_HEAD;break}case f.BODY:case f.BR:case f.HTML:{so(e,t);break}case f.TEMPLATE:{Hr(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function Hr(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==f.TEMPLATE&&e._err(t,q.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(f.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,q.endTagWithoutMatchingOpenElement)}function so(e,t){e.openElements.pop(),e.insertionMode=R.AFTER_HEAD,e._processToken(t)}function f2(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.BASEFONT:case f.BGSOUND:case f.HEAD:case f.LINK:case f.META:case f.NOFRAMES:case f.STYLE:{Vn(e,t);break}case f.NOSCRIPT:{e._err(t,q.nestedNoscriptInHead);break}default:ao(e,t)}}function m2(e,t){switch(t.tagID){case f.NOSCRIPT:{e.openElements.pop(),e.insertionMode=R.IN_HEAD;break}case f.BR:{ao(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function ao(e,t){const n=t.type===xe.EOF?q.openElementsLeftAfterEof:q.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=R.IN_HEAD,e._processToken(t)}function O2(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.BODY:{e._insertElement(t,W.HTML),e.framesetOk=!1,e.insertionMode=R.IN_BODY;break}case f.FRAMESET:{e._insertElement(t,W.HTML),e.insertionMode=R.IN_FRAMESET;break}case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:case f.NOFRAMES:case f.SCRIPT:case f.STYLE:case f.TEMPLATE:case f.TITLE:{e._err(t,q.abandonedHeadElementChild),e.openElements.push(e.headElement,f.HEAD),Vn(e,t),e.openElements.remove(e.headElement);break}case f.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:oo(e,t)}}function g2(e,t){switch(t.tagID){case f.BODY:case f.HTML:case f.BR:{oo(e,t);break}case f.TEMPLATE:{Hr(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function oo(e,t){e._insertFakeElement($.BODY,f.BODY),e.insertionMode=R.IN_BODY,hl(e,t)}function hl(e,t){switch(t.type){case xe.CHARACTER:{ok(e,t);break}case xe.WHITESPACE_CHARACTER:{ak(e,t);break}case xe.COMMENT:{tp(e,t);break}case xe.START_TAG:{Wt(e,t);break}case xe.END_TAG:{pl(e,t);break}case xe.EOF:{pk(e,t);break}}}function ak(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function ok(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function v2(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function b2(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function T2(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,W.HTML),e.insertionMode=R.IN_FRAMESET)}function k2(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,W.HTML)}function y2(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Hh.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,W.HTML)}function S2(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,W.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function _2(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,W.HTML),n||(e.formElement=e.openElements.current))}function w2(e,t){e.framesetOk=!1;const n=t.tagID;for(let i=e.openElements.stackTop;i>=0;i--){const r=e.openElements.tagIDs[i];if(n===f.LI&&r===f.LI||(n===f.DD||n===f.DT)&&(r===f.DD||r===f.DT)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r);break}if(r!==f.ADDRESS&&r!==f.DIV&&r!==f.P&&e._isSpecialElement(e.openElements.items[i],r))break}e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,W.HTML)}function E2(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,W.HTML),e.tokenizer.state=Tt.PLAINTEXT}function x2(e,t){e.openElements.hasInScope(f.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.framesetOk=!1}function C2(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName($.A);n&&(ep(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function P2(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function A2(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(f.NOBR)&&(ep(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,W.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function R2(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function I2(e,t){e.treeAdapter.getDocumentMode(e.document)!==Mn.QUIRKS&&e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,W.HTML),e.framesetOk=!1,e.insertionMode=R.IN_TABLE}function ck(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,W.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function lk(e){const t=XT(e,Yr.TYPE);return t!=null&&t.toLowerCase()===YD}function Q2(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,W.HTML),lk(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function N2(e,t){e._appendElement(t,W.HTML),t.ackSelfClosing=!0}function D2(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._appendElement(t,W.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function M2(e,t){t.tagName=$.IMG,t.tagID=f.IMG,ck(e,t)}function L2(e,t){e._insertElement(t,W.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Tt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=R.TEXT}function $2(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Tt.RAWTEXT)}function U2(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Tt.RAWTEXT)}function uk(e,t){e._switchToTextParsing(t,Tt.RAWTEXT)}function q2(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===R.IN_TABLE||e.insertionMode===R.IN_CAPTION||e.insertionMode===R.IN_TABLE_BODY||e.insertionMode===R.IN_ROW||e.insertionMode===R.IN_CELL?R.IN_SELECT_IN_TABLE:R.IN_SELECT}function X2(e,t){e.openElements.currentTagId===f.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML)}function F2(e,t){e.openElements.hasInScope(f.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,W.HTML)}function B2(e,t){e.openElements.hasInScope(f.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(f.RTC),e._insertElement(t,W.HTML)}function z2(e,t){e._reconstructActiveFormattingElements(),tk(t),Jh(t),t.selfClosing?e._appendElement(t,W.MATHML):e._insertElement(t,W.MATHML),t.ackSelfClosing=!0}function Z2(e,t){e._reconstructActiveFormattingElements(),nk(t),Jh(t),t.selfClosing?e._appendElement(t,W.SVG):e._insertElement(t,W.SVG),t.ackSelfClosing=!0}function dk(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML)}function Wt(e,t){switch(t.tagID){case f.I:case f.S:case f.B:case f.U:case f.EM:case f.TT:case f.BIG:case f.CODE:case f.FONT:case f.SMALL:case f.STRIKE:case f.STRONG:{P2(e,t);break}case f.A:{C2(e,t);break}case f.H1:case f.H2:case f.H3:case f.H4:case f.H5:case f.H6:{y2(e,t);break}case f.P:case f.DL:case f.OL:case f.UL:case f.DIV:case f.DIR:case f.NAV:case f.MAIN:case f.MENU:case f.ASIDE:case f.CENTER:case f.FIGURE:case f.FOOTER:case f.HEADER:case f.HGROUP:case f.DIALOG:case f.DETAILS:case f.ADDRESS:case f.ARTICLE:case f.SEARCH:case f.SECTION:case f.SUMMARY:case f.FIELDSET:case f.BLOCKQUOTE:case f.FIGCAPTION:{k2(e,t);break}case f.LI:case f.DD:case f.DT:{w2(e,t);break}case f.BR:case f.IMG:case f.WBR:case f.AREA:case f.EMBED:case f.KEYGEN:{ck(e,t);break}case f.HR:{D2(e,t);break}case f.RB:case f.RTC:{F2(e,t);break}case f.RT:case f.RP:{B2(e,t);break}case f.PRE:case f.LISTING:{S2(e,t);break}case f.XMP:{$2(e,t);break}case f.SVG:{Z2(e,t);break}case f.HTML:{v2(e,t);break}case f.BASE:case f.LINK:case f.META:case f.STYLE:case f.TITLE:case f.SCRIPT:case f.BGSOUND:case f.BASEFONT:case f.TEMPLATE:{Vn(e,t);break}case f.BODY:{b2(e,t);break}case f.FORM:{_2(e,t);break}case f.NOBR:{A2(e,t);break}case f.MATH:{z2(e,t);break}case f.TABLE:{I2(e,t);break}case f.INPUT:{Q2(e,t);break}case f.PARAM:case f.TRACK:case f.SOURCE:{N2(e,t);break}case f.IMAGE:{M2(e,t);break}case f.BUTTON:{x2(e,t);break}case f.APPLET:case f.OBJECT:case f.MARQUEE:{R2(e,t);break}case f.IFRAME:{U2(e,t);break}case f.SELECT:{q2(e,t);break}case f.OPTION:case f.OPTGROUP:{X2(e,t);break}case f.NOEMBED:case f.NOFRAMES:{uk(e,t);break}case f.FRAMESET:{T2(e,t);break}case f.TEXTAREA:{L2(e,t);break}case f.NOSCRIPT:{e.options.scriptingEnabled?uk(e,t):dk(e,t);break}case f.PLAINTEXT:{E2(e,t);break}case f.COL:case f.TH:case f.TD:case f.TR:case f.HEAD:case f.FRAME:case f.TBODY:case f.TFOOT:case f.THEAD:case f.CAPTION:case f.COLGROUP:break;default:dk(e,t)}}function j2(e,t){if(e.openElements.hasInScope(f.BODY)&&(e.insertionMode=R.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function V2(e,t){e.openElements.hasInScope(f.BODY)&&(e.insertionMode=R.AFTER_BODY,kk(e,t))}function W2(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function G2(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(f.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(f.FORM):n&&e.openElements.remove(n))}function Y2(e){e.openElements.hasInButtonScope(f.P)||e._insertFakeElement($.P,f.P),e._closePElement()}function H2(e){e.openElements.hasInListItemScope(f.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(f.LI),e.openElements.popUntilTagNamePopped(f.LI))}function K2(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function J2(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function eM(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function tM(e){e._reconstructActiveFormattingElements(),e._insertFakeElement($.BR,f.BR),e.openElements.pop(),e.framesetOk=!1}function hk(e,t){const n=t.tagName,i=t.tagID;for(let r=e.openElements.stackTop;r>0;r--){const s=e.openElements.items[r],a=e.openElements.tagIDs[r];if(i===a&&(i!==f.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.stackTop>=r&&e.openElements.shortenToLength(r);break}if(e._isSpecialElement(s,a))break}}function pl(e,t){switch(t.tagID){case f.A:case f.B:case f.I:case f.S:case f.U:case f.EM:case f.TT:case f.BIG:case f.CODE:case f.FONT:case f.NOBR:case f.SMALL:case f.STRIKE:case f.STRONG:{ep(e,t);break}case f.P:{Y2(e);break}case f.DL:case f.UL:case f.OL:case f.DIR:case f.DIV:case f.NAV:case f.PRE:case f.MAIN:case f.MENU:case f.ASIDE:case f.BUTTON:case f.CENTER:case f.FIGURE:case f.FOOTER:case f.HEADER:case f.HGROUP:case f.DIALOG:case f.ADDRESS:case f.ARTICLE:case f.DETAILS:case f.SEARCH:case f.SECTION:case f.SUMMARY:case f.LISTING:case f.FIELDSET:case f.BLOCKQUOTE:case f.FIGCAPTION:{W2(e,t);break}case f.LI:{H2(e);break}case f.DD:case f.DT:{K2(e,t);break}case f.H1:case f.H2:case f.H3:case f.H4:case f.H5:case f.H6:{J2(e);break}case f.BR:{tM(e);break}case f.BODY:{j2(e,t);break}case f.HTML:{V2(e,t);break}case f.FORM:{G2(e);break}case f.APPLET:case f.OBJECT:case f.MARQUEE:{eM(e,t);break}case f.TEMPLATE:{Hr(e,t);break}default:hk(e,t)}}function pk(e,t){e.tmplInsertionModeStack.length>0?Tk(e,t):np(e,t)}function nM(e,t){var n;t.tagID===f.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function iM(e,t){e._err(t,q.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function ip(e,t){if(e.openElements.currentTagId!==void 0&&ik.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=R.IN_TABLE_TEXT,t.type){case xe.CHARACTER:{mk(e,t);break}case xe.WHITESPACE_CHARACTER:{fk(e,t);break}}else lo(e,t)}function rM(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,W.HTML),e.insertionMode=R.IN_CAPTION}function sM(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,W.HTML),e.insertionMode=R.IN_COLUMN_GROUP}function aM(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement($.COLGROUP,f.COLGROUP),e.insertionMode=R.IN_COLUMN_GROUP,rp(e,t)}function oM(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,W.HTML),e.insertionMode=R.IN_TABLE_BODY}function cM(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement($.TBODY,f.TBODY),e.insertionMode=R.IN_TABLE_BODY,ml(e,t)}function lM(e,t){e.openElements.hasInTableScope(f.TABLE)&&(e.openElements.popUntilTagNamePopped(f.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function uM(e,t){lk(t)?e._appendElement(t,W.HTML):lo(e,t),t.ackSelfClosing=!0}function dM(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,W.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Bs(e,t){switch(t.tagID){case f.TD:case f.TH:case f.TR:{cM(e,t);break}case f.STYLE:case f.SCRIPT:case f.TEMPLATE:{Vn(e,t);break}case f.COL:{aM(e,t);break}case f.FORM:{dM(e,t);break}case f.TABLE:{lM(e,t);break}case f.TBODY:case f.TFOOT:case f.THEAD:{oM(e,t);break}case f.INPUT:{uM(e,t);break}case f.CAPTION:{rM(e,t);break}case f.COLGROUP:{sM(e,t);break}default:lo(e,t)}}function co(e,t){switch(t.tagID){case f.TABLE:{e.openElements.hasInTableScope(f.TABLE)&&(e.openElements.popUntilTagNamePopped(f.TABLE),e._resetInsertionMode());break}case f.TEMPLATE:{Hr(e,t);break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TBODY:case f.TD:case f.TFOOT:case f.TH:case f.THEAD:case f.TR:break;default:lo(e,t)}}function lo(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,hl(e,t),e.fosterParentingEnabled=n}function fk(e,t){e.pendingCharacterTokens.push(t)}function mk(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function uo(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)lo(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Ok=new Set([f.CAPTION,f.COL,f.COLGROUP,f.TBODY,f.TD,f.TFOOT,f.TH,f.THEAD,f.TR]);function hM(e,t){const n=t.tagID;Ok.has(n)?e.openElements.hasInTableScope(f.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,Bs(e,t)):Wt(e,t)}function pM(e,t){const n=t.tagID;switch(n){case f.CAPTION:case f.TABLE:{e.openElements.hasInTableScope(f.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_TABLE,n===f.TABLE&&co(e,t));break}case f.BODY:case f.COL:case f.COLGROUP:case f.HTML:case f.TBODY:case f.TD:case f.TFOOT:case f.TH:case f.THEAD:case f.TR:break;default:pl(e,t)}}function rp(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.COL:{e._appendElement(t,W.HTML),t.ackSelfClosing=!0;break}case f.TEMPLATE:{Vn(e,t);break}default:fl(e,t)}}function fM(e,t){switch(t.tagID){case f.COLGROUP:{e.openElements.currentTagId===f.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case f.TEMPLATE:{Hr(e,t);break}case f.COL:break;default:fl(e,t)}}function fl(e,t){e.openElements.currentTagId===f.COLGROUP&&(e.openElements.pop(),e.insertionMode=R.IN_TABLE,e._processToken(t))}function ml(e,t){switch(t.tagID){case f.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,W.HTML),e.insertionMode=R.IN_ROW;break}case f.TH:case f.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement($.TR,f.TR),e.insertionMode=R.IN_ROW,Ol(e,t);break}case f.CAPTION:case f.COL:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,Bs(e,t));break}default:Bs(e,t)}}function sp(e,t){const n=t.tagID;switch(t.tagID){case f.TBODY:case f.TFOOT:case f.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE);break}case f.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE,co(e,t));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TD:case f.TH:case f.TR:break;default:co(e,t)}}function Ol(e,t){switch(t.tagID){case f.TH:case f.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,W.HTML),e.insertionMode=R.IN_CELL,e.activeFormattingElements.insertMarker();break}case f.CAPTION:case f.COL:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:case f.TR:{e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,ml(e,t));break}default:Bs(e,t)}}function gk(e,t){switch(t.tagID){case f.TR:{e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY);break}case f.TABLE:{e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,sp(e,t));break}case f.TBODY:case f.TFOOT:case f.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(f.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R.IN_TABLE_BODY,sp(e,t));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TD:case f.TH:break;default:co(e,t)}}function mM(e,t){const n=t.tagID;Ok.has(n)?(e.openElements.hasInTableScope(f.TD)||e.openElements.hasInTableScope(f.TH))&&(e._closeTableCell(),Ol(e,t)):Wt(e,t)}function OM(e,t){const n=t.tagID;switch(n){case f.TD:case f.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=R.IN_ROW);break}case f.TABLE:case f.TBODY:case f.TFOOT:case f.THEAD:case f.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),gk(e,t));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:break;default:pl(e,t)}}function vk(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.OPTION:{e.openElements.currentTagId===f.OPTION&&e.openElements.pop(),e._insertElement(t,W.HTML);break}case f.OPTGROUP:{e.openElements.currentTagId===f.OPTION&&e.openElements.pop(),e.openElements.currentTagId===f.OPTGROUP&&e.openElements.pop(),e._insertElement(t,W.HTML);break}case f.HR:{e.openElements.currentTagId===f.OPTION&&e.openElements.pop(),e.openElements.currentTagId===f.OPTGROUP&&e.openElements.pop(),e._appendElement(t,W.HTML),t.ackSelfClosing=!0;break}case f.INPUT:case f.KEYGEN:case f.TEXTAREA:case f.SELECT:{e.openElements.hasInSelectScope(f.SELECT)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),t.tagID!==f.SELECT&&e._processStartTag(t));break}case f.SCRIPT:case f.TEMPLATE:{Vn(e,t);break}}}function bk(e,t){switch(t.tagID){case f.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===f.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===f.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===f.OPTGROUP&&e.openElements.pop();break}case f.OPTION:{e.openElements.currentTagId===f.OPTION&&e.openElements.pop();break}case f.SELECT:{e.openElements.hasInSelectScope(f.SELECT)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode());break}case f.TEMPLATE:{Hr(e,t);break}}}function gM(e,t){const n=t.tagID;n===f.CAPTION||n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR||n===f.TD||n===f.TH?(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),e._processStartTag(t)):vk(e,t)}function vM(e,t){const n=t.tagID;n===f.CAPTION||n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR||n===f.TD||n===f.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),e.onEndTag(t)):bk(e,t)}function bM(e,t){switch(t.tagID){case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:case f.NOFRAMES:case f.SCRIPT:case f.STYLE:case f.TEMPLATE:case f.TITLE:{Vn(e,t);break}case f.CAPTION:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:{e.tmplInsertionModeStack[0]=R.IN_TABLE,e.insertionMode=R.IN_TABLE,Bs(e,t);break}case f.COL:{e.tmplInsertionModeStack[0]=R.IN_COLUMN_GROUP,e.insertionMode=R.IN_COLUMN_GROUP,rp(e,t);break}case f.TR:{e.tmplInsertionModeStack[0]=R.IN_TABLE_BODY,e.insertionMode=R.IN_TABLE_BODY,ml(e,t);break}case f.TD:case f.TH:{e.tmplInsertionModeStack[0]=R.IN_ROW,e.insertionMode=R.IN_ROW,Ol(e,t);break}default:e.tmplInsertionModeStack[0]=R.IN_BODY,e.insertionMode=R.IN_BODY,Wt(e,t)}}function TM(e,t){t.tagID===f.TEMPLATE&&Hr(e,t)}function Tk(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(f.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):np(e,t)}function kM(e,t){t.tagID===f.HTML?Wt(e,t):gl(e,t)}function kk(e,t){var n;if(t.tagID===f.HTML){if(e.fragmentContext||(e.insertionMode=R.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===f.HTML){e._setEndLocation(e.openElements.items[0],t);const i=e.openElements.items[1];i&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(i))===null||n===void 0)&&n.endTag)&&e._setEndLocation(i,t)}}else gl(e,t)}function gl(e,t){e.insertionMode=R.IN_BODY,hl(e,t)}function yM(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.FRAMESET:{e._insertElement(t,W.HTML);break}case f.FRAME:{e._appendElement(t,W.HTML),t.ackSelfClosing=!0;break}case f.NOFRAMES:{Vn(e,t);break}}}function SM(e,t){t.tagID===f.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==f.FRAMESET&&(e.insertionMode=R.AFTER_FRAMESET))}function _M(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.NOFRAMES:{Vn(e,t);break}}}function wM(e,t){t.tagID===f.HTML&&(e.insertionMode=R.AFTER_AFTER_FRAMESET)}function EM(e,t){t.tagID===f.HTML?Wt(e,t):vl(e,t)}function vl(e,t){e.insertionMode=R.IN_BODY,hl(e,t)}function xM(e,t){switch(t.tagID){case f.HTML:{Wt(e,t);break}case f.NOFRAMES:{Vn(e,t);break}}}function CM(e,t){t.chars=dt,e._insertCharacters(t)}function PM(e,t){e._insertCharacters(t),e.framesetOk=!1}function yk(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==W.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function AM(e,t){if(ZD(t))yk(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),i=e.treeAdapter.getNamespaceURI(n);i===W.MATHML?tk(t):i===W.SVG&&(jD(t),nk(t)),Jh(t),t.selfClosing?e._appendElement(t,i):e._insertElement(t,i),t.ackSelfClosing=!0}}function RM(e,t){if(t.tagID===f.P||t.tagID===f.BR){yk(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const i=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(i)===W.HTML){e._endTagOutsideForeignContent(t);break}const r=e.treeAdapter.getTagName(i);if(r.toLowerCase()===t.tagName){t.tagName=r,e.openElements.shortenToLength(n);break}}}$.AREA,$.BASE,$.BASEFONT,$.BGSOUND,$.BR,$.COL,$.EMBED,$.FRAME,$.HR,$.IMG,$.INPUT,$.KEYGEN,$.LINK,$.META,$.PARAM,$.SOURCE,$.TRACK,$.WBR;const bl=(function(e){if(e==null)return DM;if(typeof e=="function")return Tl(e);if(typeof e=="object")return Array.isArray(e)?IM(e):QM(e);if(typeof e=="string")return NM(e);throw new Error("Expected function, string, or object as test")});function IM(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=bl(e[n]);return Tl(i);function i(...r){let s=-1;for(;++s<t.length;)if(t[s].apply(this,r))return!0;return!1}}function QM(e){const t=e;return Tl(n);function n(i){const r=i;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}function NM(e){return Tl(t);function t(n){return n&&n.type===e}}function Tl(e){return t;function t(n,i,r){return!!(MM(n)&&e.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function DM(){return!0}function MM(e){return e!==null&&typeof e=="object"&&"type"in e}const Sk=[],ho=!0,ap=!1,op="skip";function _k(e,t,n,i){let r;typeof t=="function"&&typeof n!="function"?(i=n,n=t):r=t;const s=bl(r),a=i?-1:1;o(e,void 0,[])();function o(c,l,u){const d=c&&typeof c=="object"?c:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=Sk,m,O,b;if((!t||s(c,l,u[u.length-1]||void 0))&&(p=LM(n(c,u)),p[0]===ap))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==op)for(O=(i?v.children.length:-1)+a,b=u.concat(v);O>-1&&O<v.children.length;){const T=v.children[O];if(m=o(T,O,b)(),m[0]===ap)return m;O=typeof m[1]=="number"?m[1]:O+a}}return p}}}function LM(e){return Array.isArray(e)?e:typeof e=="number"?[ho,e]:e==null?Sk:[e]}function zs(e,t,n,i){let r,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,r=n):(s=t,a=n,r=i),_k(e,s,o,r);function o(c,l){const u=l[l.length-1],d=u?u.children.indexOf(c):void 0;return a(c,d,u)}}const $M=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,UM=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),wk={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Ek(e,t){const n=GM(e),i=MT("type",{handlers:{root:qM,element:XM,text:FM,comment:Ck,doctype:BM,raw:ZM},unknown:jM}),r={parser:n?new sk(wk):sk.getFragmentParser(void 0,wk),handle(o){i(o,r)},stitches:!1,options:t||{}};i(e,r),Zs(r,oi());const s=n?r.parser.document:r.parser.getFragment(),a=zN(s,{file:r.options.file});return r.stitches&&zs(a,"comment",function(o,c,l){const u=o;if(u.value.stitch&&l&&c!==void 0){const d=l.children;return d[c]=u.value.stitch,c}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function xk(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function qM(e,t){xk(e.children,t)}function XM(e,t){VM(e,t),xk(e.children,t),WM(e,t)}function FM(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:xe.CHARACTER,chars:e.value,location:po(e)};Zs(t,oi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function BM(e,t){const n={type:xe.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:po(e)};Zs(t,oi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function zM(e,t){t.stitches=!0;const n=YM(e);if("children"in e&&"children"in n){const i=Ek({type:"root",children:e.children},t.options);n.children=i.children}Ck({type:"comment",value:{stitch:n}},t)}function Ck(e,t){const n=e.value,i={type:xe.COMMENT,data:n,location:po(e)};Zs(t,oi(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function ZM(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Pk(t,oi(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace($M,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function jM(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))zM(n,t);else{let i="";throw UM.has(n.type)&&(i=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+i)}}function Zs(e,t){Pk(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Tt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Pk(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function VM(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Tt.PLAINTEXT)return;Zs(t,oi(e));const i=t.parser.openElements.current;let r="namespaceURI"in i?i.namespaceURI:Gr.html;r===Gr.html&&n==="svg"&&(r=Gr.svg);const s=GN({...e,children:[]},{space:r===Gr.svg?"svg":"html"}),a={type:xe.START_TAG,tagName:n,tagID:Fs(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:po(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function WM(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&iD.includes(n)||t.parser.tokenizer.state===Tt.PLAINTEXT)return;Zs(t,ol(e));const i={type:xe.END_TAG,tagName:n,tagID:Fs(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:po(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Tt.RCDATA||t.parser.tokenizer.state===Tt.RAWTEXT||t.parser.tokenizer.state===Tt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Tt.DATA)}function GM(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function po(e){const t=oi(e)||{line:void 0,column:void 0,offset:void 0},n=ol(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function YM(e){return"children"in e?jr({...e,children:[]}):jr(e)}function HM(e){return function(t,n){return Ek(t,{...e,file:n})}}function KM({defaultOrigin:e="",allowedLinkPrefixes:t=[],allowedImagePrefixes:n=[],allowDataImages:i=!1,allowedProtocols:r=[],blockedImageClass:s="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:a="text-gray-500"}){const o=t.length&&!t.every(l=>l==="*"),c=n.length&&!n.every(l=>l==="*");if(!e&&(o||c))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return l=>{const u=nL(e,t,n,i,r,s,a);zs(l,u)}}function Ak(e,t){if(typeof e!="string")return null;try{return new URL(e)}catch{if(t)try{return new URL(e,t)}catch{return null}if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))try{return new URL(e,"http://example.com")}catch{return null}return null}}function JM(e){return typeof e!="string"?!1:e.startsWith("/")||e.startsWith("./")||e.startsWith("../")}const eL=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:","blob:"]),tL=new Set(["javascript:","data:","file:","vbscript:"]);function Rk(e,t,n,i=!1,r=!1,s=[]){if(!e)return null;if(typeof e=="string"&&e.startsWith("#")&&!r)try{if(new URL(e,"http://example.com").hash===e)return e}catch{}if(typeof e=="string"&&e.startsWith("data:"))return r&&i&&e.startsWith("data:image/")?e:null;if(typeof e=="string"&&e.startsWith("blob:")){try{if(new URL(e).protocol==="blob:"&&e.length>5){const c=e.substring(5);if(c&&c.length>0&&c!=="invalid")return e}}catch{return null}return null}const a=Ak(e,n);if(!a||tL.has(a.protocol)||!(eL.has(a.protocol)||s.includes(a.protocol)||s.includes("*")))return null;if(a.protocol==="mailto:"||!a.protocol.match(/^https?:$/))return a.href;const o=JM(e);return a&&t.some(c=>{const l=Ak(c,n);return!l||l.origin!==a.origin?!1:a.href.startsWith(l.href)})?o?a.pathname+a.search+a.hash:a.href:t.includes("*")?a.protocol!=="https:"&&a.protocol!=="http:"?null:o?a.pathname+a.search+a.hash:a.href:null}const cp=Symbol("node-seen"),nL=(e,t,n,i,r,s,a)=>{const o=(c,l,u)=>{if(c.type!=="element"||c[cp])return ho;if(c.tagName==="a"){const d=Rk(c.properties.href,t,e,!1,!1,r);return d===null?(c[cp]=!0,zs(c,o),u&&typeof l=="number"&&(u.children[l]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(c.properties.href),class:a},children:[...c.children,{type:"text",value:" [blocked]"}]}),op):(c.properties.href=d,c.properties.target="_blank",c.properties.rel="noopener noreferrer",ho)}if(c.tagName==="img"){const d=Rk(c.properties.src,n,e,i,!0,r);return d===null?(c[cp]=!0,zs(c,o),u&&typeof l=="number"&&(u.children[l]={type:"element",tagName:"span",properties:{class:s},children:[{type:"text",value:"[Image blocked: "+String(c.properties.alt||"No description")+"]"}]}),op):(c.properties.src=d,ho)}return ho};return o},Mi={eof:null,asterisk:42,underscore:95,tilde:126},js={attentionSideAfter:2,characterGroupPunctuation:2,characterGroupWhitespace:1},li={data:"data",characterEscape:"characterEscape",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",strong:"strong",strongSequence:"strongSequence",strongText:"strongText"},tn=br(/[A-Za-z]/),Gt=br(/[\dA-Za-z]/),iL=br(/[#-'*+\--9=?A-Z^-~]/);function kl(e){return e!==null&&(e<32||e===127)}const lp=br(/\d/),rL=br(/[\dA-Fa-f]/),sL=br(/[!-/:-@[-`{-~]/);function de(e){return e!==null&&e<-2}function Ke(e){return e!==null&&(e<0||e===32)}function Re(e){return e===-2||e===-1||e===32}const yl=br(new RegExp("\\p{P}|\\p{S}","u")),Kr=br(/\s/);function br(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function aL(e){return e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}function oL(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function cL(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e>=94192&&e<=94198||e>=94208&&e<=101589||e>=101631&&e<=101662||e>=101760&&e<=101874||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128728||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129674||e>=129678&&e<=129734||e===129736||e>=129741&&e<=129756||e>=129759&&e<=129770||e>=129775&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}function lL(e){return aL(e)?"ambiguous":oL(e)?"fullwidth":e===8361||e>=65377&&e<=65470||e>=65474&&e<=65479||e>=65482&&e<=65487||e>=65490&&e<=65495||e>=65498&&e<=65500||e>=65512&&e<=65518?"halfwidth":e>=32&&e<=126||e===162||e===163||e===165||e===166||e===172||e===175||e>=10214&&e<=10221||e===10629||e===10630?"narrow":cL(e)?"wide":"neutral"}function uL(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}function dL(e){return uL(e),lL(e)}var hL=Object.defineProperty,pL=(e,t,n)=>t in e?hL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fL=(e,t,n)=>pL(e,t+"",n);function mL(e){return new RegExp("^\\p{Emoji_Presentation}","u").test(String.fromCodePoint(e))}function OL(e){if(!e||e<4352)return!1;switch(dL(e)){case"fullwidth":case"halfwidth":return!0;case"wide":return!mL(e);case"narrow":return!1;case"ambiguous":return 917760<=e&&e<=917999?null:!1;case"neutral":return new RegExp("^\\p{sc=Hangul}","u").test(String.fromCodePoint(e))}}function gL(e,t){return t!==65025||!e||e<8216?!1:e===8216||e===8217||e===8220||e===8221}function vL(e){return e!==null&&e>=65024&&e<=65038}var bL=Ik(new RegExp("\\p{P}|\\p{S}","u")),TL=Ik(/\s/);function Ik(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCodePoint(n))}}var yn;(e=>{e.spaceOrPunctuation=3,e.cjk=4096,e.cjkPunctuation=4098,e.ivs=8192,e.cjkOrIvs=12288,e.nonEmojiGeneralUseVS=16384,e.variationSelector=24576,e.ivsToCjkRightShift=1})(yn||(yn={}));function Vs(e){if(e===Mi.eof||Ke(e)||TL(e))return js.characterGroupWhitespace;let t=0;if(e>=4352){if(vL(e))return yn.nonEmojiGeneralUseVS;switch(OL(e)){case null:return yn.ivs;case!0:t|=yn.cjk;break}}return bL(e)&&(t|=js.characterGroupPunctuation),t}function Qk(e,t,n){if(!_L(e))return e;const i=t(),r=Vs(i);return!i||fo(r)?e:gL(i,n)?yn.cjkPunctuation:kL(r)}function kL(e){return e&~yn.ivs}function fo(e){return!!(e&js.characterGroupWhitespace)}function Sl(e){return(e&yn.cjkPunctuation)===js.characterGroupPunctuation}function up(e){return!!(e&yn.cjk)}function yL(e){return e===yn.ivs}function SL(e){return!!(e&yn.cjkOrIvs)}function _L(e){return e===yn.nonEmojiGeneralUseVS}function Nk(e){return!!(e&yn.spaceOrPunctuation)}function Dk(e){return!!(e&&e>=55296&&e<=56319)}function Mk(e){return!!(e&&e>=56320&&e<=57343)}function Lk(e,t,n){if(t._bufferIndex<2)return e;const i=n({start:{...t,_bufferIndex:t._bufferIndex-2},end:t}).codePointAt(0);return i&&i>=65536?i:e}function wL(e,t,n){const i=e>=65536?2:1;if(t._bufferIndex<1+i)return null;const r=t._bufferIndex-i-2,s=n({start:{...t,_bufferIndex:r>=0?r:0},end:{...t,_bufferIndex:t._bufferIndex-i}}),a=s.charCodeAt(s.length-1);if(Number.isNaN(a))return null;if(s.length<2||a<56320||57343<a)return a;const o=s.codePointAt(0);return o&&o>=65536?o:a}var $k=class{constructor(e,t,n){this.previousCode=e,this.nowPoint=t,this.sliceSerialize=n,fL(this,"cachedValue")}value(){return this.cachedValue===void 0&&(this.cachedValue=wL(this.previousCode,this.nowPoint,this.sliceSerialize)),this.cachedValue}};function Uk(e,t,n){const i=n({start:t,end:{...t,_bufferIndex:t._bufferIndex+2}}).codePointAt(0);return i&&i>=65536?i:e}function Bt(e,t,n,i){const r=e.length;let s=0,a;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<i.length;)a=i.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function zt(e,t){return e.length>0?(Bt(e,e.length,0,t),e):t}function Ws(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const s=e[r].resolveAll;s&&!i.includes(s)&&(t=s(t,n),i.push(s))}return t}var dp={name:"attention",resolveAll:EL,tokenize:xL};function EL(e,t){let n=-1,i,r,s,a,o,c,l,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[i][1].end},h={...e[n][1].start};qk(d,-c),qk(h,c),a={type:c>1?li.strongSequence:li.emphasisSequence,start:d,end:{...e[i][1].end}},o={type:c>1?li.strongSequence:li.emphasisSequence,start:{...e[n][1].start},end:h},s={type:c>1?li.strongText:li.emphasisText,start:{...e[i][1].end},end:{...e[n][1].start}},r={type:c>1?li.strong:li.emphasis,start:{...a.start},end:{...o.end}},e[i][1].end={...a.start},e[n][1].start={...o.end},l=[],e[i][1].end.offset-e[i][1].start.offset&&(l=zt(l,[["enter",e[i][1],t],["exit",e[i][1],t]])),l=zt(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",s,t]]),t.parser.constructs.insideSpan.null,l=zt(l,Ws(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),l=zt(l,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,l=zt(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,Bt(e,i-1,n-i+3,l),n=i+l.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function xL(e,t){const n=this.parser.constructs.attentionMarkers.null,{now:i,sliceSerialize:r,previous:s}=this,a=Mk(s)?Lk(s,i(),r):s,o=Vs(a),c=new $k(a,i(),r),l=Qk(o,c.value.bind(c),a);let u;return d;function d(p){return u=p,e.enter("attentionSequence"),h(p)}function h(p){if(p===u)return e.consume(p),h;const m=e.exit("attentionSequence"),O=Dk(p)?Uk(p,i(),r):p,b=Vs(O),v=Sl(l),T=v||fo(l),S=Sl(b),k=S||fo(b),y=SL(l),_=!k||S&&(T||y)||n.includes(p),x=!T||v&&(k||up(b))||n.includes(a);return m._open=!!(u===Mi.asterisk?_:_&&(Nk(l)||!x)),m._close=!!(u===Mi.asterisk?x:x&&(Nk(b)||!_)),t(p)}}function qk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}function CL(){return{text:{[Mi.asterisk]:dp,[Mi.underscore]:dp},insideSpan:{null:[dp]}}}function PL(){const e=this.data();(e.micromarkExtensions||(e.micromarkExtensions=[])).push(CL())}function AL(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:r,resolveAll:i};return t==null&&(t=!0),{text:{[Mi.tilde]:n},insideSpan:{null:[n]},attentionMarkers:{null:[Mi.tilde]}};function i(s,a){let o=-1;for(;++o<s.length;)if(s[o][0]==="enter"&&s[o][1].type==="strikethroughSequenceTemporary"&&s[o][1]._close){let c=o;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[o][1].end.offset-s[o][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[o][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const l={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[o][1].end)},u={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[o][1].start)},d=[["enter",l,a],["enter",s[c][1],a],["exit",s[c][1],a],["enter",u,a]],h=a.parser.constructs.insideSpan.null;h&&Bt(d,d.length,0,Ws(h,s.slice(c+1,o),a)),Bt(d,d.length,0,[["exit",u,a],["enter",s[o][1],a],["exit",s[o][1],a],["exit",l,a]]),Bt(s,c-1,o-c+3,d),o=c+d.length-2;break}}for(o=-1;++o<s.length;)s[o][1].type==="strikethroughSequenceTemporary"&&(s[o][1].type=li.data);return s}function r(s,a,o){const{now:c,sliceSerialize:l,previous:u}=this,d=Mk(u)?Lk(u,c(),l):u,h=Vs(d),p=new $k(d,c(),l),m=Qk(h,p.value.bind(p),d),O=this.events;let b=0;return v;function v(S){return d===Mi.tilde&&O[O.length-1][1].type!==li.characterEscape?o(S):(s.enter("strikethroughSequenceTemporary"),T(S))}function T(S){const k=Vs(d);if(S===Mi.tilde)return b>1?o(S):(s.consume(S),b++,T);if(b<2&&!t)return o(S);const y=s.exit("strikethroughSequenceTemporary"),_=Dk(S)?Uk(S,c(),l):S,x=Vs(_),N=Sl(m)||fo(m),D=Sl(x)||fo(x),E=up(m)||yL(k);return y._open=!D||x===js.attentionSideAfter&&(N||E),y._close=!N||k===js.attentionSideAfter&&(D||up(x)),a(S)}}}function RL(e){const t=this.data();(t.micromarkExtensions||(t.micromarkExtensions=[])).push(AL(e))}function Xk(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;r!==-1;)i++,r=n.indexOf(t,r+t.length);return i}function IL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function QL(e,t,n){const i=bl((n||{}).ignore||[]),r=NL(t);let s=-1;for(;++s<r.length;)_k(e,"text",a);function a(c,l){let u=-1,d;for(;++u<l.length;){const h=l[u],p=d?d.children:void 0;if(i(h,p?p.indexOf(h):void 0,d))return;d=h}if(d)return o(c,l)}function o(c,l){const u=l[l.length-1],d=r[s][0],h=r[s][1];let p=0;const m=u.children.indexOf(c);let O=!1,b=[];d.lastIndex=0;let v=d.exec(c.value);for(;v;){const T=v.index,S={index:v.index,input:v.input,stack:[...l,c]};let k=h(...v,S);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?d.lastIndex=T+1:(p!==T&&b.push({type:"text",value:c.value.slice(p,T)}),Array.isArray(k)?b.push(...k):k&&b.push(k),p=T+v[0].length,O=!0),!d.global)break;v=d.exec(c.value)}return O?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),u.children.splice(m,1,...b)):b=[c],m+b.length}}function NL(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const r=n[i];t.push([DL(r[0]),ML(r[1])])}return t}function DL(e){return typeof e=="string"?new RegExp(IL(e),"g"):e}function ML(e){return typeof e=="function"?e:function(){return e}}const hp="phrasing",pp=["autolink","link","image","label"];function LL(){return{transforms:[zL],enter:{literalAutolink:UL,literalAutolinkEmail:fp,literalAutolinkHttp:fp,literalAutolinkWww:fp},exit:{literalAutolink:BL,literalAutolinkEmail:FL,literalAutolinkHttp:qL,literalAutolinkWww:XL}}}function $L(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:hp,notInConstruct:pp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:hp,notInConstruct:pp},{character:":",before:"[ps]",after:"\\/",inConstruct:hp,notInConstruct:pp}]}}function UL(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function fp(e){this.config.enter.autolinkProtocol.call(this,e)}function qL(e){this.config.exit.autolinkProtocol.call(this,e)}function XL(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function FL(e){this.config.exit.autolinkEmail.call(this,e)}function BL(e){this.exit(e)}function zL(e){QL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ZL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),jL]],{ignore:["link","linkReference"]})}function ZL(e,t,n,i,r){let s="";if(!Fk(r)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!VL(n)))return!1;const a=WL(n+i);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function jL(e,t,n,i){return!Fk(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function VL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function WL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const r=Xk(e,"(");let s=Xk(e,")");for(;i!==-1&&r>s;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),s++;return[e,n]}function Fk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Kr(n)||yl(n))&&(!t||n!==47)}function Wn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}Bk.peek=i$;function GL(){this.buffer()}function YL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function HL(){this.buffer()}function KL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function JL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function e$(e){this.exit(e)}function t$(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function n$(e){this.exit(e)}function i$(){return"["}function Bk(e,t,n,i){const r=n.createTracker(i);let s=r.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=r.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=r.move("]"),s}function r$(){return{enter:{gfmFootnoteCallString:GL,gfmFootnoteCall:YL,gfmFootnoteDefinitionLabelString:HL,gfmFootnoteDefinition:KL},exit:{gfmFootnoteCallString:JL,gfmFootnoteCall:e$,gfmFootnoteDefinitionLabelString:t$,gfmFootnoteDefinition:n$}}}function s$(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Bk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,s,a){const o=s.createTracker(a);let c=o.move("[^");const l=s.enter("footnoteDefinition"),u=s.enter("label");return c+=o.move(s.safe(s.associationId(i),{before:c,after:"]"})),u(),c+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(i,o.current()),t?zk:a$))),l(),c}}function a$(e,t,n){return t===0?e:zk(e,t,n)}function zk(e,t,n){return(n?"":"    ")+e}const o$=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Zk.peek=h$;function c$(){return{canContainEols:["delete"],enter:{strikethrough:u$},exit:{strikethrough:d$}}}function l$(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:o$}],handlers:{delete:Zk}}}function u$(e){this.enter({type:"delete",children:[]},e)}function d$(e){this.exit(e)}function Zk(e,t,n,i){const r=n.createTracker(i),s=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(e,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),s(),a}function h$(){return"~"}function p$(e){return e.length}function f$(e,t){const n=t||{},i=(n.align||[]).concat(),r=n.stringLength||p$,s=[],a=[],o=[],c=[];let l=0,u=-1;for(;++u<e.length;){const O=[],b=[];let v=-1;for(e[u].length>l&&(l=e[u].length);++v<e[u].length;){const T=m$(e[u][v]);if(n.alignDelimiters!==!1){const S=r(T);b[v]=S,(c[v]===void 0||S>c[v])&&(c[v]=S)}O.push(T)}a[u]=O,o[u]=b}let d=-1;if(typeof i=="object"&&"length"in i)for(;++d<l;)s[d]=jk(i[d]);else{const O=jk(i);for(;++d<l;)s[d]=O}d=-1;const h=[],p=[];for(;++d<l;){const O=s[d];let b="",v="";O===99?(b=":",v=":"):O===108?b=":":O===114&&(v=":");let T=n.alignDelimiters===!1?1:Math.max(1,c[d]-b.length-v.length);const S=b+"-".repeat(T)+v;n.alignDelimiters!==!1&&(T=b.length+T+v.length,T>c[d]&&(c[d]=T),p[d]=T),h[d]=S}a.splice(1,0,h),o.splice(1,0,p),u=-1;const m=[];for(;++u<a.length;){const O=a[u],b=o[u];d=-1;const v=[];for(;++d<l;){const T=O[d]||"";let S="",k="";if(n.alignDelimiters!==!1){const y=c[d]-(b[d]||0),_=s[d];_===114?S=" ".repeat(y):_===99?y%2?(S=" ".repeat(y/2+.5),k=" ".repeat(y/2-.5)):(S=" ".repeat(y/2),k=S):k=" ".repeat(y)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&T==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(S),v.push(T),n.alignDelimiters!==!1&&v.push(k),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==l-1)&&v.push("|")}m.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return m.join(`
`)}function m$(e){return e==null?"":String(e)}function jk(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function O$(e,t,n,i){const r=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),g$);return r(),a}function g$(e,t,n){return">"+(n?"":" ")+e}function v$(e,t){return Vk(e,t.inConstruct,!0)&&!Vk(e,t.notInConstruct,!1)}function Vk(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Wk(e,t,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&v$(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function b$(e,t){const n=String(e);let i=n.indexOf(t),r=i,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>a&&(a=s):s=1,r=i+t.length,i=n.indexOf(t,r);return a}function T$(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function k$(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function y$(e,t,n,i){const r=k$(n),s=e.value||"",a=r==="`"?"GraveAccent":"Tilde";if(T$(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(s,S$);return d(),h}const o=n.createTracker(i),c=r.repeat(Math.max(b$(s,r)+1,3)),l=n.enter("codeFenced");let u=o.move(c);if(e.lang){const d=n.enter(`codeFencedLang${a}`);u+=o.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...o.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);u+=o.move(" "),u+=o.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...o.current()})),d()}return u+=o.move(`
`),s&&(u+=o.move(s+`
`)),u+=o.move(c),l(),u}function S$(e,t,n){return(n?"":"    ")+e}function mp(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function _$(e,t,n,i){const r=mp(n),s=r==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const c=n.createTracker(i);let l=c.move("[");return l+=c.move(n.safe(n.associationId(e),{before:l,after:"]",...c.current()})),l+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),l+=c.move("<"),l+=c.move(n.safe(e.url,{before:l,after:">",...c.current()})),l+=c.move(">")):(o=n.enter("destinationRaw"),l+=c.move(n.safe(e.url,{before:l,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),l+=c.move(" "+r),l+=c.move(n.safe(e.title,{before:l,after:r,...c.current()})),l+=c.move(r),o()),a(),l}function w$(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function mo(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Gs(e){if(e===null||Ke(e)||Kr(e))return 1;if(yl(e))return 2}function _l(e,t,n){const i=Gs(e),r=Gs(t);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Gk.peek=E$;function Gk(e,t,n,i){const r=w$(n),s=n.enter("emphasis"),a=n.createTracker(i),o=a.move(r);let c=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const l=c.charCodeAt(0),u=_l(i.before.charCodeAt(i.before.length-1),l,r);u.inside&&(c=mo(l)+c.slice(1));const d=c.charCodeAt(c.length-1),h=_l(i.after.charCodeAt(0),d,r);h.inside&&(c=c.slice(0,-1)+mo(d));const p=a.move(r);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},o+c+p}function E$(e,t,n){return n.options.emphasis||"*"}const x$={};function Op(e,t){const n=x$,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Yk(e,i,r)}function Yk(e,t,n){if(C$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Hk(e.children,t,n)}return Array.isArray(e)?Hk(e,t,n):""}function Hk(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=Yk(e[r],t,n);return i.join("")}function C$(e){return!!(e&&typeof e=="object")}function P$(e,t){let n=!1;return zs(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,ap}),!!((!e.depth||e.depth<3)&&Op(e)&&(t.options.setext||n))}function A$(e,t,n,i){const r=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(i);if(P$(e,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(r===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(r),o=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let l=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(l)&&(l=mo(l.charCodeAt(0))+l.slice(1)),l=l?a+" "+l:a,n.options.closeAtx&&(l+=" "+a),c(),o(),l}Kk.peek=R$;function Kk(e){return e.value||""}function R$(){return"<"}Jk.peek=I$;function Jk(e,t,n,i){const r=mp(n),s=r==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const c=n.createTracker(i);let l=c.move("![");return l+=c.move(n.safe(e.alt,{before:l,after:"]",...c.current()})),l+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),l+=c.move("<"),l+=c.move(n.safe(e.url,{before:l,after:">",...c.current()})),l+=c.move(">")):(o=n.enter("destinationRaw"),l+=c.move(n.safe(e.url,{before:l,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),l+=c.move(" "+r),l+=c.move(n.safe(e.title,{before:l,after:r,...c.current()})),l+=c.move(r),o()),l+=c.move(")"),a(),l}function I$(){return"!"}ey.peek=Q$;function ey(e,t,n,i){const r=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(i);let c=o.move("![");const l=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(l+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=u,s(),r==="full"||!l||l!==d?c+=o.move(d+"]"):r==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function Q$(){return"!"}ty.peek=N$;function ty(e,t,n){let i=e.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(i);){let l=c.index;i.charCodeAt(l)===10&&i.charCodeAt(l-1)===13&&l--,i=i.slice(0,l)+" "+i.slice(c.index+1)}}return r+i+r}function N$(){return"`"}function ny(e,t){const n=Op(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}iy.peek=D$;function iy(e,t,n,i){const r=mp(n),s=r==='"'?"Quote":"Apostrophe",a=n.createTracker(i);let o,c;if(ny(e,n)){const u=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,{before:d,after:">",...a.current()})),d+=a.move(">"),o(),n.stack=u,d}o=n.enter("link"),c=n.enter("label");let l=a.move("[");return l+=a.move(n.containerPhrasing(e,{before:l,after:"](",...a.current()})),l+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),l+=a.move("<"),l+=a.move(n.safe(e.url,{before:l,after:">",...a.current()})),l+=a.move(">")):(c=n.enter("destinationRaw"),l+=a.move(n.safe(e.url,{before:l,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${s}`),l+=a.move(" "+r),l+=a.move(n.safe(e.title,{before:l,after:r,...a.current()})),l+=a.move(r),c()),l+=a.move(")"),o(),l}function D$(e,t,n){return ny(e,n)?"<":"["}ry.peek=M$;function ry(e,t,n,i){const r=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(i);let c=o.move("[");const l=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(l+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=u,s(),r==="full"||!l||l!==d?c+=o.move(d+"]"):r==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function M$(){return"["}function gp(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function L$(e){const t=gp(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function $$(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function sy(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function U$(e,t,n,i){const r=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?$$(n):gp(n);const o=e.ordered?a==="."?")":".":L$(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),sy(n)===a&&u){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),n.bulletCurrent=a;const l=n.containerFlow(e,i);return n.bulletLastUsed=a,n.bulletCurrent=s,r(),l}function q$(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function X$(e,t,n,i){const r=q$(n);let s=n.bulletCurrent||gp(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(r==="tab"||r==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(i);o.move(s+" ".repeat(a-s.length)),o.shift(a);const c=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,o.current()),u);return c(),l;function u(d,h,p){return h?(p?"":" ".repeat(a))+d:(p?s:s+" ".repeat(a-s.length))+d}}function F$(e,t,n,i){const r=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,i);return s(),r(),a}const B$=bl(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function z$(e,t,n,i){return(e.children.some(function(r){return B$(r)})?n.containerPhrasing:n.containerFlow).call(n,e,i)}function Z$(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ay.peek=j$;function ay(e,t,n,i){const r=Z$(n),s=n.enter("strong"),a=n.createTracker(i),o=a.move(r+r);let c=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const l=c.charCodeAt(0),u=_l(i.before.charCodeAt(i.before.length-1),l,r);u.inside&&(c=mo(l)+c.slice(1));const d=c.charCodeAt(c.length-1),h=_l(i.after.charCodeAt(0),d,r);h.inside&&(c=c.slice(0,-1)+mo(d));const p=a.move(r+r);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},o+c+p}function j$(e,t,n){return n.options.strong||"*"}function V$(e,t,n,i){return n.safe(e.value,i)}function W$(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function G$(e,t,n){const i=(sy(n)+(n.options.ruleSpaces?" ":"")).repeat(W$(n));return n.options.ruleSpaces?i.slice(0,-1):i}const oy={blockquote:O$,break:Wk,code:y$,definition:_$,emphasis:Gk,hardBreak:Wk,heading:A$,html:Kk,image:Jk,imageReference:ey,inlineCode:ty,link:iy,linkReference:ry,list:U$,listItem:X$,paragraph:F$,root:z$,strong:ay,text:V$,thematicBreak:G$},cy=document.createElement("i");function vp(e){const t="&"+e+";";cy.innerHTML=t;const n=cy.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ly(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const Y$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function H$(e){return e.replace(Y$,K$)}function K$(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),r=i===120||i===88;return ly(n.slice(r?2:1),r?16:10)}return vp(n)||e}function J$(){return{enter:{table:e5,tableData:uy,tableHeader:uy,tableRow:n5},exit:{codeText:i5,table:t5,tableData:bp,tableHeader:bp,tableRow:bp}}}function e5(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function t5(e){this.exit(e),this.data.inTable=void 0}function n5(e){this.enter({type:"tableRow",children:[]},e)}function bp(e){this.exit(e)}function uy(e){this.enter({type:"tableCell",children:[]},e)}function i5(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,r5));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function r5(e,t){return t==="|"?t:e}function s5(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:c,tableRow:o}};function a(p,m,O,b){return l(u(p,O,b),p.align)}function o(p,m,O,b){const v=d(p,O,b),T=l([v]);return T.slice(0,T.indexOf(`
`))}function c(p,m,O,b){const v=O.enter("tableCell"),T=O.enter("phrasing"),S=O.containerPhrasing(p,{...b,before:s,after:s});return T(),v(),S}function l(p,m){return f$(p,{align:m,alignDelimiters:i,padding:n,stringLength:r})}function u(p,m,O){const b=p.children;let v=-1;const T=[],S=m.enter("table");for(;++v<b.length;)T[v]=d(b[v],m,O);return S(),T}function d(p,m,O){const b=p.children;let v=-1;const T=[],S=m.enter("tableRow");for(;++v<b.length;)T[v]=c(b[v],p,m,O);return S(),T}function h(p,m,O){let b=oy.inlineCode(p,m,O);return O.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function a5(){return{exit:{taskListCheckValueChecked:dy,taskListCheckValueUnchecked:dy,paragraph:c5}}}function o5(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:l5}}}function dy(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function c5(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=t.children;let s=-1,a;for(;++s<r.length;){const o=r[s];if(o.type==="paragraph"){a=o;break}}a===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function l5(e,t,n,i){const r=e.children[0],s=typeof e.checked=="boolean"&&r&&r.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(i);s&&o.move(a);let c=oy.listItem(e,t,n,{...i,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),c;function l(u){return u+a}}function u5(){return[LL(),r$(),c$(),J$(),a5()]}function d5(e){return{extensions:[$L(),s$(e),l$(),s5(e),o5()]}}const hy={}.hasOwnProperty;function py(e){const t={};let n=-1;for(;++n<e.length;)h5(t,e[n]);return t}function h5(e,t){let n;for(n in t){const i=(hy.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let s;if(r)for(s in r){hy.call(i,s)||(i[s]=[]);const a=r[s];p5(i[s],Array.isArray(a)?a:a?[a]:[])}}}function p5(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Bt(e,0,0,i)}const f5={tokenize:T5,partial:!0},fy={tokenize:k5,partial:!0},my={tokenize:y5,partial:!0},Oy={tokenize:S5,partial:!0},m5={tokenize:_5,partial:!0},gy={name:"wwwAutolink",tokenize:v5,previous:by},vy={name:"protocolAutolink",tokenize:b5,previous:Ty},Li={name:"emailAutolink",tokenize:g5,previous:ky},ui={};function O5(){return{text:ui}}let Jr=48;for(;Jr<123;)ui[Jr]=Li,Jr++,Jr===58?Jr=65:Jr===91&&(Jr=97);ui[43]=Li,ui[45]=Li,ui[46]=Li,ui[95]=Li,ui[72]=[Li,vy],ui[104]=[Li,vy],ui[87]=[Li,gy],ui[119]=[Li,gy];function g5(e,t,n){const i=this;let r,s;return a;function a(d){return!Tp(d)||!ky.call(i,i.previous)||kp(i.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return Tp(d)?(e.consume(d),o):d===64?(e.consume(d),c):n(d)}function c(d){return d===46?e.check(m5,u,l)(d):d===45||d===95||Gt(d)?(s=!0,e.consume(d),c):u(d)}function l(d){return e.consume(d),r=!0,c}function u(d){return s&&r&&tn(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function v5(e,t,n){const i=this;return r;function r(a){return a!==87&&a!==119||!by.call(i,i.previous)||kp(i.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(f5,e.attempt(fy,e.attempt(my,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function b5(e,t,n){const i=this;let r="",s=!1;return a;function a(d){return(d===72||d===104)&&Ty.call(i,i.previous)&&!kp(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(d),e.consume(d),o):n(d)}function o(d){if(tn(d)&&r.length<5)return r+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const h=r.toLowerCase();if(h==="http"||h==="https")return e.consume(d),c}return n(d)}function c(d){return d===47?(e.consume(d),s?l:(s=!0,c)):n(d)}function l(d){return d===null||kl(d)||Ke(d)||Kr(d)||yl(d)?n(d):e.attempt(fy,e.attempt(my,u),n)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function T5(e,t,n){let i=0;return r;function r(a){return(a===87||a===119)&&i<3?(i++,e.consume(a),r):a===46&&i===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function k5(e,t,n){let i,r,s;return a;function a(l){return l===46||l===95?e.check(Oy,c,o)(l):l===null||Ke(l)||Kr(l)||l!==45&&yl(l)?c(l):(s=!0,e.consume(l),a)}function o(l){return l===95?i=!0:(r=i,i=void 0),e.consume(l),a}function c(l){return r||i||!s?n(l):t(l)}}function y5(e,t){let n=0,i=0;return r;function r(a){return a===40?(n++,e.consume(a),r):a===41&&i<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(Oy,t,s)(a):a===null||Ke(a)||Kr(a)?t(a):(e.consume(a),r)}function s(a){return a===41&&i++,e.consume(a),r}}function S5(e,t,n){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),i):o===38?(e.consume(o),s):o===93?(e.consume(o),r):o===60||o===null||Ke(o)||Kr(o)?t(o):n(o)}function r(o){return o===null||o===40||o===91||Ke(o)||Kr(o)?t(o):i(o)}function s(o){return tn(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),i):tn(o)?(e.consume(o),a):n(o)}}function _5(e,t,n){return i;function i(s){return e.consume(s),r}function r(s){return Gt(s)?n(s):t(s)}}function by(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ke(e)}function Ty(e){return!tn(e)}function ky(e){return!(e===47||Tp(e))}function Tp(e){return e===43||e===45||e===46||e===95||Gt(e)}function kp(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Ys(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Gt(e.charCodeAt(n+1))&&Gt(e.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),r=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+r+1,a=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}const yp={name:"attention",resolveAll:w5,tokenize:E5};function w5(e,t){let n=-1,i,r,s,a,o,c,l,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[i][1].end},h={...e[n][1].start};yy(d,-c),yy(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:d,end:{...e[i][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},r={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[i][1].end={...a.start},e[n][1].start={...o.end},l=[],e[i][1].end.offset-e[i][1].start.offset&&(l=zt(l,[["enter",e[i][1],t],["exit",e[i][1],t]])),l=zt(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",s,t]]),l=zt(l,Ws(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),l=zt(l,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,l=zt(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,Bt(e,i-1,n-i+3,l),n=i+l.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function E5(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Gs(i);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const l=e.exit("attentionSequence"),u=Gs(c),d=!u||u===2&&r||n.includes(c),h=!r||r===2&&u||n.includes(i);return l._open=!!(s===42?d:d&&(r||!h)),l._close=!!(s===42?h:h&&(u||!d)),t(c)}}function yy(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const x5={name:"autolink",tokenize:C5};function C5(e,t,n){let i=0;return r;function r(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return tn(p)?(e.consume(p),a):p===64?n(p):l(p)}function a(p){return p===43||p===45||p===46||Gt(p)?(i=1,o(p)):l(p)}function o(p){return p===58?(e.consume(p),i=0,c):(p===43||p===45||p===46||Gt(p))&&i++<32?(e.consume(p),o):(i=0,l(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||kl(p)?n(p):(e.consume(p),c)}function l(p){return p===64?(e.consume(p),u):iL(p)?(e.consume(p),l):n(p)}function u(p){return Gt(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),i=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Gt(p))&&i++<63){const m=p===45?h:d;return e.consume(p),m}return n(p)}}function Le(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Re(c)?(e.enter(n),o(c)):t(c)}function o(c){return Re(c)&&s++<r?(e.consume(c),o):(e.exit(n),t(c))}}const Oo={partial:!0,tokenize:P5};function P5(e,t,n){return i;function i(s){return Re(s)?Le(e,r,"linePrefix")(s):r(s)}function r(s){return s===null||de(s)?t(s):n(s)}}const Sy={continuation:{tokenize:R5},exit:I5,name:"blockQuote",tokenize:A5};function A5(e,t,n){const i=this;return r;function r(a){if(a===62){const o=i.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Re(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function R5(e,t,n){const i=this;return r;function r(a){return Re(a)?Le(e,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Sy,t,n)(a)}}function I5(e){e.exit("blockQuote")}const _y={name:"characterEscape",tokenize:Q5};function Q5(e,t,n){return i;function i(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),r}function r(s){return sL(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const wy={name:"characterReference",tokenize:N5};function N5(e,t,n){const i=this;let r=0,s,a;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),c}function c(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,a=Gt,u(d))}function l(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=rL,u):(e.enter("characterReferenceValue"),s=7,a=lp,u(d))}function u(d){if(d===59&&r){const h=e.exit("characterReferenceValue");return a===Gt&&!vp(i.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&r++<s?(e.consume(d),u):n(d)}}const Ey={partial:!0,tokenize:M5},xy={concrete:!0,name:"codeFenced",tokenize:D5};function D5(e,t,n){const i=this,r={partial:!0,tokenize:y};let s=0,a=0,o;return c;function c(_){return l(_)}function l(_){const x=i.events[i.events.length-1];return s=x&&x[1].type==="linePrefix"?x[2].sliceSerialize(x[1],!0).length:0,o=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(_)}function u(_){return _===o?(a++,e.consume(_),u):a<3?n(_):(e.exit("codeFencedFenceSequence"),Re(_)?Le(e,d,"whitespace")(_):d(_))}function d(_){return _===null||de(_)?(e.exit("codeFencedFence"),i.interrupt?t(_):e.check(Ey,O,k)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||de(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):Re(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Le(e,p,"whitespace")(_)):_===96&&_===o?n(_):(e.consume(_),h)}function p(_){return _===null||de(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||de(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===o?n(_):(e.consume(_),m)}function O(_){return e.attempt(r,k,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return s>0&&Re(_)?Le(e,T,"linePrefix",s+1)(_):T(_)}function T(_){return _===null||de(_)?e.check(Ey,O,k)(_):(e.enter("codeFlowValue"),S(_))}function S(_){return _===null||de(_)?(e.exit("codeFlowValue"),T(_)):(e.consume(_),S)}function k(_){return e.exit("codeFenced"),t(_)}function y(_,x,N){let D=0;return E;function E(F){return _.enter("lineEnding"),_.consume(F),_.exit("lineEnding"),M}function M(F){return _.enter("codeFencedFence"),Re(F)?Le(_,L,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):L(F)}function L(F){return F===o?(_.enter("codeFencedFenceSequence"),z(F)):N(F)}function z(F){return F===o?(D++,_.consume(F),z):D>=a?(_.exit("codeFencedFenceSequence"),Re(F)?Le(_,X,"whitespace")(F):X(F)):N(F)}function X(F){return F===null||de(F)?(_.exit("codeFencedFence"),x(F)):N(F)}}}function M5(e,t,n){const i=this;return r;function r(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}const Sp={name:"codeIndented",tokenize:$5},L5={partial:!0,tokenize:U5};function $5(e,t,n){const i=this;return r;function r(l){return e.enter("codeIndented"),Le(e,s,"linePrefix",5)(l)}function s(l){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(l):n(l)}function a(l){return l===null?c(l):de(l)?e.attempt(L5,a,c)(l):(e.enter("codeFlowValue"),o(l))}function o(l){return l===null||de(l)?(e.exit("codeFlowValue"),a(l)):(e.consume(l),o)}function c(l){return e.exit("codeIndented"),t(l)}}function U5(e,t,n){const i=this;return r;function r(a){return i.parser.lazy[i.now().line]?n(a):de(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r):Le(e,s,"linePrefix",5)(a)}function s(a){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):de(a)?r(a):n(a)}}const q5={name:"codeText",previous:F5,resolve:X5,tokenize:B5};function X5(e){let t=e.length-4,n=3,i,r;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)r===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(r=i):(i===t||e[i][1].type==="lineEnding")&&(e[r][1].type="codeTextData",i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return e}function F5(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function B5(e,t,n){let i=0,r,s;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),i++,o):(e.exit("codeTextSequence"),c(d))}function c(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),c):d===96?(s=e.enter("codeTextSequence"),r=0,u(d)):de(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("codeTextData"),l(d))}function l(d){return d===null||d===32||d===96||de(d)?(e.exit("codeTextData"),c(d)):(e.consume(d),l)}function u(d){return d===96?(e.consume(d),r++,u):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",l(d))}}class z5{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const r=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&go(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),go(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),go(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);go(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);go(this.left,n.reverse())}}}function go(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Cy(e){const t={};let n=-1,i,r,s,a,o,c,l;const u=new z5(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(i=u.get(n),n&&i[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(c=i[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,Z5(u,n)),n=t[n],l=!0);else if(i[1]._container){for(s=n,r=void 0;s--;)if(a=u.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(r&&(u.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;r&&(i[1].end={...u.get(r)[1].start},o=u.slice(r,n),o.unshift(i),u.splice(r,n-r+1,o))}}return Bt(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function Z5(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const s=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],l={};let u,d,h=-1,p=n,m=0,O=0;const b=[O];for(;p;){for(;e.get(++r)[1]!==p;);s.push(r),p._tokenizer||(u=i.sliceStream(p),p.next||u.push(null),d&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(O=h+1,b.push(O),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),h=b.length;h--;){const v=o.slice(b[h],b[h+1]),T=s.pop();c.push([T,T+v.length-1]),e.splice(T,2,v)}for(c.reverse(),h=-1;++h<c.length;)l[m+c[h][0]]=m+c[h][1],m+=c[h][1]-c[h][0]-1;return l}const j5={resolve:W5,tokenize:G5},V5={partial:!0,tokenize:Y5};function W5(e){return Cy(e),e}function G5(e,t){let n;return i;function i(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?s(o):de(o)?e.check(V5,a,s)(o):(e.consume(o),r)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function Y5(e,t,n){const i=this;return r;function r(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Le(e,s,"linePrefix")}function s(a){if(a===null||de(a))return n(a);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,n,t)(a)}}function Py(e,t,n,i,r,s,a,o,c){const l=c||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(e.enter(i),e.enter(r),e.enter(s),e.consume(v),e.exit(s),h):v===null||v===32||v===41||kl(v)?n(v):(e.enter(i),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),O(v))}function h(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(r),e.exit(i),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||de(v)?n(v):(e.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function O(v){return!u&&(v===null||v===41||Ke(v))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(i),t(v)):u<l&&v===40?(e.consume(v),u++,O):v===41?(e.consume(v),u--,O):v===null||v===32||v===40||kl(v)?n(v):(e.consume(v),v===92?b:O)}function b(v){return v===40||v===41||v===92?(e.consume(v),O):O(v)}}function Ay(e,t,n,i,r,s){const a=this;let o=0,c;return l;function l(p){return e.enter(i),e.enter(r),e.consume(p),e.exit(r),e.enter(s),u}function u(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(r),e.consume(p),e.exit(r),e.exit(i),t):de(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||de(p)||o++>999?(e.exit("chunkString"),u(p)):(e.consume(p),c||(c=!Re(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,d):d(p)}}function Ry(e,t,n,i,r,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(i),e.enter(r),e.consume(h),e.exit(r),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(r),e.consume(h),e.exit(r),e.exit(i),t):(e.enter(s),l(h))}function l(h){return h===a?(e.exit(s),c(a)):h===null?n(h):de(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Le(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===a||h===null||de(h)?(e.exit("chunkString"),l(h)):(e.consume(h),h===92?d:u)}function d(h){return h===a||h===92?(e.consume(h),u):u(h)}}function vo(e,t){let n;return i;function i(r){return de(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):Re(r)?Le(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}const H5={name:"definition",tokenize:J5},K5={partial:!0,tokenize:e3};function J5(e,t,n){const i=this;let r;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return Ay.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return r=Wn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Ke(p)?vo(e,l)(p):l(p)}function l(p){return Py(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(K5,d,d)(p)}function d(p){return Re(p)?Le(e,h,"whitespace")(p):h(p)}function h(p){return p===null||de(p)?(e.exit("definition"),i.parser.defined.push(r),t(p)):n(p)}}function e3(e,t,n){return i;function i(o){return Ke(o)?vo(e,r)(o):n(o)}function r(o){return Ry(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Re(o)?Le(e,a,"whitespace")(o):a(o)}function a(o){return o===null||de(o)?t(o):n(o)}}const t3={name:"hardBreakEscape",tokenize:n3};function n3(e,t,n){return i;function i(s){return e.enter("hardBreakEscape"),e.consume(s),r}function r(s){return de(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const i3={name:"headingAtx",resolve:r3,tokenize:s3};function r3(e,t){let n=e.length-2,i=3,r,s;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},s={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Bt(e,i,n-i+1,[["enter",r,t],["enter",s,t],["exit",s,t],["exit",r,t]])),e}function s3(e,t,n){let i=0;return r;function r(u){return e.enter("atxHeading"),s(u)}function s(u){return e.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&i++<6?(e.consume(u),a):u===null||Ke(u)?(e.exit("atxHeadingSequence"),o(u)):n(u)}function o(u){return u===35?(e.enter("atxHeadingSequence"),c(u)):u===null||de(u)?(e.exit("atxHeading"),t(u)):Re(u)?Le(e,o,"whitespace")(u):(e.enter("atxHeadingText"),l(u))}function c(u){return u===35?(e.consume(u),c):(e.exit("atxHeadingSequence"),o(u))}function l(u){return u===null||u===35||Ke(u)?(e.exit("atxHeadingText"),o(u)):(e.consume(u),l)}}const a3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Iy=["pre","script","style","textarea"],o3={concrete:!0,name:"htmlFlow",resolveTo:u3,tokenize:d3},c3={partial:!0,tokenize:p3},l3={partial:!0,tokenize:h3};function u3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function d3(e,t,n){const i=this;let r,s,a,o,c;return l;function l(A){return u(A)}function u(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),d}function d(A){return A===33?(e.consume(A),h):A===47?(e.consume(A),s=!0,O):A===63?(e.consume(A),r=3,i.interrupt?t:I):tn(A)?(e.consume(A),a=String.fromCharCode(A),b):n(A)}function h(A){return A===45?(e.consume(A),r=2,p):A===91?(e.consume(A),r=5,o=0,m):tn(A)?(e.consume(A),r=4,i.interrupt?t:I):n(A)}function p(A){return A===45?(e.consume(A),i.interrupt?t:I):n(A)}function m(A){const be="CDATA[";return A===be.charCodeAt(o++)?(e.consume(A),o===be.length?i.interrupt?t:L:m):n(A)}function O(A){return tn(A)?(e.consume(A),a=String.fromCharCode(A),b):n(A)}function b(A){if(A===null||A===47||A===62||Ke(A)){const be=A===47,Ge=a.toLowerCase();return!be&&!s&&Iy.includes(Ge)?(r=1,i.interrupt?t(A):L(A)):a3.includes(a.toLowerCase())?(r=6,be?(e.consume(A),v):i.interrupt?t(A):L(A)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(A):s?T(A):S(A))}return A===45||Gt(A)?(e.consume(A),a+=String.fromCharCode(A),b):n(A)}function v(A){return A===62?(e.consume(A),i.interrupt?t:L):n(A)}function T(A){return Re(A)?(e.consume(A),T):E(A)}function S(A){return A===47?(e.consume(A),E):A===58||A===95||tn(A)?(e.consume(A),k):Re(A)?(e.consume(A),S):E(A)}function k(A){return A===45||A===46||A===58||A===95||Gt(A)?(e.consume(A),k):y(A)}function y(A){return A===61?(e.consume(A),_):Re(A)?(e.consume(A),y):S(A)}function _(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),c=A,x):Re(A)?(e.consume(A),_):N(A)}function x(A){return A===c?(e.consume(A),c=null,D):A===null||de(A)?n(A):(e.consume(A),x)}function N(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Ke(A)?y(A):(e.consume(A),N)}function D(A){return A===47||A===62||Re(A)?S(A):n(A)}function E(A){return A===62?(e.consume(A),M):n(A)}function M(A){return A===null||de(A)?L(A):Re(A)?(e.consume(A),M):n(A)}function L(A){return A===45&&r===2?(e.consume(A),K):A===60&&r===1?(e.consume(A),se):A===62&&r===4?(e.consume(A),Ne):A===63&&r===3?(e.consume(A),I):A===93&&r===5?(e.consume(A),fe):de(A)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(c3,De,z)(A)):A===null||de(A)?(e.exit("htmlFlowData"),z(A)):(e.consume(A),L)}function z(A){return e.check(l3,X,De)(A)}function X(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),F}function F(A){return A===null||de(A)?z(A):(e.enter("htmlFlowData"),L(A))}function K(A){return A===45?(e.consume(A),I):L(A)}function se(A){return A===47?(e.consume(A),a="",j):L(A)}function j(A){if(A===62){const be=a.toLowerCase();return Iy.includes(be)?(e.consume(A),Ne):L(A)}return tn(A)&&a.length<8?(e.consume(A),a+=String.fromCharCode(A),j):L(A)}function fe(A){return A===93?(e.consume(A),I):L(A)}function I(A){return A===62?(e.consume(A),Ne):A===45&&r===2?(e.consume(A),I):L(A)}function Ne(A){return A===null||de(A)?(e.exit("htmlFlowData"),De(A)):(e.consume(A),Ne)}function De(A){return e.exit("htmlFlow"),t(A)}}function h3(e,t,n){const i=this;return r;function r(a){return de(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}function p3(e,t,n){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Oo,t,n)}}const f3={name:"htmlText",tokenize:m3};function m3(e,t,n){const i=this;let r,s,a;return o;function o(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),c}function c(I){return I===33?(e.consume(I),l):I===47?(e.consume(I),y):I===63?(e.consume(I),S):tn(I)?(e.consume(I),N):n(I)}function l(I){return I===45?(e.consume(I),u):I===91?(e.consume(I),s=0,m):tn(I)?(e.consume(I),T):n(I)}function u(I){return I===45?(e.consume(I),p):n(I)}function d(I){return I===null?n(I):I===45?(e.consume(I),h):de(I)?(a=d,se(I)):(e.consume(I),d)}function h(I){return I===45?(e.consume(I),p):d(I)}function p(I){return I===62?K(I):I===45?h(I):d(I)}function m(I){const Ne="CDATA[";return I===Ne.charCodeAt(s++)?(e.consume(I),s===Ne.length?O:m):n(I)}function O(I){return I===null?n(I):I===93?(e.consume(I),b):de(I)?(a=O,se(I)):(e.consume(I),O)}function b(I){return I===93?(e.consume(I),v):O(I)}function v(I){return I===62?K(I):I===93?(e.consume(I),v):O(I)}function T(I){return I===null||I===62?K(I):de(I)?(a=T,se(I)):(e.consume(I),T)}function S(I){return I===null?n(I):I===63?(e.consume(I),k):de(I)?(a=S,se(I)):(e.consume(I),S)}function k(I){return I===62?K(I):S(I)}function y(I){return tn(I)?(e.consume(I),_):n(I)}function _(I){return I===45||Gt(I)?(e.consume(I),_):x(I)}function x(I){return de(I)?(a=x,se(I)):Re(I)?(e.consume(I),x):K(I)}function N(I){return I===45||Gt(I)?(e.consume(I),N):I===47||I===62||Ke(I)?D(I):n(I)}function D(I){return I===47?(e.consume(I),K):I===58||I===95||tn(I)?(e.consume(I),E):de(I)?(a=D,se(I)):Re(I)?(e.consume(I),D):K(I)}function E(I){return I===45||I===46||I===58||I===95||Gt(I)?(e.consume(I),E):M(I)}function M(I){return I===61?(e.consume(I),L):de(I)?(a=M,se(I)):Re(I)?(e.consume(I),M):D(I)}function L(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),r=I,z):de(I)?(a=L,se(I)):Re(I)?(e.consume(I),L):(e.consume(I),X)}function z(I){return I===r?(e.consume(I),r=void 0,F):I===null?n(I):de(I)?(a=z,se(I)):(e.consume(I),z)}function X(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Ke(I)?D(I):(e.consume(I),X)}function F(I){return I===47||I===62||Ke(I)?D(I):n(I)}function K(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function se(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),j}function j(I){return Re(I)?Le(e,fe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):fe(I)}function fe(I){return e.enter("htmlTextData"),a(I)}}const _p={name:"labelEnd",resolveAll:b3,resolveTo:T3,tokenize:k3},O3={tokenize:y3},g3={tokenize:S3},v3={tokenize:_3};function b3(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return e.length!==n.length&&Bt(e,0,e.length,n),e}function T3(e,t){let n=e.length,i=0,r,s,a,o;for(;n--;)if(r=e[n][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},l={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},u={type:"labelText",start:{...e[s+i+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",l,t]],o=zt(o,e.slice(s+1,s+i+3)),o=zt(o,[["enter",u,t]]),o=zt(o,Ws(t.parser.constructs.insideSpan.null,e.slice(s+i+4,a-3),t)),o=zt(o,[["exit",u,t],e[a-2],e[a-1],["exit",l,t]]),o=zt(o,e.slice(a+1)),o=zt(o,[["exit",c,t]]),Bt(e,s,e.length,o),e}function k3(e,t,n){const i=this;let r=i.events.length,s,a;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return o;function o(h){return s?s._inactive?d(h):(a=i.parser.defined.includes(Wn(i.sliceSerialize({start:s.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(O3,u,a?u:d)(h):h===91?e.attempt(g3,u,a?l:d)(h):a?u(h):d(h)}function l(h){return e.attempt(v3,u,d)(h)}function u(h){return t(h)}function d(h){return s._balanced=!0,n(h)}}function y3(e,t,n){return i;function i(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),r}function r(d){return Ke(d)?vo(e,s)(d):s(d)}function s(d){return d===41?u(d):Py(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Ke(d)?vo(e,c)(d):u(d)}function o(d){return n(d)}function c(d){return d===34||d===39||d===40?Ry(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function l(d){return Ke(d)?vo(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function S3(e,t,n){const i=this;return r;function r(o){return Ay.call(i,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return i.parser.defined.includes(Wn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function _3(e,t,n){return i;function i(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),r}function r(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const w3={name:"labelStartImage",resolveAll:_p.resolveAll,tokenize:E3};function E3(e,t,n){const i=this;return r;function r(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):t(o)}}const x3={name:"labelStartLink",resolveAll:_p.resolveAll,tokenize:C3};function C3(e,t,n){const i=this;return r;function r(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const wp={name:"lineEnding",tokenize:P3};function P3(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Le(e,t,"linePrefix")}}const wl={name:"thematicBreak",tokenize:A3};function A3(e,t,n){let i=0,r;return s;function s(l){return e.enter("thematicBreak"),a(l)}function a(l){return r=l,o(l)}function o(l){return l===r?(e.enter("thematicBreakSequence"),c(l)):i>=3&&(l===null||de(l))?(e.exit("thematicBreak"),t(l)):n(l)}function c(l){return l===r?(e.consume(l),i++,c):(e.exit("thematicBreakSequence"),Re(l)?Le(e,o,"whitespace")(l):o(l))}}const dn={continuation:{tokenize:N3},exit:M3,name:"list",tokenize:Q3},R3={partial:!0,tokenize:L3},I3={partial:!0,tokenize:D3};function Q3(e,t,n){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return o;function o(p){const m=i.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!i.containerState.marker||p===i.containerState.marker:lp(p)){if(i.containerState.type||(i.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(wl,n,l)(p):l(p);if(!i.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return lp(p)&&++a<10?(e.consume(p),c):(!i.interrupt||a<2)&&(i.containerState.marker?p===i.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):n(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||p,e.check(Oo,i.interrupt?n:u,e.attempt(R3,h,d))}function u(p){return i.containerState.initialBlankLine=!0,s++,h(p)}function d(p){return Re(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return i.containerState.size=s+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function N3(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Oo,r,s);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Le(e,t,"listItemIndent",i.containerState.size+1)(o)}function s(o){return i.containerState.furtherBlankLines||!Re(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(I3,t,a)(o))}function a(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Le(e,e.attempt(dn,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function D3(e,t,n){const i=this;return Le(e,r,"listItemIndent",i.containerState.size+1);function r(s){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(s):n(s)}}function M3(e){e.exit(this.containerState.type)}function L3(e,t,n){const i=this;return Le(e,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const a=i.events[i.events.length-1];return!Re(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Qy={name:"setextUnderline",resolveTo:$3,tokenize:U3};function $3(e,t){let n=e.length,i,r,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(r=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",a,t]),e.splice(s+1,0,["exit",e[i][1],t]),e[i][1].end={...e[s][1].end}):e[i][1]=a,e.push(["exit",a,t]),e}function U3(e,t,n){const i=this;let r;return s;function s(l){let u=i.events.length,d;for(;u--;)if(i.events[u][1].type!=="lineEnding"&&i.events[u][1].type!=="linePrefix"&&i.events[u][1].type!=="content"){d=i.events[u][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||d)?(e.enter("setextHeadingLine"),r=l,a(l)):n(l)}function a(l){return e.enter("setextHeadingLineSequence"),o(l)}function o(l){return l===r?(e.consume(l),o):(e.exit("setextHeadingLineSequence"),Re(l)?Le(e,c,"lineSuffix")(l):c(l))}function c(l){return l===null||de(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const q3={tokenize:W3,partial:!0};function X3(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Z3,continuation:{tokenize:j3},exit:V3}},text:{91:{name:"gfmFootnoteCall",tokenize:z3},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:F3,resolveTo:B3}}}}function F3(e,t,n){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const c=i.events[r][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return n(c);const l=Wn(i.sliceSerialize({start:a.end,end:i.now()}));return l.codePointAt(0)!==94||!s.includes(l.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function B3(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...o),e}function z3(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,a;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),c}function c(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(d){if(s>999||d===93&&!a||d===null||d===91||Ke(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return r.includes(Wn(i.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ke(d)||(a=!0),s++,e.consume(d),d===92?u:l}function u(d){return d===91||d===92||d===93?(e.consume(d),s++,l):l(d)}}function Z3(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,a=0,o;return c;function c(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(m)}function u(m){if(a>999||m===93&&!o||m===null||m===91||Ke(m))return n(m);if(m===93){e.exit("chunkString");const O=e.exit("gfmFootnoteDefinitionLabelString");return s=Wn(i.sliceSerialize(O)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Ke(m)||(o=!0),a++,e.consume(m),m===92?d:u}function d(m){return m===91||m===92||m===93?(e.consume(m),a++,u):u(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),r.includes(s)||r.push(s),Le(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function j3(e,t,n){return e.check(Oo,t,e.attempt(q3,t,n))}function V3(e){e.exit("gfmFootnoteDefinition")}function W3(e,t,n){const i=this;return Le(e,r,"gfmFootnoteDefinitionIndent",5);function r(s){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function G3(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:r,resolveAll:i};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(s,a){let o=-1;for(;++o<s.length;)if(s[o][0]==="enter"&&s[o][1].type==="strikethroughSequenceTemporary"&&s[o][1]._close){let c=o;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[o][1].end.offset-s[o][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[o][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const l={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[o][1].end)},u={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[o][1].start)},d=[["enter",l,a],["enter",s[c][1],a],["exit",s[c][1],a],["enter",u,a]],h=a.parser.constructs.insideSpan.null;h&&Bt(d,d.length,0,Ws(h,s.slice(c+1,o),a)),Bt(d,d.length,0,[["exit",u,a],["enter",s[o][1],a],["exit",s[o][1],a],["exit",l,a]]),Bt(s,c-1,o-c+3,d),o=c+d.length-2;break}}for(o=-1;++o<s.length;)s[o][1].type==="strikethroughSequenceTemporary"&&(s[o][1].type="data");return s}function r(s,a,o){const c=this.previous,l=this.events;let u=0;return d;function d(p){return c===126&&l[l.length-1][1].type!=="characterEscape"?o(p):(s.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const m=Gs(c);if(p===126)return u>1?o(p):(s.consume(p),u++,h);if(u<2&&!t)return o(p);const O=s.exit("strikethroughSequenceTemporary"),b=Gs(p);return O._open=!b||b===2&&!!m,O._close=!m||m===2&&!!b,a(p)}}}class Y3{constructor(){this.map=[]}add(t,n,i){H3(this,t,n,i)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];i.push(t.slice()),t.length=0;let r=i.pop();for(;r;){for(const s of r)t.push(s);r=i.pop()}this.map.length=0}}function H3(e,t,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<e.map.length;){if(e.map[r][0]===t){e.map[r][1]+=n,e.map[r][2].push(...i);return}r+=1}e.map.push([t,n,i])}}function K3(e,t){let n=!1;const i=[];for(;t<e.length;){const r=e[t];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return i}function J3(){return{flow:{null:{name:"table",tokenize:eU,resolveAll:tU}}}}function eU(e,t,n){const i=this;let r=0,s=0,a;return o;function o(E){let M=i.events.length-1;for(;M>-1;){const X=i.events[M][1].type;if(X==="lineEnding"||X==="linePrefix")M--;else break}const L=M>-1?i.events[M][1].type:null,z=L==="tableHead"||L==="tableRow"?_:c;return z===_&&i.parser.lazy[i.now().line]?n(E):z(E)}function c(E){return e.enter("tableHead"),e.enter("tableRow"),l(E)}function l(E){return E===124||(a=!0,s+=1),u(E)}function u(E){return E===null?n(E):de(E)?s>1?(s=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),p):n(E):Re(E)?Le(e,u,"whitespace")(E):(s+=1,a&&(a=!1,r+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),a=!0,u):(e.enter("data"),d(E)))}function d(E){return E===null||E===124||Ke(E)?(e.exit("data"),u(E)):(e.consume(E),E===92?h:d)}function h(E){return E===92||E===124?(e.consume(E),d):d(E)}function p(E){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(E):(e.enter("tableDelimiterRow"),a=!1,Re(E)?Le(e,m,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):m(E))}function m(E){return E===45||E===58?b(E):E===124?(a=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),O):y(E)}function O(E){return Re(E)?Le(e,b,"whitespace")(E):b(E)}function b(E){return E===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),v):E===45?(s+=1,v(E)):E===null||de(E)?k(E):y(E)}function v(E){return E===45?(e.enter("tableDelimiterFiller"),T(E)):y(E)}function T(E){return E===45?(e.consume(E),T):E===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(E))}function S(E){return Re(E)?Le(e,k,"whitespace")(E):k(E)}function k(E){return E===124?m(E):E===null||de(E)?!a||r!==s?y(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):y(E)}function y(E){return n(E)}function _(E){return e.enter("tableRow"),x(E)}function x(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),x):E===null||de(E)?(e.exit("tableRow"),t(E)):Re(E)?Le(e,x,"whitespace")(E):(e.enter("data"),N(E))}function N(E){return E===null||E===124||Ke(E)?(e.exit("data"),x(E)):(e.consume(E),E===92?D:N)}function D(E){return E===92||E===124?(e.consume(E),N):N(E)}}function tU(e,t){let n=-1,i=!0,r=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,l,u,d;const h=new Y3;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(o=!1,c!==0&&(Ny(h,t,c,l,u),u=void 0,c=0),l={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",l,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(i=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])),r=m.type==="tableDelimiterRow"?2:u?3:1):r&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=El(h,t,s,r,void 0,d),s=[0,0,0,0]),a[2]=n)):m.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(a[0]=a[1],d=El(h,t,s,r,void 0,d)),s=a,a=[s[1],n,0,0])):m.type==="tableHead"?(o=!0,c=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(c=n,s[1]!==0?(a[0]=a[1],d=El(h,t,s,r,n,d)):a[1]!==0&&(d=El(h,t,a,r,n,d)),r=0):r&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&Ny(h,t,c,l,u),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=K3(t.events,n))}return e}function El(e,t,n,i,r,s){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},Hs(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=Hs(t.events,n[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const l=Hs(t.events,n[2]),u=Hs(t.events,n[3]),d={type:o,start:Object.assign({},l),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",d,t]]),i!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,O=n[3]-n[2]-1;e.add(m,O,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return r!==void 0&&(s.end=Object.assign({},Hs(t.events,r)),e.add(r,0,[["exit",s,t]]),s=void 0),s}function Ny(e,t,n,i,r){const s=[],a=Hs(t.events,n);r&&(r.end=Object.assign({},a),s.push(["exit",r,t])),i.end=Object.assign({},a),s.push(["exit",i,t]),e.add(n+1,0,s)}function Hs(e,t){const n=e[t],i=n[0]==="enter"?"start":"end";return n[1][i]}const nU={name:"tasklistCheck",tokenize:rU};function iU(){return{text:{91:nU}}}function rU(e,t,n){const i=this;return r;function r(c){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Ke(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(c)}function o(c){return de(c)?t(c):Re(c)?e.check({tokenize:sU},t,n)(c):n(c)}}function sU(e,t,n){return Le(e,i,"whitespace");function i(r){return r===null?n(r):t(r)}}function aU(e){return py([O5(),X3(),G3(e),J3(),iU()])}const oU={};function cU(e){const t=this,n=e||oU,i=t.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(aU(n)),s.push(u5()),a.push(d5(n))}const Dy=1024;let lU=0;class Ep{constructor(t,n){this.from=t,this.to=n}}class je{constructor(t={}){this.id=lU++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=nn.match(t)),n=>{let i=t(n);return i===void 0?null:[this,i]}}}je.closedBy=new je({deserialize:e=>e.split(" ")}),je.openedBy=new je({deserialize:e=>e.split(" ")}),je.group=new je({deserialize:e=>e.split(" ")}),je.isolate=new je({deserialize:e=>{if(e&&e!="rtl"&&e!="ltr"&&e!="auto")throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),je.contextHash=new je({perNode:!0}),je.lookAhead=new je({perNode:!0}),je.mounted=new je({perNode:!0});class xl{constructor(t,n,i){this.tree=t,this.overlay=n,this.parser=i}static get(t){return t&&t.props&&t.props[je.mounted.id]}}const uU=Object.create(null);class nn{constructor(t,n,i,r=0){this.name=t,this.props=n,this.id=i,this.flags=r}static define(t){let n=t.props&&t.props.length?Object.create(null):uU,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),r=new nn(t.name||"",n,t.id,i);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return r}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let n=this.prop(je.group);return n?n.indexOf(t)>-1:!1}return this.id==t}static match(t){let n=Object.create(null);for(let i in t)for(let r of i.split(" "))n[r]=t[i];return i=>{for(let r=i.prop(je.group),s=-1;s<(r?r.length:0);s++){let a=n[s<0?i.name:r[s]];if(a)return a}}}}nn.none=new nn("",Object.create(null),0,8);class bo{constructor(t){this.types=t;for(let n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let n=[];for(let i of this.types){let r=null;for(let s of t){let a=s(i);if(a){r||(r=Object.assign({},i.props));let o=a[1],c=a[0];c.combine&&c.id in r&&(o=c.combine(r[c.id],o)),r[c.id]=o}}n.push(r?new nn(i.name,r,i.id,i.flags):i)}return new bo(n)}}const Cl=new WeakMap,My=new WeakMap;var Zt;(function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"})(Zt||(Zt={}));class kt{constructor(t,n,i,r,s){if(this.type=t,this.children=n,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,o]of s)this.props[typeof a=="number"?a:a.id]=o}}toString(){let t=xl.get(this);if(t&&!t.overlay)return t.tree.toString();let n="";for(let i of this.children){let r=i.toString();r&&(n&&(n+=","),n+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(t=0){return new Pp(this.topNode,t)}cursorAt(t,n=0,i=0){let r=Cl.get(this)||this.topNode,s=new Pp(r);return s.moveTo(t,n),Cl.set(this,s._tree),s}get topNode(){return new Ln(this,0,0,null)}resolve(t,n=0){let i=To(Cl.get(this)||this.topNode,t,n,!1);return Cl.set(this,i),i}resolveInner(t,n=0){let i=To(My.get(this)||this.topNode,t,n,!0);return My.set(this,i),i}resolveStack(t,n=0){return pU(this,t,n)}iterate(t){let{enter:n,leave:i,from:r=0,to:s=this.length}=t,a=t.mode||0,o=(a&Zt.IncludeAnonymous)>0;for(let c=this.cursor(a|Zt.IncludeAnonymous);;){let l=!1;if(c.from<=s&&c.to>=r&&(!o&&c.type.isAnonymous||n(c)!==!1)){if(c.firstChild())continue;l=!0}for(;l&&i&&(o||!c.type.isAnonymous)&&i(c),!c.nextSibling();){if(!c.parent())return;l=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let n in this.props)t.push([+n,this.props[n]]);return t}balance(t={}){return this.children.length<=8?this:Rp(nn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,r)=>new kt(this.type,n,i,r,this.propValues),t.makeTree||((n,i,r)=>new kt(nn.none,n,i,r)))}static build(t){return fU(t)}}kt.empty=new kt(nn.none,[],[],0);class xp{constructor(t,n){this.buffer=t,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new xp(this.buffer,this.index)}}class Tr{constructor(t,n,i){this.buffer=t,this.length=n,this.set=i}get type(){return nn.none}toString(){let t=[];for(let n=0;n<this.buffer.length;)t.push(this.childString(n)),n=this.buffer[n+3];return t.join(",")}childString(t){let n=this.buffer[t],i=this.buffer[t+3],r=this.set.types[n],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let a=[];for(;t<i;)a.push(this.childString(t)),t=this.buffer[t+3];return s+"("+a.join(",")+")"}findChild(t,n,i,r,s){let{buffer:a}=this,o=-1;for(let c=t;c!=n&&!(Ly(s,r,a[c+1],a[c+2])&&(o=c,i>0));c=a[c+3]);return o}slice(t,n,i){let r=this.buffer,s=new Uint16Array(n-t),a=0;for(let o=t,c=0;o<n;){s[c++]=r[o++],s[c++]=r[o++]-i;let l=s[c++]=r[o++]-i;s[c++]=r[o++]-t,a=Math.max(a,l)}return new Tr(s,a,this.set)}}function Ly(e,t,n,i){switch(e){case-2:return n<t;case-1:return i>=t&&n<t;case 0:return n<t&&i>t;case 1:return n<=t&&i>t;case 2:return i>t;case 4:return!0}}function To(e,t,n,i){for(var r;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let a=!i&&e instanceof Ln&&e.index<0?null:e.parent;if(!a)return e;e=a}let s=i?0:Zt.IgnoreOverlays;if(i)for(let a=e,o=a.parent;o;a=o,o=a.parent)a instanceof Ln&&a.index<0&&((r=o.enter(t,n,s))===null||r===void 0?void 0:r.from)!=a.from&&(e=o);for(;;){let a=e.enter(t,n,s);if(!a)return e;e=a}}class $y{cursor(t=0){return new Pp(this,t)}getChild(t,n=null,i=null){let r=Uy(this,t,n,i);return r.length?r[0]:null}getChildren(t,n=null,i=null){return Uy(this,t,n,i)}resolve(t,n=0){return To(this,t,n,!1)}resolveInner(t,n=0){return To(this,t,n,!0)}matchContext(t){return Cp(this.parent,t)}enterUnfinishedNodesBefore(t){let n=this.childBefore(t),i=this;for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(i=n,n=r.prevSibling):n=r}return i}get node(){return this}get next(){return this.parent}}class Ln extends $y{constructor(t,n,i,r){super(),this._tree=t,this.from=n,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,n,i,r,s=0){for(let a=this;;){for(let{children:o,positions:c}=a._tree,l=n>0?o.length:-1;t!=l;t+=n){let u=o[t],d=c[t]+a.from;if(Ly(r,i,d,d+u.length)){if(u instanceof Tr){if(s&Zt.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,n,i-d,r);if(h>-1)return new kr(new dU(a,u,t,d),null,h)}else if(s&Zt.IncludeAnonymous||!u.type.isAnonymous||Ap(u)){let h;if(!(s&Zt.IgnoreMounts)&&(h=xl.get(u))&&!h.overlay)return new Ln(h.tree,d,t,a);let p=new Ln(u,d,t,a);return s&Zt.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?u.children.length-1:0,n,i,r)}}}if(s&Zt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?t=a.index+n:t=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,n,i=0){let r;if(!(i&Zt.IgnoreOverlays)&&(r=xl.get(this._tree))&&r.overlay){let s=t-this.from;for(let{from:a,to:o}of r.overlay)if((n>0?a<=s:a<s)&&(n<0?o>=s:o>s))return new Ln(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,n,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Uy(e,t,n,i){let r=e.cursor(),s=[];if(!r.firstChild())return s;if(n!=null){for(let a=!1;!a;)if(a=r.type.is(n),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(t)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function Cp(e,t,n=t.length-1){for(let i=e;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[n]&&t[n]!=i.name)return!1;n--}}return!0}class dU{constructor(t,n,i,r){this.parent=t,this.buffer=n,this.index=i,this.start=r}}class kr extends $y{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,n,i){super(),this.context=t,this._parent=n,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,n,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t,n-this.context.start,i);return s<0?null:new kr(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,n,i=0){if(i&Zt.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return s<0?null:new kr(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new kr(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new kr(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],n=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let a=i.buffer[this.index+1];t.push(i.slice(r,s,a)),n.push(0)}return new kt(this.type,t,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function qy(e){if(!e.length)return null;let t=0,n=e[0];for(let s=1;s<e.length;s++){let a=e[s];(a.from>n.from||a.to<n.to)&&(n=a,t=s)}let i=n instanceof Ln&&n.index<0?null:n.parent,r=e.slice();return i?r[t]=i:r.splice(t,1),new hU(r,n)}class hU{constructor(t,n){this.heads=t,this.node=n}get next(){return qy(this.heads)}}function pU(e,t,n){let i=e.resolveInner(t,n),r=null;for(let s=i instanceof Ln?i:i.context.parent;s;s=s.parent)if(s.index<0){let a=s.parent;(r||(r=[i])).push(a.resolve(t,n)),s=a}else{let a=xl.get(s.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){let o=new Ln(a.tree,a.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(To(o,t,n,!1))}}return r?qy(r):i}class Pp{get name(){return this.type.name}constructor(t,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Ln)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,n){this.index=t;let{start:i,buffer:r}=this.buffer;return this.type=n||r.set.types[r.buffer[t]],this.from=i+r.buffer[t+1],this.to=i+r.buffer[t+2],!0}yield(t){return t?t instanceof Ln?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,n,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],t,n-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,n,i=this.mode){return this.buffer?i&Zt.ExcludeBuffers?!1:this.enterChild(1,t,n):this.yield(this._tree.enter(t,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Zt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Zt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(t<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(n.findChild(r,this.index,-1,0,4))}else{let r=n.buffer[this.index+3];if(r<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let n,i,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:i}=r)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let s=n+t,a=t<0?-1:i._tree.children.length;s!=a;s+=t){let o=i._tree.children[s];if(this.mode&Zt.IncludeAnonymous||o instanceof Tr||!o.type.isAnonymous||Ap(o))return!1}return!0}move(t,n){if(n&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,n=0){for(;(this.from==this.to||(n<1?this.from>=t:this.from>t)||(n>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,n););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,n=null,i=0;if(t&&t.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let a=t;a;a=a._parent)if(a.index==r){if(r==this.index)return a;n=a,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)n=new kr(this.buffer,n,this.stack[r]);return this.bufferNode=new kr(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,n){for(let i=0;;){let r=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&n&&n(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(t){if(!this.buffer)return Cp(this.node.parent,t);let{buffer:n}=this.buffer,{types:i}=n.set;for(let r=t.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return Cp(this._tree,t,r);let a=i[n.buffer[this.stack[s]]];if(!a.isAnonymous){if(t[r]&&t[r]!=a.name)return!1;r--}}return!0}}function Ap(e){return e.children.some(t=>t instanceof Tr||!t.type.isAnonymous||Ap(t))}function fU(e){var t;let{buffer:n,nodeSet:i,maxBufferLength:r=Dy,reused:s=[],minRepeatType:a=i.types.length}=e,o=Array.isArray(n)?new xp(n,n.length):n,c=i.types,l=0,u=0;function d(y,_,x,N,D,E){let{id:M,start:L,end:z,size:X}=o,F=u,K=l;if(X<0)if(o.next(),X==-1){let Ne=s[M];x.push(Ne),N.push(L-y);return}else if(X==-3){l=M;return}else if(X==-4){u=M;return}else throw new RangeError(`Unrecognized record size: ${X}`);let se=c[M],j,fe,I=L-y;if(z-L<=r&&(fe=b(o.pos-_,D))){let Ne=new Uint16Array(fe.size-fe.skip),De=o.pos-fe.size,A=Ne.length;for(;o.pos>De;)A=v(fe.start,Ne,A);j=new Tr(Ne,z-fe.start,i),I=fe.start-y}else{let Ne=o.pos-X;o.next();let De=[],A=[],be=M>=a?M:-1,Ge=0,Ie=z;for(;o.pos>Ne;)be>=0&&o.id==be&&o.size>=0?(o.end<=Ie-r&&(m(De,A,L,Ge,o.end,Ie,be,F,K),Ge=De.length,Ie=o.end),o.next()):E>2500?h(L,Ne,De,A):d(L,Ne,De,A,be,E+1);if(be>=0&&Ge>0&&Ge<De.length&&m(De,A,L,Ge,L,Ie,be,F,K),De.reverse(),A.reverse(),be>-1&&Ge>0){let ae=p(se,K);j=Rp(se,De,A,0,De.length,0,z-L,ae,ae)}else j=O(se,De,A,z-L,F-z,K)}x.push(j),N.push(I)}function h(y,_,x,N){let D=[],E=0,M=-1;for(;o.pos>_;){let{id:L,start:z,end:X,size:F}=o;if(F>4)o.next();else{if(M>-1&&z<M)break;M<0&&(M=X-r),D.push(L,z,X),E++,o.next()}}if(E){let L=new Uint16Array(E*4),z=D[D.length-2];for(let X=D.length-3,F=0;X>=0;X-=3)L[F++]=D[X],L[F++]=D[X+1]-z,L[F++]=D[X+2]-z,L[F++]=F;x.push(new Tr(L,D[2]-z,i)),N.push(z-y)}}function p(y,_){return(x,N,D)=>{let E=0,M=x.length-1,L,z;if(M>=0&&(L=x[M])instanceof kt){if(!M&&L.type==y&&L.length==D)return L;(z=L.prop(je.lookAhead))&&(E=N[M]+L.length+z)}return O(y,x,N,D,E,_)}}function m(y,_,x,N,D,E,M,L,z){let X=[],F=[];for(;y.length>N;)X.push(y.pop()),F.push(_.pop()+x-D);y.push(O(i.types[M],X,F,E-D,L-E,z)),_.push(D-x)}function O(y,_,x,N,D,E,M){if(E){let L=[je.contextHash,E];M=M?[L].concat(M):[L]}if(D>25){let L=[je.lookAhead,D];M=M?[L].concat(M):[L]}return new kt(y,_,x,N,M)}function b(y,_){let x=o.fork(),N=0,D=0,E=0,M=x.end-r,L={size:0,start:0,skip:0};e:for(let z=x.pos-y;x.pos>z;){let X=x.size;if(x.id==_&&X>=0){L.size=N,L.start=D,L.skip=E,E+=4,N+=4,x.next();continue}let F=x.pos-X;if(X<0||F<z||x.start<M)break;let K=x.id>=a?4:0,se=x.start;for(x.next();x.pos>F;){if(x.size<0)if(x.size==-3||x.size==-4)K+=4;else break e;else x.id>=a&&(K+=4);x.next()}D=se,N+=X,E+=K}return(_<0||N==y)&&(L.size=N,L.start=D,L.skip=E),L.size>4?L:void 0}function v(y,_,x){let{id:N,start:D,end:E,size:M}=o;if(o.next(),M>=0&&N<a){let L=x;if(M>4){let z=o.pos-(M-4);for(;o.pos>z;)x=v(y,_,x)}_[--x]=L,_[--x]=E-y,_[--x]=D-y,_[--x]=N}else M==-3?l=N:M==-4&&(u=N);return x}let T=[],S=[];for(;o.pos>0;)d(e.start||0,e.bufferStart||0,T,S,-1,0);let k=(t=e.length)!==null&&t!==void 0?t:T.length?S[0]+T[0].length:0;return new kt(c[e.topID],T.reverse(),S.reverse(),k)}const Xy=new WeakMap;function Pl(e,t){if(!e.isAnonymous||t instanceof Tr||t.type!=e)return 1;let n=Xy.get(t);if(n==null){n=1;for(let i of t.children){if(i.type!=e||!(i instanceof kt)){n=1;break}n+=Pl(e,i)}Xy.set(t,n)}return n}function Rp(e,t,n,i,r,s,a,o,c){let l=0;for(let m=i;m<r;m++)l+=Pl(e,t[m]);let u=Math.ceil(l*1.5/8),d=[],h=[];function p(m,O,b,v,T){for(let S=b;S<v;){let k=S,y=O[S],_=Pl(e,m[S]);for(S++;S<v;S++){let x=Pl(e,m[S]);if(_+x>=u)break;_+=x}if(S==k+1){if(_>u){let x=m[k];p(x.children,x.positions,0,x.children.length,O[k]+T);continue}d.push(m[k])}else{let x=O[S-1]+m[S-1].length-y;d.push(Rp(e,m,O,k,S,y,x,null,c))}h.push(y+T-s)}}return p(t,n,i,r,0),(o||c)(d,h,a)}class Fy{startParse(t,n,i){return typeof t=="string"&&(t=new mU(t)),i=i?i.length?i.map(r=>new Ep(r.from,r.to)):[new Ep(0,0)]:[new Ep(0,t.length)],this.createParse(t,n||[],i)}parse(t,n,i){let r=this.startParse(t,n,i);for(;;){let s=r.advance();if(s)return s}}}class mU{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,n){return this.string.slice(t,n)}}new je({perNode:!0});let OU=0,di=class Rm{constructor(t,n,i,r){this.name=t,this.set=n,this.base=i,this.modified=r,this.id=OU++}toString(){let{name:t}=this;for(let n of this.modified)n.name&&(t=`${n.name}(${t})`);return t}static define(t,n){let i=typeof t=="string"?t:"?";if(t instanceof Rm&&(n=t),n?.base)throw new Error("Can not derive from a modified tag");let r=new Rm(i,[],null,[]);if(r.set.push(r),n)for(let s of n.set)r.set.push(s);return r}static defineModifier(t){let n=new Al(t);return i=>i.modified.indexOf(n)>-1?i:Al.get(i.base||i,i.modified.concat(n).sort((r,s)=>r.id-s.id))}},gU=0;class Al{constructor(t){this.name=t,this.instances=[],this.id=gU++}static get(t,n){if(!n.length)return t;let i=n[0].instances.find(o=>o.base==t&&vU(n,o.modified));if(i)return i;let r=[],s=new di(t.name,r,t,n);for(let o of n)o.instances.push(s);let a=bU(n);for(let o of t.set)if(!o.modified.length)for(let c of a)r.push(Al.get(o,c));return s}}function vU(e,t){return e.length==t.length&&e.every((n,i)=>n==t[i])}function bU(e){let t=[[]];for(let n=0;n<e.length;n++)for(let i=0,r=t.length;i<r;i++)t.push(t[i].concat(e[n]));return t.sort((n,i)=>i.length-n.length)}function yr(e){let t=Object.create(null);for(let n in e){let i=e[n];Array.isArray(i)||(i=[i]);for(let r of n.split(" "))if(r){let s=[],a=2,o=r;for(let d=0;;){if(o=="..."&&d>0&&d+3==r.length){a=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+r);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),d+=h[0].length,d==r.length)break;let p=r[d++];if(d==r.length&&p=="!"){a=0;break}if(p!="/")throw new RangeError("Invalid path: "+r);o=r.slice(d)}let c=s.length-1,l=s[c];if(!l)throw new RangeError("Invalid path: "+r);let u=new ko(i,a,c>0?s.slice(0,c):null);t[l]=u.sort(t[l])}}return By.add(t)}const By=new je({combine(e,t){let n,i,r;for(;e||t;){if(!e||t&&e.depth>=t.depth?(r=t,t=t.next):(r=e,e=e.next),n&&n.mode==r.mode&&!r.context&&!n.context)continue;let s=new ko(r.tags,r.mode,r.context);n?n.next=s:i=s,n=s}return i}});class ko{constructor(t,n,i,r){this.tags=t,this.mode=n,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}ko.empty=new ko([],2,null);function TU(e,t){let n=Object.create(null);for(let s of e)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let a of s.tag)n[a.id]=s.class;let{scope:i,all:r=null}={};return{style:s=>{let a=r;for(let o of s)for(let c of o.set){let l=n[c.id];if(l){a=a?a+" "+l:l;break}}return a},scope:i}}function kU(e,t){let n=null;for(let i of e){let r=i.style(t);r&&(n=n?n+" "+r:r)}return n}function yU(e,t,n,i=0,r=e.length){let s=new SU(i,Array.isArray(t)?t:[t],n);s.highlightRange(e.cursor(),i,r,"",s.highlighters),s.flush(r)}class SU{constructor(t,n,i){this.at=t,this.highlighters=n,this.span=i,this.class=""}startSpan(t,n){n!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=n)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,n,i,r,s){let{type:a,from:o,to:c}=t;if(o>=i||c<=n)return;a.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(a)));let l=r,u=_U(t)||ko.empty,d=kU(s,u.tags);if(d&&(l&&(l+=" "),l+=d,u.mode==1&&(r+=(r?" ":"")+d)),this.startSpan(Math.max(n,o),l),u.opaque)return;let h=t.tree&&t.tree.prop(je.mounted);if(h&&h.overlay){let p=t.node.enter(h.overlay[0].from+o,1),m=this.highlighters.filter(b=>!b.scope||b.scope(h.tree.type)),O=t.firstChild();for(let b=0,v=o;;b++){let T=b<h.overlay.length?h.overlay[b]:null,S=T?T.from+o:c,k=Math.max(n,v),y=Math.min(i,S);if(k<y&&O)for(;t.from<y&&(this.highlightRange(t,k,y,r,s),this.startSpan(Math.min(y,t.to),l),!(t.to>=S||!t.nextSibling())););if(!T||S>i)break;v=T.to+o,v>n&&(this.highlightRange(p.cursor(),Math.max(n,T.from+o),Math.min(i,v),"",m),this.startSpan(Math.min(i,v),l))}O&&t.parent()}else if(t.firstChild()){h&&(r="");do if(!(t.to<=n)){if(t.from>=i)break;this.highlightRange(t,n,i,r,s),this.startSpan(Math.min(i,t.to),l)}while(t.nextSibling());t.parent()}}}function _U(e){let t=e.type.prop(By);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}const re=di.define,Rl=re(),Sr=re(),zy=re(Sr),Zy=re(Sr),_r=re(),Il=re(_r),Ip=re(_r),hi=re(),es=re(hi),pi=re(),fi=re(),Qp=re(),yo=re(Qp),Ql=re(),Q={comment:Rl,lineComment:re(Rl),blockComment:re(Rl),docComment:re(Rl),name:Sr,variableName:re(Sr),typeName:zy,tagName:re(zy),propertyName:Zy,attributeName:re(Zy),className:re(Sr),labelName:re(Sr),namespace:re(Sr),macroName:re(Sr),literal:_r,string:Il,docString:re(Il),character:re(Il),attributeValue:re(Il),number:Ip,integer:re(Ip),float:re(Ip),bool:re(_r),regexp:re(_r),escape:re(_r),color:re(_r),url:re(_r),keyword:pi,self:re(pi),null:re(pi),atom:re(pi),unit:re(pi),modifier:re(pi),operatorKeyword:re(pi),controlKeyword:re(pi),definitionKeyword:re(pi),moduleKeyword:re(pi),operator:fi,derefOperator:re(fi),arithmeticOperator:re(fi),logicOperator:re(fi),bitwiseOperator:re(fi),compareOperator:re(fi),updateOperator:re(fi),definitionOperator:re(fi),typeOperator:re(fi),controlOperator:re(fi),punctuation:Qp,separator:re(Qp),bracket:yo,angleBracket:re(yo),squareBracket:re(yo),paren:re(yo),brace:re(yo),content:hi,heading:es,heading1:re(es),heading2:re(es),heading3:re(es),heading4:re(es),heading5:re(es),heading6:re(es),contentSeparator:re(hi),list:re(hi),quote:re(hi),emphasis:re(hi),strong:re(hi),link:re(hi),monospace:re(hi),strikethrough:re(hi),inserted:re(),deleted:re(),changed:re(),invalid:re(),meta:Ql,documentMeta:re(Ql),annotation:re(Ql),processingInstruction:re(Ql),definition:di.defineModifier("definition"),constant:di.defineModifier("constant"),function:di.defineModifier("function"),standard:di.defineModifier("standard"),local:di.defineModifier("local"),special:di.defineModifier("special")};for(let e in Q){let t=Q[e];t instanceof di&&(t.name=e)}const wU=TU([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);function EU(e,t){const n=[];let i=0;return yU(t,wU,(r,s,a)=>{r>i&&n.push({type:"text",value:e.slice(i,r)}),n.push({type:"element",tagName:"span",properties:{className:a},children:[{type:"text",value:e.slice(r,s)}]}),i=s}),i<e.length&&n.push({type:"text",value:e.slice(i)}),{type:"root",children:n}}const xU=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CU=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PU={};function jy(e,t){return(PU.jsx?CU:xU).test(e)}const AU=/[ \t\n\f\r]/g;function RU(e){return typeof e=="object"?e.type==="text"?Vy(e.value):!1:Vy(e)}function Vy(e){return e.replace(AU,"")===""}function Wy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ks={},Np,Gy;function IU(){if(Gy)return Np;Gy=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,l="/",u="*",d="",h="comment",p="declaration";function m(b,v){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];v=v||{};var T=1,S=1;function k(X){var F=X.match(t);F&&(T+=F.length);var K=X.lastIndexOf(c);S=~K?X.length-K:S+X.length}function y(){var X={line:T,column:S};return function(F){return F.position=new _(X),D(),F}}function _(X){this.start=X,this.end={line:T,column:S},this.source=v.source}_.prototype.content=b;function x(X){var F=new Error(v.source+":"+T+":"+S+": "+X);if(F.reason=X,F.filename=v.source,F.line=T,F.column=S,F.source=b,!v.silent)throw F}function N(X){var F=X.exec(b);if(F){var K=F[0];return k(K),b=b.slice(K.length),F}}function D(){N(n)}function E(X){var F;for(X=X||[];F=M();)F!==!1&&X.push(F);return X}function M(){var X=y();if(!(l!=b.charAt(0)||u!=b.charAt(1))){for(var F=2;d!=b.charAt(F)&&(u!=b.charAt(F)||l!=b.charAt(F+1));)++F;if(F+=2,d===b.charAt(F-1))return x("End of comment missing");var K=b.slice(2,F-2);return S+=2,k(K),b=b.slice(F),S+=2,X({type:h,comment:K})}}function L(){var X=y(),F=N(i);if(F){if(M(),!N(r))return x("property missing ':'");var K=N(s),se=X({type:p,property:O(F[0].replace(e,d)),value:K?O(K[0].replace(e,d)):d});return N(a),se}}function z(){var X=[];E(X);for(var F;F=L();)F!==!1&&(X.push(F),E(X));return X}return D(),z()}function O(b){return b?b.replace(o,d):d}return Np=m,Np}var Yy;function QU(){if(Yy)return Ks;Yy=1;var e=Ks&&Ks.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.default=n;const t=e(IU());function n(i,r){let s=null;if(!i||typeof i!="string")return s;const a=(0,t.default)(i),o=typeof r=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:l,value:u}=c;o?r(l,u,c):u&&(s=s||{},s[l]=u)}),s}return Ks}var So={},Hy;function NU(){if(Hy)return So;Hy=1,Object.defineProperty(So,"__esModule",{value:!0}),So.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(l){return!l||n.test(l)||e.test(l)},a=function(l,u){return u.toUpperCase()},o=function(l,u){return"".concat(u,"-")},c=function(l,u){return u===void 0&&(u={}),s(l)?l:(l=l.toLowerCase(),u.reactCompat?l=l.replace(r,o):l=l.replace(i,o),l.replace(t,a))};return So.camelCase=c,So}var _o,Ky;function DU(){if(Ky)return _o;Ky=1;var e=_o&&_o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=e(QU()),n=NU();function i(r,s){var a={};return!r||typeof r!="string"||(0,t.default)(r,function(o,c){o&&c&&(a[(0,n.camelCase)(o,s)]=c)}),a}return i.default=i,_o=i,_o}var MU=DU();const LU=Wy(MU);function wo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Jy(e.position):"start"in e||"end"in e?Jy(e):"line"in e||"column"in e?Dp(e):""}function Dp(e){return eS(e&&e.line)+":"+eS(e&&e.column)}function Jy(e){return Dp(e&&e.start)+"-"+Dp(e&&e.end)}function eS(e){return e&&typeof e=="number"?e:1}class Yt extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?r=t:!s.cause&&t&&(a=!0,r=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){const c=i.indexOf(":");c===-1?s.ruleId=i:(s.source=i.slice(0,c),s.ruleId=i.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=wo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Yt.prototype.file="",Yt.prototype.name="",Yt.prototype.reason="",Yt.prototype.message="",Yt.prototype.stack="",Yt.prototype.column=void 0,Yt.prototype.line=void 0,Yt.prototype.ancestors=void 0,Yt.prototype.cause=void 0,Yt.prototype.fatal=void 0,Yt.prototype.place=void 0,Yt.prototype.ruleId=void 0,Yt.prototype.source=void 0;const Mp={}.hasOwnProperty,$U=new Map,UU=/[A-Z]/g,qU=new Set(["table","tbody","thead","tfoot","tr"]),XU=new Set(["td","th"]),tS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nS(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=GU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=WU(n,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?mr:eo,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=iS(r,e,void 0);return s&&typeof s!="string"?s:r.create(e,r.Fragment,{children:s||void 0},void 0)}function iS(e,t,n){if(t.type==="element")return FU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return BU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ZU(e,t,n);if(t.type==="mdxjsEsm")return zU(e,t);if(t.type==="root")return jU(e,t,n);if(t.type==="text")return VU(e,t)}function FU(e,t,n){const i=e.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=mr,e.schema=r),e.ancestors.push(t);const s=sS(e,t.tagName,!1),a=YU(e,t);let o=$p(e,t);return qU.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!RU(c):!0})),rS(e,a,s,t),Lp(a,o),e.ancestors.pop(),e.schema=i,e.create(t,s,a,n)}function BU(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Eo(e,t.position)}function zU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Eo(e,t.position)}function ZU(e,t,n){const i=e.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=mr,e.schema=r),e.ancestors.push(t);const s=t.name===null?e.Fragment:sS(e,t.name,!0),a=HU(e,t),o=$p(e,t);return rS(e,a,s,t),Lp(a,o),e.ancestors.pop(),e.schema=i,e.create(t,s,a,n)}function jU(e,t,n){const i={};return Lp(i,$p(e,t)),e.create(t,e.Fragment,i,n)}function VU(e,t){return t.value}function rS(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function Lp(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function WU(e,t,n){return i;function i(r,s,a,o){const c=Array.isArray(a.children)?n:t;return o?c(s,a,o):c(s,a)}}function GU(e,t){return n;function n(i,r,s,a){const o=Array.isArray(s.children),c=oi(i);return t(r,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function YU(e,t){const n={};let i,r;for(r in t.properties)if(r!=="children"&&Mp.call(t.properties,r)){const s=KU(e,r,t.properties[r]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&XU.has(t.tagName)?i=o:n[a]=o}}if(i){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function HU(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const r=i.data.estree.body[0];r.type;const s=r.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Eo(e,t.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const a=i.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Eo(e,t.position);else s=i.value===null?!0:i.value;n[r]=s}return n}function $p(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:$U;for(;++i<t.children.length;){const s=t.children[i];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const l=r.get(c)||0;a=c+"-"+l,r.set(c,l+1)}}const o=iS(e,s,a);o!==void 0&&n.push(o)}return n}function KU(e,t,n){const i=cl(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?wT(n):CT(n)),i.property==="style"){let r=typeof n=="object"?n:JU(e,String(n));return e.stylePropertyNameCase==="css"&&(r=e4(r)),["style",r]}return[e.elementAttributeNameCase==="react"&&i.space?PN[i.property]||i.property:i.attribute,n]}}function JU(e,t){try{return LU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,r=new Yt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=tS+"#cannot-parse-style-attribute",r}}function sS(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let s=-1,a;for(;++s<r.length;){const o=jy(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}i=a}else i=jy(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return Mp.call(e.components,r)?e.components[r]:r}if(e.evaluater)return e.evaluater.evaluateExpression(i);Eo(e)}function Eo(e,t){const n=new Yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=tS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function e4(e){const t={};let n;for(n in e)Mp.call(e,n)&&(t[t4(n)]=e[n]);return t}function t4(e){let t=e.replace(UU,n4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function n4(e){return"-"+e.toLowerCase()}class Nl{constructor(t,n,i,r,s,a,o,c,l,u=0,d){this.p=t,this.stack=n,this.state=i,this.reducePos=r,this.pos=s,this.score=a,this.buffer=o,this.bufferBase=c,this.curContext=l,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((t,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,n,i=0){let r=t.parser.context;return new Nl(t,[],n,i,i,0,[],0,r?new aS(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var n;let i=t>>19,r=t&65535,{parser:s}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(r,this.reducePos);return}let c=this.stack.length-(i-1)*3-(t&262144?6:0),l=c?this.stack[c-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[r])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let d=c?this.stack[c-1]:0,h=this.bufferBase+this.buffer.length-d;if(r<s.minRepeatTerm||t&131072){let p=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,p,h+4,!0)}if(t&262144)this.state=this.stack[c];else{let p=this.stack[c-3];this.state=s.getGoto(p,r,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(r,l)}storeNode(t,n,i,r=4,s=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(n==i)return;if(a.buffer[o-2]>=n){a.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(t,n,i,r);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let o=!1;for(let c=a;c>0&&this.buffer[c-2]>i;c-=4)if(this.buffer[c-1]>=0){o=!0;break}if(o)for(;a>0&&this.buffer[a-2]>i;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,r>4&&(r-=4)}this.buffer[a]=t,this.buffer[a+1]=n,this.buffer[a+2]=i,this.buffer[a+3]=r}}shift(t,n,i,r){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let s=t,{parser:a}=this.p;(r>this.pos||n<=a.maxNode)&&(this.pos=r,a.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=a.maxNode&&this.buffer.push(n,i,r,4)}else this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4)}apply(t,n,i,r){t&65536?this.reduce(t):this.shift(t,n,i,r)}useNode(t,n){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(n,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,n=t.buffer.length;for(;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;let i=t.buffer.slice(n),r=t.bufferBase+n;for(;t&&r==t.bufferBase;)t=t.parent;return new Nl(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,n){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,n,4),this.storeNode(0,this.pos,n,i?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(t){for(let n=new i4(this);;){let i=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,t);if(i==0)return!1;if((i&65536)==0)return!0;n.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let r=[];for(let s=0,a;s<n.length;s+=2)(a=n[s+1])!=this.state&&this.p.parser.hasAction(a,t)&&r.push(n[s],a);if(this.stack.length<120)for(let s=0;r.length<8&&s<n.length;s+=2){let a=n[s+1];r.some((o,c)=>c&1&&o==a)||r.push(n[s],a)}n=r}let i=[];for(let r=0;r<n.length&&i.length<4;r+=2){let s=n[r+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[r],this.pos),a.reducePos=this.pos,a.score-=200,i.push(a)}return i}forceReduce(){let{parser:t}=this.p,n=t.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!t.validAction(this.state,n)){let i=n>>19,r=n&65535,s=this.stack.length-i*3;if(s<0||t.getGoto(this.stack[s],r,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:t}=this.p,n=[],i=(r,s)=>{if(!n.includes(r))return n.push(r),t.allActions(r,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-s;if(o>1){let c=a&65535,l=this.stack.length-o*3;if(l>=0&&t.getGoto(this.stack[l],c,!1)>=0)return o<<19|65536|c}}else{let o=i(a,s+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=t.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(n)))}reduceContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(n)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let n=new aS(this.curContext.tracker,t);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(t){return t<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class aS{constructor(t,n){this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0}}class i4{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let n=t&65535,i=t>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=r}}class Dl{constructor(t,n,i){this.stack=t,this.pos=n,this.index=i,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,n=t.bufferBase+t.buffer.length){return new Dl(t,n,n-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Dl(this.stack,this.pos,this.index)}}function xo(e,t=Uint16Array){if(typeof e!="string")return e;let n=null;for(let i=0,r=0;i<e.length;){let s=0;for(;;){let a=e.charCodeAt(i++),o=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let c=a-32;if(c>=46&&(c-=46,o=!0),s+=c,o)break;s*=46}n?n[r++]=s:n=new t(s)}return n}class Ml{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const oS=new Ml;class r4{constructor(t,n){this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=oS,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(t,n){let i=this.range,r=this.rangeIndex,s=this.pos+t;for(;s<i.from;){if(!r)return null;let a=this.ranges[--r];s-=i.from-a.to,i=a}for(;n<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let a=this.ranges[++r];s+=a.from-i.to,i=a}return s}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let n of this.ranges)if(n.to>t)return Math.max(t,n.from);return this.end}peek(t){let n=this.chunkOff+t,i,r;if(n>=0&&n<this.chunk.length)i=this.pos+t,r=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(t,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(t,n=0){let i=n?this.resolveOffset(n,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}acceptTokenTo(t,n){this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),n=this.pos+t.length;this.chunk=n>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,n){if(n?(this.token=n,n.start=t,n.lookAhead=t+1,n.value=n.extended=-1):this.token=oS,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,n){if(t>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,n-this.chunkPos);if(t>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,n-this.chunk2Pos);if(t>=this.range.from&&n<=this.range.to)return this.input.read(t,n);let i="";for(let r of this.ranges){if(r.from>=n)break;r.to>t&&(i+=this.input.read(Math.max(r.from,t),Math.min(r.to,n)))}return i}}class Js{constructor(t,n){this.data=t,this.id=n}token(t,n){let{parser:i}=n.p;cS(this.data,t,n,this.id,i.data,i.tokenPrecTable)}}Js.prototype.contextual=Js.prototype.fallback=Js.prototype.extend=!1;class Up{constructor(t,n,i){this.precTable=n,this.elseToken=i,this.data=typeof t=="string"?xo(t):t}token(t,n){let i=t.pos,r=0;for(;;){let s=t.next<0,a=t.resolveOffset(1,1);if(cS(this.data,t,n,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,a==null)break;t.reset(a,t.token)}r&&(t.reset(i,t.token),t.acceptToken(this.elseToken,r))}}Up.prototype.contextual=Js.prototype.fallback=Js.prototype.extend=!1;class Qt{constructor(t,n={}){this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function cS(e,t,n,i,r,s){let a=0,o=1<<i,{dialect:c}=n.p.parser;e:for(;(o&e[a])!=0;){let l=e[a+1];for(let p=a+3;p<l;p+=2)if((e[p+1]&o)>0){let m=e[p];if(c.allows(m)&&(t.token.value==-1||t.token.value==m||s4(m,t.token.value,r,s))){t.acceptToken(m);break}}let u=t.next,d=0,h=e[a+2];if(t.next<0&&h>d&&e[l+h*3-3]==65535){a=e[l+h*3-1];continue e}for(;d<h;){let p=d+h>>1,m=l+p+(p<<1),O=e[m],b=e[m+1]||65536;if(u<O)h=p;else if(u>=b)d=p+1;else{a=e[m+2],t.advance();continue e}}break}}function lS(e,t,n){for(let i=t,r;(r=e[i])!=65535;i++)if(r==n)return i-t;return-1}function s4(e,t,n,i){let r=lS(n,i,t);return r<0||lS(n,i,e)<r}const Sn=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let qp=null;function uS(e,t,n){let i=e.cursor(Zt.IncludeAnonymous);for(i.moveTo(t);;)if(!(n<0?i.childBefore(t):i.childAfter(t)))for(;;){if((n<0?i.to<t:i.from>t)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:e.length}}let a4=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?uS(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?uS(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],s=this.start[t]+n.positions[i];if(s>e)return this.nextStart=s,null;if(r instanceof kt){if(s==e){if(s<this.safeFrom)return null;let a=s+r.length;if(a<=this.safeTo){let o=r.prop(je.lookAhead);if(!o||a+o<this.fragment.to)return r}}this.index[t]++,s+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+r.length}}};class o4{constructor(t,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(i=>new Ml)}getActions(t){let n=0,i=null,{parser:r}=t.p,{tokenizers:s}=r,a=r.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,c=0;for(let l=0;l<s.length;l++){if((1<<l&a)==0)continue;let u=s[l],d=this.tokens[l];if(!(i&&!u.fallback)&&((u.contextual||d.start!=t.pos||d.mask!=a||d.context!=o)&&(this.updateCachedToken(d,u,t),d.mask=a,d.context=o),d.lookAhead>d.end+25&&(c=Math.max(d.lookAhead,c)),d.value!=0)){let h=n;if(d.extended>-1&&(n=this.addActions(t,d.extended,d.end,n)),n=this.addActions(t,d.value,d.end,n),!u.extend&&(i=d,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return c&&t.setLookAhead(c),!i&&t.pos==this.stream.end&&(i=new Ml,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,n=this.addActions(t,i.value,i.end,n)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let n=new Ml,{pos:i,p:r}=t;return n.start=i,n.end=Math.min(i+1,r.stream.end),n.value=i==r.stream.end?r.parser.eofTerm:0,n}updateCachedToken(t,n,i){let r=this.stream.clipPos(i.pos);if(n.token(this.stream.reset(r,t),i),t.value>-1){let{parser:s}=i.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==t.value){let o=s.specializers[a](this.stream.read(t.start,t.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?t.value=o>>1:t.extended=o>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,n,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==t)return r;return this.actions[r++]=t,this.actions[r++]=n,this.actions[r++]=i,r}addActions(t,n,i,r){let{state:s}=t,{parser:a}=t.p,{data:o}=a;for(let c=0;c<2;c++)for(let l=a.stateSlot(s,c?2:1);;l+=3){if(o[l]==65535)if(o[l+1]==1)l=Ui(o,l+2);else{r==0&&o[l+1]==2&&(r=this.putAction(Ui(o,l+2),n,i,r));break}o[l]==n&&(r=this.putAction(Ui(o,l+1),n,i,r))}return r}}class c4{constructor(t,n,i,r){this.parser=t,this.input=n,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new r4(n,r),this.tokens=new o4(t,this.stream),this.topTerm=t.top[1];let{from:s}=r[0];this.stacks=[Nl.start(this,t.top[0],s)],this.fragments=i.length&&this.stream.end-s>t.bufferLength*4?new a4(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,n=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&t.length==1){let[a]=t;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<t.length;a++){let o=t[a];for(;;){if(this.tokens.mainToken=null,o.pos>n)i.push(o);else{if(this.advanceStack(o,i,t))continue;{r||(r=[],s=[]),r.push(o);let c=this.tokens.getMainToken(o);s.push(c.value,c.end)}}break}}if(!i.length){let a=r&&u4(r);if(a)return Sn&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Sn&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&r){let a=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(a)return Sn&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(i.length>a)for(i.sort((o,c)=>c.score-o.score);i.length>a;)i.pop();i.some(o=>o.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let a=0;a<i.length-1;a++){let o=i[a];for(let c=a+1;c<i.length;c++){let l=i[c];if(o.sameState(l)||o.buffer.length>500&&l.buffer.length>500)if((o.score-l.score||o.buffer.length-l.buffer.length)>0)i.splice(c--,1);else{i.splice(a--,1);continue e}}}i.length>12&&(i.sort((a,o)=>o.score-a.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let a=1;a<i.length;a++)i[a].pos<this.minStackPos&&(this.minStackPos=i[a].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,n,i){let r=t.pos,{parser:s}=this,a=Sn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let l=t.curContext&&t.curContext.tracker.strict,u=l?t.curContext.hash:0;for(let d=this.fragments.nodeAt(r);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(t.state,d.type.id):-1;if(h>-1&&d.length&&(!l||(d.prop(je.contextHash)||0)==u))return t.useNode(d,h),Sn&&console.log(a+this.stackID(t)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof kt)||d.children.length==0||d.positions[0]>0)break;let p=d.children[0];if(p instanceof kt&&d.positions[0]==0)d=p;else break}}let o=s.stateSlot(t.state,4);if(o>0)return t.reduce(o),Sn&&console.log(a+this.stackID(t)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let c=this.tokens.getActions(t);for(let l=0;l<c.length;){let u=c[l++],d=c[l++],h=c[l++],p=l==c.length||!i,m=p?t:t.split(),O=this.tokens.mainToken;if(m.apply(u,d,O?O.start:m.pos,h),Sn&&console.log(a+this.stackID(m)+` (via ${(u&65536)==0?"shift":`reduce of ${s.getName(u&65535)}`} for ${s.getName(d)} @ ${r}${m==t?"":", split"})`),p)return!0;m.pos>r?n.push(m):i.push(m)}return!1}advanceFully(t,n){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return dS(t,n),!0}}runRecovery(t,n,i){let r=null,s=!1;for(let a=0;a<t.length;a++){let o=t[a],c=n[a<<1],l=n[(a<<1)+1],u=Sn?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),Sn&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let d=o.split(),h=u;for(let p=0;p<10&&d.forceReduce()&&(Sn&&console.log(h+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,i));p++)Sn&&(h=this.stackID(d)+" -> ");for(let p of o.recoverByInsert(c))Sn&&console.log(u+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,i);this.stream.end>o.pos?(l==o.pos&&(l++,c=0),o.recoverByDelete(c,l),Sn&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(c)})`),dS(o,i)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(t){return t.close(),kt.build({buffer:Dl.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let n=(qp||(qp=new WeakMap)).get(t);return n||qp.set(t,n=String.fromCodePoint(this.nextStackID++)),n+t}}function dS(e,t){for(let n=0;n<t.length;n++){let i=t[n];if(i.pos==e.pos&&i.sameState(e)){t[n].score<e.score&&(t[n]=e);return}}t.push(e)}class l4{constructor(t,n,i){this.source=t,this.flags=n,this.disabled=i}allows(t){return!this.disabled||this.disabled[t]==0}}const Xp=e=>e;class Co{constructor(t){this.start=t.start,this.shift=t.shift||Xp,this.reduce=t.reduce||Xp,this.reuse=t.reuse||Xp,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}}class $i extends Fy{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let n=t.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<t.repeatNodeCount;o++)n.push("");let i=Object.keys(t.topRules).map(o=>t.topRules[o][1]),r=[];for(let o=0;o<n.length;o++)r.push([]);function s(o,c,l){r[o].push([c,c.deserialize(String(l))])}if(t.nodeProps)for(let o of t.nodeProps){let c=o[0];typeof c=="string"&&(c=je[c]);for(let l=1;l<o.length;){let u=o[l++];if(u>=0)s(u,c,o[l++]);else{let d=o[l+-u];for(let h=-u;h>0;h--)s(o[l++],c,d);l++}}}this.nodeSet=new bo(n.map((o,c)=>nn.define({name:c>=this.minRepeatTerm?void 0:o,id:c,props:r[c],top:i.indexOf(c)>-1,error:c==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(c)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=Dy;let a=xo(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(hS),this.states=xo(t.states,Uint32Array),this.data=xo(t.stateData),this.goto=xo(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(o=>typeof o=="number"?new Js(a,o):o),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,n,i){let r=new c4(this,t,n,i);for(let s of this.wrappers)r=s(r,t,n,i);return r}getGoto(t,n,i=!1){let r=this.goto;if(n>=r[0])return-1;for(let s=r[n+1];;){let a=r[s++],o=a&1,c=r[s++];if(o&&i)return c;for(let l=s+(a>>1);s<l;s++)if(r[s]==t)return c;if(o)return-1}}hasAction(t,n){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(t,r?2:1),a;;s+=3){if((a=i[s])==65535)if(i[s+1]==1)a=i[s=Ui(i,s+2)];else{if(i[s+1]==2)return Ui(i,s+2);break}if(a==n||a==0)return Ui(i,s+1)}return 0}stateSlot(t,n){return this.states[t*6+n]}stateFlag(t,n){return(this.stateSlot(t,0)&n)>0}validAction(t,n){return!!this.allActions(t,i=>i==n?!0:null)}allActions(t,n){let i=this.stateSlot(t,4),r=i?n(i):void 0;for(let s=this.stateSlot(t,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ui(this.data,s+2);else break;r=n(Ui(this.data,s+1))}return r}nextStates(t){let n=[];for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Ui(this.data,i+2);else break;if((this.data[i+2]&1)==0){let r=this.data[i+1];n.some((s,a)=>a&1&&s==r)||n.push(this.data[i],r)}}return n}configure(t){let n=Object.assign(Object.create($i.prototype),this);if(t.props&&(n.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);n.top=i}return t.tokenizers&&(n.tokenizers=this.tokenizers.map(i=>{let r=t.tokenizers.find(s=>s.from==i);return r?r.to:i})),t.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=t.specializers.find(o=>o.from==i.external);if(!s)return i;let a=Object.assign(Object.assign({},i),{external:s.to});return n.specializers[r]=hS(a),a})),t.contextTracker&&(n.context=t.contextTracker),t.dialect&&(n.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(n.strict=t.strict),t.wrap&&(n.wrappers=n.wrappers.concat(t.wrap)),t.bufferLength!=null&&(n.bufferLength=t.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let n=this.dynamicPrecedences;return n==null?0:n[t]||0}parseDialect(t){let n=Object.keys(this.dialects),i=n.map(()=>!1);if(t)for(let s of t.split(" ")){let a=n.indexOf(s);a>=0&&(i[a]=!0)}let r=null;for(let s=0;s<n.length;s++)if(!i[s])for(let a=this.dialects[n[s]],o;(o=this.data[a++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[o]=1;return new l4(t,i,r)}static deserialize(t){return new $i(t)}}function Ui(e,t){return e[t]|e[t+1]<<16}function u4(e){let t=null;for(let n of e){let i=n.p.stoppedAt;(n.pos==n.p.stream.end||i!=null&&n.pos>i)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}function hS(e){if(e.external){let t=e.extend?1:0;return(n,i)=>e.external(n,i)<<1|t}return e.get}const d4=55,h4=1,p4=56,f4=2,m4=57,O4=3,pS=4,g4=5,Fp=6,fS=7,mS=8,OS=9,gS=10,v4=11,b4=12,T4=13,Bp=58,k4=14,y4=15,vS=59,S4=21,_4=37,w4=0,E4=1,x4={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},C4={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},bS={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function P4(e){return e==45||e==46||e==58||e>=65&&e<=90||e==95||e>=97&&e<=122||e>=161}let TS=null,kS=null,yS=0;function zp(e,t){let n=e.pos+t;if(yS==n&&kS==e)return TS;let i=e.peek(t),r="";for(;P4(i);)r+=String.fromCharCode(i),i=e.peek(++t);return kS=e,yS=n,TS=r?r.toLowerCase():i==A4||i==R4?void 0:null}const SS=60,Ll=62,Zp=47,A4=63,R4=33,I4=45;function _S(e,t){this.name=e,this.parent=t}const Q4=[Fp,gS,fS,mS,OS],N4=new Co({start:null,shift(e,t,n,i){return Q4.indexOf(t)>-1?new _S(zp(i,1)||"",e):e},reduce(e,t){return t==S4&&e?e.parent:e},reuse(e,t,n,i){let r=t.type.id;return r==Fp||r==_4?new _S(zp(i,1)||"",e):e},strict:!1}),D4=new Qt((e,t)=>{if(e.next!=SS){e.next<0&&t.context&&e.acceptToken(Bp);return}e.advance();let n=e.next==Zp;n&&e.advance();let i=zp(e,0);if(i===void 0)return;if(!i)return e.acceptToken(n?y4:k4);let r=t.context?t.context.name:null;if(n){if(i==r)return e.acceptToken(v4);if(r&&C4[r])return e.acceptToken(Bp,-2);if(t.dialectEnabled(w4))return e.acceptToken(b4);for(let s=t.context;s;s=s.parent)if(s.name==i)return;e.acceptToken(T4)}else{if(i=="script")return e.acceptToken(fS);if(i=="style")return e.acceptToken(mS);if(i=="textarea")return e.acceptToken(OS);if(x4.hasOwnProperty(i))return e.acceptToken(gS);r&&bS[r]&&bS[r][i]?e.acceptToken(Bp,-1):e.acceptToken(Fp)}},{contextual:!0}),M4=new Qt(e=>{for(let t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(vS);break}if(e.next==I4)t++;else if(e.next==Ll&&t>=2){n>=3&&e.acceptToken(vS,-2);break}else t=0;e.advance()}});function L4(e){for(;e;e=e.parent)if(e.name=="svg"||e.name=="math")return!0;return!1}const $4=new Qt((e,t)=>{if(e.next==Zp&&e.peek(1)==Ll){let n=t.dialectEnabled(E4)||L4(t.context);e.acceptToken(n?g4:pS,2)}else e.next==Ll&&e.acceptToken(pS,1)});function jp(e,t,n){let i=2+e.length;return new Qt(r=>{for(let s=0,a=0,o=0;;o++){if(r.next<0){o&&r.acceptToken(t);break}if(s==0&&r.next==SS||s==1&&r.next==Zp||s>=2&&s<i&&r.next==e.charCodeAt(s-2))s++,a++;else if(s==i&&r.next==Ll){o>a?r.acceptToken(t,-a):r.acceptToken(n,-(a-2));break}else if((r.next==10||r.next==13)&&o){r.acceptToken(t,1);break}else s=a=0;r.advance()}})}const U4=jp("script",d4,h4),q4=jp("style",p4,f4),X4=jp("textarea",m4,O4),F4=yr({"Text RawText IncompleteTag IncompleteCloseTag":Q.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Q.angleBracket,TagName:Q.tagName,"MismatchedCloseTag/TagName":[Q.tagName,Q.invalid],AttributeName:Q.attributeName,"AttributeValue UnquotedAttributeValue":Q.attributeValue,Is:Q.definitionOperator,"EntityReference CharacterReference":Q.character,Comment:Q.blockComment,ProcessingInst:Q.processingInstruction,DoctypeDecl:Q.documentMeta}),B4=$i.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:N4,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[F4],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[U4,q4,X4,$4,D4,M4,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517}),z4=316,Z4=317,wS=1,j4=2,V4=3,W4=4,G4=318,Y4=320,H4=321,K4=5,J4=6,eq=0,Vp=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ES=125,tq=59,Wp=47,nq=42,iq=43,rq=45,sq=60,aq=44,oq=63,cq=46,lq=91,uq=new Co({start:!1,shift(e,t){return t==K4||t==J4||t==Y4?e:t==H4},strict:!1}),dq=new Qt((e,t)=>{let{next:n}=e;(n==ES||n==-1||t.context)&&e.acceptToken(G4)},{contextual:!0,fallback:!0}),hq=new Qt((e,t)=>{let{next:n}=e,i;Vp.indexOf(n)>-1||n==Wp&&((i=e.peek(1))==Wp||i==nq)||n!=ES&&n!=tq&&n!=-1&&!t.context&&e.acceptToken(z4)},{contextual:!0}),pq=new Qt((e,t)=>{e.next==lq&&!t.context&&e.acceptToken(Z4)},{contextual:!0}),fq=new Qt((e,t)=>{let{next:n}=e;if(n==iq||n==rq){if(e.advance(),n==e.next){e.advance();let i=!t.context&&t.canShift(wS);e.acceptToken(i?wS:j4)}}else n==oq&&e.peek(1)==cq&&(e.advance(),e.advance(),(e.next<48||e.next>57)&&e.acceptToken(V4))},{contextual:!0});function Gp(e,t){return e>=65&&e<=90||e>=97&&e<=122||e==95||e>=192||!t&&e>=48&&e<=57}const mq=new Qt((e,t)=>{if(e.next!=sq||!t.dialectEnabled(eq)||(e.advance(),e.next==Wp))return;let n=0;for(;Vp.indexOf(e.next)>-1;)e.advance(),n++;if(Gp(e.next,!0)){for(e.advance(),n++;Gp(e.next,!1);)e.advance(),n++;for(;Vp.indexOf(e.next)>-1;)e.advance(),n++;if(e.next==aq)return;for(let i=0;;i++){if(i==7){if(!Gp(e.next,!0))return;break}if(e.next!="extends".charCodeAt(i))break;e.advance(),n++}}e.acceptToken(W4,-n)}),Oq=yr({"get set async static":Q.modifier,"for while do if else switch try catch finally return throw break continue default case defer":Q.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Q.operatorKeyword,"let var const using function class extends":Q.definitionKeyword,"import export from":Q.moduleKeyword,"with debugger new":Q.keyword,TemplateString:Q.special(Q.string),super:Q.atom,BooleanLiteral:Q.bool,this:Q.self,null:Q.null,Star:Q.modifier,VariableName:Q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Q.function(Q.variableName),VariableDefinition:Q.definition(Q.variableName),Label:Q.labelName,PropertyName:Q.propertyName,PrivatePropertyName:Q.special(Q.propertyName),"CallExpression/MemberExpression/PropertyName":Q.function(Q.propertyName),"FunctionDeclaration/VariableDefinition":Q.function(Q.definition(Q.variableName)),"ClassDeclaration/VariableDefinition":Q.definition(Q.className),"NewExpression/VariableName":Q.className,PropertyDefinition:Q.definition(Q.propertyName),PrivatePropertyDefinition:Q.definition(Q.special(Q.propertyName)),UpdateOp:Q.updateOperator,"LineComment Hashbang":Q.lineComment,BlockComment:Q.blockComment,Number:Q.number,String:Q.string,Escape:Q.escape,ArithOp:Q.arithmeticOperator,LogicOp:Q.logicOperator,BitOp:Q.bitwiseOperator,CompareOp:Q.compareOperator,RegExp:Q.regexp,Equals:Q.definitionOperator,Arrow:Q.function(Q.punctuation),": Spread":Q.punctuation,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace,"InterpolationStart InterpolationEnd":Q.special(Q.brace),".":Q.derefOperator,", ;":Q.separator,"@":Q.meta,TypeName:Q.typeName,TypeDefinition:Q.definition(Q.typeName),"type enum interface implements namespace module declare":Q.definitionKeyword,"abstract global Privacy readonly override":Q.modifier,"is keyof unique infer asserts":Q.operatorKeyword,JSXAttributeValue:Q.attributeValue,JSXText:Q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Q.angleBracket,"JSXIdentifier JSXNameSpacedName":Q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Q.attributeName,"JSXBuiltin/JSXIdentifier":Q.standard(Q.tagName)}),gq={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},vq={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},bq={__proto__:null,"<":193},$l=$i.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:uq,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[Oq],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[hq,pq,fq,mq,2,3,4,5,6,7,8,9,10,11,12,13,14,dq,new Up("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new Up("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:e=>gq[e]||-1},{term:343,get:e=>vq[e]||-1},{term:95,get:e=>bq[e]||-1}],tokenPrec:15201}),Tq=yr({String:Q.string,Number:Q.number,"True False":Q.bool,PropertyName:Q.propertyName,Null:Q.null,", :":Q.separator,"[ ]":Q.squareBracket,"{ }":Q.brace}),kq=$i.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[Tq],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});class Ul{static create(t,n,i,r,s){let a=r+(r<<8)+t+(n<<4)|0;return new Ul(t,n,i,a,s,[],[])}constructor(t,n,i,r,s,a,o){this.type=t,this.value=n,this.from=i,this.hash=r,this.end=s,this.children=a,this.positions=o,this.hashProp=[[je.contextHash,r]]}addChild(t,n){t.prop(je.contextHash)!=this.hash&&(t=new kt(t.type,t.children,t.positions,t.length,this.hashProp)),this.children.push(t),this.positions.push(n)}toTree(t,n=this.end){let i=this.children.length-1;return i>=0&&(n=Math.max(n,this.positions[i]+this.children[i].length+this.from)),new kt(t.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(r,s,a)=>new kt(nn.none,r,s,a,this.hashProp)})}}var ne;(function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.Autolink=33]="Autolink",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel",e[e.URL=44]="URL"})(ne||(ne={}));class yq{constructor(t,n){this.start=t,this.content=n,this.marks=[],this.parsers=[]}}class Sq{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return Po(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,n=0,i=0){for(let r=n;r<t;r++)i+=this.text.charCodeAt(r)==9?4-i%4:1;return i}findColumn(t){let n=0;for(let i=0;n<this.text.length&&i<t;n++)i+=this.text.charCodeAt(n)==9?4-i%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let t="";for(let n=0;n<this.basePos;n++)t+=" ";return t+this.text.slice(this.basePos)}}function xS(e,t,n){if(n.pos==n.text.length||e!=t.block&&n.indent>=t.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let i=(e.type==ne.OrderedList?Kp:Hp)(n,t,!1);return i>0&&(e.type!=ne.BulletList||Yp(n,t,!1)<0)&&n.text.charCodeAt(n.pos+i-1)==e.value}const CS={[ne.Blockquote](e,t,n){return n.next!=62?!1:(n.markers.push($e(ne.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1)),n.moveBase(n.pos+(Gn(n.text.charCodeAt(n.pos+1))?2:1)),e.end=t.lineStart+n.text.length,!0)},[ne.ListItem](e,t,n){return n.indent<n.baseIndent+e.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+e.value),!0)},[ne.OrderedList]:xS,[ne.BulletList]:xS,[ne.Document](){return!0}};function Gn(e){return e==32||e==9||e==10||e==13}function Po(e,t=0){for(;t<e.length&&Gn(e.charCodeAt(t));)t++;return t}function PS(e,t,n){for(;t>n&&Gn(e.charCodeAt(t-1));)t--;return t}function AS(e){if(e.next!=96&&e.next!=126)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(e.next==96){for(let n=t;n<e.text.length;n++)if(e.text.charCodeAt(n)==96)return-1}return t}function RS(e){return e.next!=62?-1:e.text.charCodeAt(e.pos+1)==32?2:1}function Yp(e,t,n){if(e.next!=42&&e.next!=45&&e.next!=95)return-1;let i=1;for(let r=e.pos+1;r<e.text.length;r++){let s=e.text.charCodeAt(r);if(s==e.next)i++;else if(!Gn(s))return-1}return n&&e.next==45&&NS(e)>-1&&e.depth==t.stack.length&&t.parser.leafBlockParsers.indexOf(US.SetextHeading)>-1||i<3?-1:1}function IS(e,t){for(let n=e.stack.length-1;n>=0;n--)if(e.stack[n].type==t)return!0;return!1}function Hp(e,t,n){return(e.next==45||e.next==43||e.next==42)&&(e.pos==e.text.length-1||Gn(e.text.charCodeAt(e.pos+1)))&&(!n||IS(t,ne.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?1:-1}function Kp(e,t,n){let i=e.pos,r=e.next;for(;r>=48&&r<=57;){if(i++,i==e.text.length)return-1;r=e.text.charCodeAt(i)}return i==e.pos||i>e.pos+9||r!=46&&r!=41||i<e.text.length-1&&!Gn(e.text.charCodeAt(i+1))||n&&!IS(t,ne.OrderedList)&&(e.skipSpace(i+1)==e.text.length||i>e.pos+1||e.next!=49)?-1:i+1-e.pos}function QS(e){if(e.next!=35)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==35;)t++;if(t<e.text.length&&e.text.charCodeAt(t)!=32)return-1;let n=t-e.pos;return n>6?-1:n}function NS(e){if(e.next!=45&&e.next!=61||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let n=t;for(;t<e.text.length&&Gn(e.text.charCodeAt(t));)t++;return t==e.text.length?n:-1}const Jp=/^[ \t]*$/,DS=/-->/,MS=/\?>/,ef=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,DS],[/^\s*<\?/,MS],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Jp],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Jp]];function LS(e,t,n){if(e.next!=60)return-1;let i=e.text.slice(e.pos);for(let r=0,s=ef.length-(n?1:0);r<s;r++)if(ef[r][0].test(i))return r;return-1}function $S(e,t){let n=e.countIndent(t,e.pos,e.indent),i=e.countIndent(e.skipSpace(t),t,n);return i>=n+5?n+1:i}function ts(e,t,n){let i=e.length-1;i>=0&&e[i].to==t&&e[i].type==ne.CodeText?e[i].to=n:e.push($e(ne.CodeText,t,n))}const ql={LinkReference:void 0,IndentedCode(e,t){let n=t.baseIndent+4;if(t.indent<n)return!1;let i=t.findColumn(n),r=e.lineStart+i,s=e.lineStart+t.text.length,a=[],o=[];for(ts(a,r,s);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){ts(o,e.lineStart-1,e.lineStart);for(let c of t.markers)o.push(c)}else{if(t.indent<n)break;{if(o.length){for(let l of o)l.type==ne.CodeText?ts(a,l.from,l.to):a.push(l);o=[]}ts(a,e.lineStart-1,e.lineStart);for(let l of t.markers)a.push(l);s=e.lineStart+t.text.length;let c=e.lineStart+t.findColumn(t.baseIndent+4);c<s&&ts(a,c,s)}}return o.length&&(o=o.filter(c=>c.type!=ne.CodeText),o.length&&(t.markers=o.concat(t.markers))),e.addNode(e.buffer.writeElements(a,-r).finish(ne.CodeBlock,s-r),r),!0},FencedCode(e,t){let n=AS(t);if(n<0)return!1;let i=e.lineStart+t.pos,r=t.next,s=n-t.pos,a=t.skipSpace(n),o=PS(t.text,t.text.length,a),c=[$e(ne.CodeMark,i,i+s)];a<o&&c.push($e(ne.CodeInfo,e.lineStart+a,e.lineStart+o));for(let l=!0;e.nextLine()&&t.depth>=e.stack.length;l=!1){let u=t.pos;if(t.indent-t.baseIndent<4)for(;u<t.text.length&&t.text.charCodeAt(u)==r;)u++;if(u-t.pos>=s&&t.skipSpace(u)==t.text.length){for(let d of t.markers)c.push(d);c.push($e(ne.CodeMark,e.lineStart+t.pos,e.lineStart+u)),e.nextLine();break}else{l||ts(c,e.lineStart-1,e.lineStart);for(let p of t.markers)c.push(p);let d=e.lineStart+t.basePos,h=e.lineStart+t.text.length;d<h&&ts(c,d,h)}}return e.addNode(e.buffer.writeElements(c,-i).finish(ne.FencedCode,e.prevLineEnd()-i),i),!0},Blockquote(e,t){let n=RS(t);return n<0?!1:(e.startContext(ne.Blockquote,t.pos),e.addNode(ne.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+n),null)},HorizontalRule(e,t){if(Yp(t,e,!1)<0)return!1;let n=e.lineStart+t.pos;return e.nextLine(),e.addNode(ne.HorizontalRule,n),!0},BulletList(e,t){let n=Hp(t,e,!1);if(n<0)return!1;e.block.type!=ne.BulletList&&e.startContext(ne.BulletList,t.basePos,t.next);let i=$S(t,t.pos+1);return e.startContext(ne.ListItem,t.basePos,i-t.baseIndent),e.addNode(ne.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(i),null},OrderedList(e,t){let n=Kp(t,e,!1);if(n<0)return!1;e.block.type!=ne.OrderedList&&e.startContext(ne.OrderedList,t.basePos,t.text.charCodeAt(t.pos+n-1));let i=$S(t,t.pos+n);return e.startContext(ne.ListItem,t.basePos,i-t.baseIndent),e.addNode(ne.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(i),null},ATXHeading(e,t){let n=QS(t);if(n<0)return!1;let i=t.pos,r=e.lineStart+i,s=PS(t.text,t.text.length,i),a=s;for(;a>i&&t.text.charCodeAt(a-1)==t.next;)a--;(a==s||a==i||!Gn(t.text.charCodeAt(a-1)))&&(a=t.text.length);let o=e.buffer.write(ne.HeaderMark,0,n).writeElements(e.parser.parseInline(t.text.slice(i+n+1,a),r+n+1),-r);a<t.text.length&&o.write(ne.HeaderMark,a-i,s-i);let c=o.finish(ne.ATXHeading1-1+n,t.text.length-i);return e.nextLine(),e.addNode(c,r),!0},HTMLBlock(e,t){let n=LS(t,e,!1);if(n<0)return!1;let i=e.lineStart+t.pos,r=ef[n][1],s=[],a=r!=Jp;for(;!r.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){a=!1;break}for(let l of t.markers)s.push(l)}a&&e.nextLine();let o=r==DS?ne.CommentBlock:r==MS?ne.ProcessingInstructionBlock:ne.HTMLBlock,c=e.prevLineEnd();return e.addNode(e.buffer.writeElements(s,-i).finish(o,c-i),i),!0},SetextHeading:void 0};class _q{constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}nextLine(t,n,i){if(this.stage==-1)return!1;let r=i.content+`
`+n.scrub(),s=this.advance(r);return s>-1&&s<r.length?this.complete(t,i,s):!1}finish(t,n){return(this.stage==2||this.stage==3)&&Po(n.content,this.pos)==n.content.length?this.complete(t,n,n.content.length):!1}complete(t,n,i){return t.addLeafElement(n,$e(ne.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(t===!1&&(this.stage=-1),!1)}advance(t){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(GS(t,this.pos,this.start,!0)))return-1;if(t.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push($e(ne.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(VS(t,Po(t,this.pos),this.start)))return-1}else if(this.stage==2){let n=Po(t,this.pos),i=0;if(n>this.pos){let r=WS(t,n,this.start);if(r){let s=tf(t,r.to-this.start);s>0&&(this.nextStage(r),i=s)}}return i||(i=tf(t,this.pos)),i>0&&i<t.length?i:-1}else return tf(t,this.pos)}}}function tf(e,t){for(;t<e.length;t++){let n=e.charCodeAt(t);if(n==10)break;if(!Gn(n))return-1}return t}class wq{nextLine(t,n,i){let r=n.depth<t.stack.length?-1:NS(n),s=n.next;if(r<0)return!1;let a=$e(ne.HeaderMark,t.lineStart+n.pos,t.lineStart+r);return t.nextLine(),t.addLeafElement(i,$e(s==61?ne.SetextHeading1:ne.SetextHeading2,i.start,t.prevLineEnd(),[...t.parser.parseInline(i.content,i.start),a])),!0}finish(){return!1}}const US={LinkReference(e,t){return t.content.charCodeAt(0)==91?new _q(t):null},SetextHeading(){return new wq}},Eq=[(e,t)=>QS(t)>=0,(e,t)=>AS(t)>=0,(e,t)=>RS(t)>=0,(e,t)=>Hp(t,e,!0)>=0,(e,t)=>Kp(t,e,!0)>=0,(e,t)=>Yp(t,e,!0)>=0,(e,t)=>LS(t,e,!0)>=0],xq={text:"",end:0};class Cq{constructor(t,n,i,r){this.parser=t,this.input=n,this.ranges=r,this.line=new Sq,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=r[r.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=r[0].from,this.block=Ul.create(ne.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new Rq(i,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:t}=this;for(;;){for(let i=0;;){let r=t.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<t.markers.length&&(!r||t.markers[i].from<r.end);){let s=t.markers[i++];this.addNode(s.type,s.from,s.to)}if(!r)break;this.finishContext()}if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let r=i(this,t);if(r!=!1){if(r==!0)return null;t.forward();continue e}}break}let n=new yq(this.lineStart+t.pos,t.text.slice(t.pos));for(let i of this.parser.leafBlockParsers)if(i){let r=i(this,n);r&&n.parsers.push(r)}e:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,t,n))break e}for(let i of n.parsers)if(i.nextLine(this,t,n))return null;n.content+=`
`+t.scrub();for(let i of t.markers)n.marks.push(i)}return this.finishLeaf(n),null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}reuseFragment(t){if(!this.fragments.moveTo(this.absoluteLineStart+t,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=YS(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(t=this.depth-1){return this.parser.nodeSet.types[this.stack[t].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(t){let n=xq;if(n.end=t,t>=this.to)n.text="";else if(n.text=this.lineChunkAt(t),n.end+=n.text.length,this.ranges.length>1){let i=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<n.end;){r++;let s=this.ranges[r].from,a=this.lineChunkAt(s);n.end=s+a.length,n.text=n.text.slice(0,this.ranges[r-1].to-i)+a,i=n.end-n.text.length}}return n}readLine(){let{line:t}=this,{text:n,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,t.reset(n);t.depth<this.stack.length;t.depth++){let r=this.stack[t.depth],s=this.parser.skipContextMarkup[r.type];if(!s)throw new Error("Unhandled block context "+ne[r.type]);let a=this.line.markers.length;if(!s(r,this,t)){this.line.markers.length>a&&(r.end=this.line.markers[this.line.markers.length-1].to),t.forward();break}t.forward()}}lineChunkAt(t){let n=this.input.chunk(t),i;if(this.input.lineChunks)i=n==`
`?"":n;else{let r=n.indexOf(`
`);i=r<0?n:n.slice(0,r)}return t+i.length>this.to?i.slice(0,this.to-t):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,n,i=0){this.block=Ul.create(t,i,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,n,i=0){this.startContext(this.parser.getNodeType(t),n,i)}addNode(t,n,i){typeof t=="number"&&(t=new kt(this.parser.nodeSet.types[t],ea,ea,(i??this.prevLineEnd())-n)),this.block.addChild(t,n-this.block.from)}addElement(t){this.block.addChild(t.toTree(this.parser.nodeSet),t.from-this.block.from)}addLeafElement(t,n){this.addNode(this.buffer.writeElements(cf(n.children,t.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let t=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(t.toTree(this.parser.nodeSet),t.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(t){return this.ranges.length>1?qS(this.ranges,0,t.topNode,this.ranges[0].from,this.reusePlaceholders):t}finishLeaf(t){for(let i of t.parsers)if(i.finish(this,t))return;let n=cf(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(n,-t.start).finish(ne.Paragraph,t.content.length),t.start)}elt(t,n,i,r){return typeof t=="string"?$e(this.parser.getNodeType(t),n,i,r):new BS(t,n)}get buffer(){return new FS(this.parser.nodeSet)}}function qS(e,t,n,i,r){let s=e[t].to,a=[],o=[],c=n.from+i;function l(u,d){for(;d?u>=s:u>s;){let h=e[t+1].from-s;i+=h,u+=h,t++,s=e[t].to}}for(let u=n.firstChild;u;u=u.nextSibling){l(u.from+i,!0);let d=u.from+i,h,p=r.get(u.tree);p?h=p:u.to+i>s?(h=qS(e,t,u,i,r),l(u.to+i,!1)):h=u.toTree(),a.push(h),o.push(d-c)}return l(n.to+i,!1),new kt(n.type,a,o,n.to+i-c,n.tree?n.tree.propValues:void 0)}class nf extends Fy{constructor(t,n,i,r,s,a,o,c,l){super(),this.nodeSet=t,this.blockParsers=n,this.leafBlockParsers=i,this.blockNames=r,this.endLeafBlock=s,this.skipContextMarkup=a,this.inlineParsers=o,this.inlineNames=c,this.wrappers=l,this.nodeTypes=Object.create(null);for(let u of t.types)this.nodeTypes[u.name]=u.id}createParse(t,n,i){let r=new Cq(this,t,n,i);for(let s of this.wrappers)r=s(r,t,n,i);return r}configure(t){let n=rf(t);if(!n)return this;let{nodeSet:i,skipContextMarkup:r}=this,s=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),o=this.blockNames.slice(),c=this.inlineParsers.slice(),l=this.inlineNames.slice(),u=this.endLeafBlock.slice(),d=this.wrappers;if(Ao(n.defineNodes)){r=Object.assign({},r);let h=i.types.slice(),p;for(let m of n.defineNodes){let{name:O,block:b,composite:v,style:T}=typeof m=="string"?{name:m}:m;if(h.some(y=>y.name==O))continue;v&&(r[h.length]=(y,_,x)=>v(_,x,y.value));let S=h.length,k=v?["Block","BlockContext"]:b?S>=ne.ATXHeading1&&S<=ne.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;h.push(nn.define({id:S,name:O,props:k&&[[je.group,k]]})),T&&(p||(p={}),Array.isArray(T)||T instanceof di?p[O]=T:Object.assign(p,T))}i=new bo(h),p&&(i=i.extend(yr(p)))}if(Ao(n.props)&&(i=i.extend(...n.props)),Ao(n.remove))for(let h of n.remove){let p=this.blockNames.indexOf(h),m=this.inlineNames.indexOf(h);p>-1&&(s[p]=a[p]=void 0),m>-1&&(c[m]=void 0)}if(Ao(n.parseBlock))for(let h of n.parseBlock){let p=o.indexOf(h.name);if(p>-1)s[p]=h.parse,a[p]=h.leaf;else{let m=h.before?Xl(o,h.before):h.after?Xl(o,h.after)+1:o.length-1;s.splice(m,0,h.parse),a.splice(m,0,h.leaf),o.splice(m,0,h.name)}h.endLeaf&&u.push(h.endLeaf)}if(Ao(n.parseInline))for(let h of n.parseInline){let p=l.indexOf(h.name);if(p>-1)c[p]=h.parse;else{let m=h.before?Xl(l,h.before):h.after?Xl(l,h.after)+1:l.length-1;c.splice(m,0,h.parse),l.splice(m,0,h.name)}}return n.wrap&&(d=d.concat(n.wrap)),new nf(i,s,a,o,u,r,c,l,d)}getNodeType(t){let n=this.nodeTypes[t];if(n==null)throw new RangeError(`Unknown node type '${t}'`);return n}parseInline(t,n){let i=new of(this,t,n);e:for(let r=n;r<i.end;){let s=i.char(r);for(let a of this.inlineParsers)if(a){let o=a(i,s,r);if(o>=0){r=o;continue e}}r++}return i.resolveMarkers(0)}}function Ao(e){return e!=null&&e.length>0}function rf(e){if(!Array.isArray(e))return e;if(e.length==0)return null;let t=rf(e[0]);if(e.length==1)return t;let n=rf(e.slice(1));if(!n||!t)return t||n;let i=(a,o)=>(a||ea).concat(o||ea),r=t.wrap,s=n.wrap;return{props:i(t.props,n.props),defineNodes:i(t.defineNodes,n.defineNodes),parseBlock:i(t.parseBlock,n.parseBlock),parseInline:i(t.parseInline,n.parseInline),remove:i(t.remove,n.remove),wrap:r?s?(a,o,c,l)=>r(s(a,o,c,l),o,c,l):r:s}}function Xl(e,t){let n=e.indexOf(t);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return n}let XS=[nn.none];for(let e=1,t;t=ne[e];e++)XS[e]=nn.define({id:e,name:t,props:e>=ne.Escape?[]:[[je.group,e in CS?["Block","BlockContext"]:["Block","LeafBlock"]]],top:t=="Document"});const ea=[];class FS{constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}write(t,n,i,r=0){return this.content.push(t,n,i,4+r*4),this}writeElements(t,n=0){for(let i of t)i.writeTo(this,n);return this}finish(t,n){return kt.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:n})}}let Ro=class{constructor(e,t,n,i=ea){this.type=e,this.from=t,this.to=n,this.children=i}writeTo(e,t){let n=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-n)}toTree(e){return new FS(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class BS{constructor(t,n){this.tree=t,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return ea}writeTo(t,n){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function $e(e,t,n,i){return new Ro(e,t,n,i)}const zS={resolve:"Emphasis",mark:"EmphasisMark"},ZS={resolve:"Emphasis",mark:"EmphasisMark"},ns={},Fl={};class _n{constructor(t,n,i,r){this.type=t,this.from=n,this.to=i,this.side=r}}const jS="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let sf=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{sf=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const af={Escape(e,t,n){if(t!=92||n==e.end-1)return-1;let i=e.char(n+1);for(let r=0;r<jS.length;r++)if(jS.charCodeAt(r)==i)return e.append($e(ne.Escape,n,n+2));return-1},Entity(e,t,n){if(t!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(n+1,n+31));return i?e.append($e(ne.Entity,n,n+1+i[0].length)):-1},InlineCode(e,t,n){if(t!=96||n&&e.char(n-1)==96)return-1;let i=n+1;for(;i<e.end&&e.char(i)==96;)i++;let r=i-n,s=0;for(;i<e.end;i++)if(e.char(i)==96){if(s++,s==r&&e.char(i+1)!=96)return e.append($e(ne.InlineCode,n,i+1,[$e(ne.CodeMark,n,n+r),$e(ne.CodeMark,i+1-r,i+1)]))}else s=0;return-1},HTMLTag(e,t,n){if(t!=60||n==e.end-1)return-1;let i=e.slice(n+1,e.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return e.append($e(ne.Autolink,n,n+1+r[0].length,[$e(ne.LinkMark,n,n+1),$e(ne.URL,n+1,n+r[0].length),$e(ne.LinkMark,n+r[0].length,n+1+r[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return e.append($e(ne.Comment,n,n+1+s[0].length));let a=/^\?[^]*?\?>/.exec(i);if(a)return e.append($e(ne.ProcessingInstruction,n,n+1+a[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return o?e.append($e(ne.HTMLTag,n,n+1+o[0].length)):-1},Emphasis(e,t,n){if(t!=95&&t!=42)return-1;let i=n+1;for(;e.char(i)==t;)i++;let r=e.slice(n-1,n),s=e.slice(i,i+1),a=sf.test(r),o=sf.test(s),c=/\s|^$/.test(r),l=/\s|^$/.test(s),u=!l&&(!o||c||a),d=!c&&(!a||l||o),h=u&&(t==42||!d||a),p=d&&(t==42||!u||o);return e.append(new _n(t==95?zS:ZS,n,i,(h?1:0)|(p?2:0)))},HardBreak(e,t,n){if(t==92&&e.char(n+1)==10)return e.append($e(ne.HardBreak,n,n+2));if(t==32){let i=n+1;for(;e.char(i)==32;)i++;if(e.char(i)==10&&i>=n+2)return e.append($e(ne.HardBreak,n,i+1))}return-1},Link(e,t,n){return t==91?e.append(new _n(ns,n,n+1,1)):-1},Image(e,t,n){return t==33&&e.char(n+1)==91?e.append(new _n(Fl,n,n+2,1)):-1},LinkEnd(e,t,n){if(t!=93)return-1;for(let i=e.parts.length-1;i>=0;i--){let r=e.parts[i];if(r instanceof _n&&(r.type==ns||r.type==Fl)){if(!r.side||e.skipSpace(r.to)==n&&!/[(\[]/.test(e.slice(n+1,n+2)))return e.parts[i]=null,-1;let s=e.takeContent(i),a=e.parts[i]=Pq(e,s,r.type==ns?ne.Link:ne.Image,r.from,n+1);if(r.type==ns)for(let o=0;o<i;o++){let c=e.parts[o];c instanceof _n&&c.type==ns&&(c.side=0)}return a.to}}return-1}};function Pq(e,t,n,i,r){let{text:s}=e,a=e.char(r),o=r;if(t.unshift($e(ne.LinkMark,i,i+(n==ne.Image?2:1))),t.push($e(ne.LinkMark,r-1,r)),a==40){let c=e.skipSpace(r+1),l=VS(s,c-e.offset,e.offset),u;l&&(c=e.skipSpace(l.to),c!=l.to&&(u=WS(s,c-e.offset,e.offset),u&&(c=e.skipSpace(u.to)))),e.char(c)==41&&(t.push($e(ne.LinkMark,r,r+1)),o=c+1,l&&t.push(l),u&&t.push(u),t.push($e(ne.LinkMark,c,o)))}else if(a==91){let c=GS(s,r-e.offset,e.offset,!1);c&&(t.push(c),o=c.to)}return $e(n,i,o,t)}function VS(e,t,n){if(e.charCodeAt(t)==60){for(let i=t+1;i<e.length;i++){let r=e.charCodeAt(i);if(r==62)return $e(ne.URL,t+n,i+1+n);if(r==60||r==10)return!1}return null}else{let i=0,r=t;for(let s=!1;r<e.length;r++){let a=e.charCodeAt(r);if(Gn(a))break;if(s)s=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(s=!0)}return r>t?$e(ne.URL,t+n,r+n):r==e.length?null:!1}}function WS(e,t,n){let i=e.charCodeAt(t);if(i!=39&&i!=34&&i!=40)return!1;let r=i==40?41:i;for(let s=t+1,a=!1;s<e.length;s++){let o=e.charCodeAt(s);if(a)a=!1;else{if(o==r)return $e(ne.LinkTitle,t+n,s+1+n);o==92&&(a=!0)}}return null}function GS(e,t,n,i){for(let r=!1,s=t+1,a=Math.min(e.length,s+999);s<a;s++){let o=e.charCodeAt(s);if(r)r=!1;else{if(o==93)return i?!1:$e(ne.LinkLabel,t+n,s+1+n);if(i&&!Gn(o)&&(i=!1),o==91)return!1;o==92&&(r=!0)}}return null}class of{constructor(t,n,i){this.parser=t,this.text=n,this.offset=i,this.parts=[]}char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,n){return this.text.slice(t-this.offset,n-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,n,i,r,s){return this.append(new _n(t,n,i,(r?1:0)|(s?2:0)))}get hasOpenLink(){for(let t=this.parts.length-1;t>=0;t--){let n=this.parts[t];if(n instanceof _n&&(n.type==ns||n.type==Fl))return!0}return!1}addElement(t){return this.append(t)}resolveMarkers(t){for(let i=t;i<this.parts.length;i++){let r=this.parts[i];if(!(r instanceof _n&&r.type.resolve&&r.side&2))continue;let s=r.type==zS||r.type==ZS,a=r.to-r.from,o,c=i-1;for(;c>=t;c--){let m=this.parts[c];if(m instanceof _n&&m.side&1&&m.type==r.type&&!(s&&(r.side&1||m.side&2)&&(m.to-m.from+a)%3==0&&((m.to-m.from)%3||a%3))){o=m;break}}if(!o)continue;let l=r.type.resolve,u=[],d=o.from,h=r.to;if(s){let m=Math.min(2,o.to-o.from,a);d=o.to-m,h=r.from+m,l=m==1?"Emphasis":"StrongEmphasis"}o.type.mark&&u.push(this.elt(o.type.mark,d,o.to));for(let m=c+1;m<i;m++)this.parts[m]instanceof Ro&&u.push(this.parts[m]),this.parts[m]=null;r.type.mark&&u.push(this.elt(r.type.mark,r.from,h));let p=this.elt(l,d,h,u);this.parts[c]=s&&o.from!=d?new _n(o.type,o.from,d,o.side):null,(this.parts[i]=s&&r.to!=h?new _n(r.type,h,r.to,r.side):null)?this.parts.splice(i,0,p):this.parts[i]=p}let n=[];for(let i=t;i<this.parts.length;i++){let r=this.parts[i];r instanceof Ro&&n.push(r)}return n}findOpeningDelimiter(t){for(let n=this.parts.length-1;n>=0;n--){let i=this.parts[n];if(i instanceof _n&&i.type==t&&i.side&1)return n}return null}takeContent(t){let n=this.resolveMarkers(t);return this.parts.length=t,n}getDelimiterAt(t){let n=this.parts[t];return n instanceof _n?n:null}skipSpace(t){return Po(this.text,t-this.offset)+this.offset}elt(t,n,i,r){return typeof t=="string"?$e(this.parser.getNodeType(t),n,i,r):new BS(t,n)}}of.linkStart=ns,of.imageStart=Fl;function cf(e,t){if(!t.length)return e;if(!e.length)return t;let n=e.slice(),i=0;for(let r of t){for(;i<n.length&&n[i].to<r.to;)i++;if(i<n.length&&n[i].from<r.from){let s=n[i];s instanceof Ro&&(n[i]=new Ro(s.type,s.from,s.to,cf(s.children,[r])))}else n.splice(i++,0,r)}return n}const Aq=[ne.CodeBlock,ne.ListItem,ne.OrderedList,ne.BulletList];class Rq{constructor(t,n){this.fragments=t,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,n){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=t+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=n;if(!i.childAfter(r))return!1}}matches(t){let n=this.cursor.tree;return n&&n.prop(je.contextHash)==t}takeNodes(t){let n=this.cursor,i=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),s=t.absoluteLineStart,a=s,o=t.block.children.length,c=a,l=o;for(;;){if(n.to-i>r){if(n.type.isAnonymous&&n.firstChild())continue;break}let u=YS(n.from-i,t.ranges);if(n.to-i<=t.ranges[t.rangeI].to)t.addNode(n.tree,u);else{let d=new kt(t.parser.nodeSet.types[ne.Paragraph],[],[],0,t.block.hashProp);t.reusePlaceholders.set(d,n.tree),t.addNode(d,u)}if(n.type.is("Block")&&(Aq.indexOf(n.type.id)<0?(a=n.to-i,o=t.block.children.length):(a=c,o=l,c=n.to-i,l=t.block.children.length)),!n.nextSibling())break}for(;t.block.children.length>o;)t.block.children.pop(),t.block.positions.pop();return a-s}}function YS(e,t){let n=e;for(let i=1;i<t.length;i++){let r=t[i-1].to,s=t[i].from;r<e&&(n-=s-r)}return n}const Iq=yr({"Blockquote/...":Q.quote,HorizontalRule:Q.contentSeparator,"ATXHeading1/... SetextHeading1/...":Q.heading1,"ATXHeading2/... SetextHeading2/...":Q.heading2,"ATXHeading3/...":Q.heading3,"ATXHeading4/...":Q.heading4,"ATXHeading5/...":Q.heading5,"ATXHeading6/...":Q.heading6,"Comment CommentBlock":Q.comment,Escape:Q.escape,Entity:Q.character,"Emphasis/...":Q.emphasis,"StrongEmphasis/...":Q.strong,"Link/... Image/...":Q.link,"OrderedList/... BulletList/...":Q.list,"BlockQuote/...":Q.quote,"InlineCode CodeText":Q.monospace,"URL Autolink":Q.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Q.processingInstruction,"CodeInfo LinkLabel":Q.labelName,LinkTitle:Q.string,Paragraph:Q.content}),Qq=new nf(new bo(XS).extend(Iq),Object.keys(ql).map(e=>ql[e]),Object.keys(ql).map(e=>US[e]),Object.keys(ql),Eq,CS,Object.keys(af).map(e=>af[e]),Object.keys(af),[]);Q.special(Q.content),Q.special(Q.content);const Nq=1,HS=194,KS=195,Dq=196,JS=197,Mq=198,Lq=199,$q=200,Uq=2,e_=3,t_=201,qq=24,Xq=25,Fq=49,Bq=50,zq=55,Zq=56,jq=57,Vq=59,Wq=60,Gq=61,Yq=62,Hq=63,Kq=65,Jq=238,e6=71,t6=241,n6=242,i6=243,r6=244,s6=245,a6=246,o6=247,c6=248,n_=72,l6=249,u6=250,d6=251,h6=252,p6=253,f6=254,m6=255,O6=256,g6=73,v6=77,b6=263,T6=112,k6=130,y6=151,S6=152,_6=155,is=10,Io=13,lf=32,Bl=9,uf=35,w6=40,E6=46,df=123,i_=125,r_=39,s_=34,a_=92,x6=111,C6=120,P6=78,A6=117,R6=85,I6=new Set([Xq,Fq,Bq,b6,Kq,k6,Zq,jq,Jq,Yq,Hq,n_,g6,v6,Wq,Gq,y6,S6,_6,T6]);function hf(e){return e==is||e==Io}function pf(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}const Q6=new Qt((e,t)=>{let n;if(e.next<0)e.acceptToken(Lq);else if(t.context.flags&zl)hf(e.next)&&e.acceptToken(Mq,1);else if(((n=e.peek(-1))<0||hf(n))&&t.canShift(JS)){let i=0;for(;e.next==lf||e.next==Bl;)e.advance(),i++;(e.next==is||e.next==Io||e.next==uf)&&e.acceptToken(JS,-i)}else hf(e.next)&&e.acceptToken(Dq,1)},{contextual:!0}),N6=new Qt((e,t)=>{let n=t.context;if(n.flags)return;let i=e.peek(-1);if(i==is||i==Io){let r=0,s=0;for(;;){if(e.next==lf)r++;else if(e.next==Bl)r+=8-r%8;else break;e.advance(),s++}r!=n.indent&&e.next!=is&&e.next!=Io&&e.next!=uf&&(r<n.indent?e.acceptToken(KS,-s):e.acceptToken(HS))}}),zl=1,o_=2,qi=4,Xi=8,Fi=16,Bi=32;function Zl(e,t,n){this.parent=e,this.indent=t,this.flags=n,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+n+(n<<6)}const D6=new Zl(null,0,0);function M6(e){let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n)==Bl?8-t%8:1;return t}const c_=new Map([[t6,0],[n6,qi],[i6,Xi],[r6,Xi|qi],[s6,Fi],[a6,Fi|qi],[o6,Fi|Xi],[c6,Fi|Xi|qi],[l6,Bi],[u6,Bi|qi],[d6,Bi|Xi],[h6,Bi|Xi|qi],[p6,Bi|Fi],[f6,Bi|Fi|qi],[m6,Bi|Fi|Xi],[O6,Bi|Fi|Xi|qi]].map(([e,t])=>[e,t|o_])),L6=new Co({start:D6,reduce(e,t,n,i){return e.flags&zl&&I6.has(t)||(t==e6||t==n_)&&e.flags&o_?e.parent:e},shift(e,t,n,i){return t==HS?new Zl(e,M6(i.read(i.pos,n.pos)),0):t==KS?e.parent:t==qq||t==zq||t==Vq||t==e_?new Zl(e,0,zl):c_.has(t)?new Zl(e,0,c_.get(t)|e.flags&zl):e},hash(e){return e.hash}}),$6=new Qt(e=>{for(let t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(let t=0;;t++){let n=e.peek(t);if(!(n==lf||n==Bl)){n!=w6&&n!=E6&&n!=is&&n!=Io&&n!=uf&&e.acceptToken(Nq);return}}}),U6=new Qt((e,t)=>{let{flags:n}=t.context,i=n&qi?s_:r_,r=(n&Xi)>0,s=!(n&Fi),a=(n&Bi)>0,o=e.pos;for(;!(e.next<0);)if(a&&e.next==df)if(e.peek(1)==df)e.advance(2);else{if(e.pos==o){e.acceptToken(e_,1);return}break}else if(s&&e.next==a_){if(e.pos==o){e.advance();let c=e.next;c>=0&&(e.advance(),q6(e,c)),e.acceptToken(Uq);return}break}else if(e.next==a_&&!s&&e.peek(1)>-1)e.advance(2);else if(e.next==i&&(!r||e.peek(1)==i&&e.peek(2)==i)){if(e.pos==o){e.acceptToken(t_,r?3:1);return}break}else if(e.next==is){if(r)e.advance();else if(e.pos==o){e.acceptToken(t_);return}break}else e.advance();e.pos>o&&e.acceptToken($q)});function q6(e,t){if(t==x6)for(let n=0;n<2&&e.next>=48&&e.next<=55;n++)e.advance();else if(t==C6)for(let n=0;n<2&&pf(e.next);n++)e.advance();else if(t==A6)for(let n=0;n<4&&pf(e.next);n++)e.advance();else if(t==R6)for(let n=0;n<8&&pf(e.next);n++)e.advance();else if(t==P6&&e.next==df){for(e.advance();e.next>=0&&e.next!=i_&&e.next!=r_&&e.next!=s_&&e.next!=is;)e.advance();e.next==i_&&e.advance()}}const X6=yr({'async "*" "**" FormatConversion FormatSpec':Q.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":Q.controlKeyword,"in not and or is del":Q.operatorKeyword,"from def class global nonlocal lambda":Q.definitionKeyword,import:Q.moduleKeyword,"with as print":Q.keyword,Boolean:Q.bool,None:Q.null,VariableName:Q.variableName,"CallExpression/VariableName":Q.function(Q.variableName),"FunctionDefinition/VariableName":Q.function(Q.definition(Q.variableName)),"ClassDefinition/VariableName":Q.definition(Q.className),PropertyName:Q.propertyName,"CallExpression/MemberExpression/PropertyName":Q.function(Q.propertyName),Comment:Q.lineComment,Number:Q.number,String:Q.string,FormatString:Q.special(Q.string),Escape:Q.escape,UpdateOp:Q.updateOperator,"ArithOp!":Q.arithmeticOperator,BitOp:Q.bitwiseOperator,CompareOp:Q.compareOperator,AssignOp:Q.definitionOperator,Ellipsis:Q.punctuation,At:Q.meta,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace,".":Q.derefOperator,", ;":Q.separator}),F6={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},B6=$i.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:L6,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[X6],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[$6,N6,Q6,U6,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:e=>F6[e]||-1}],tokenPrec:7668}),ff=1,z6=2,Z6=3,j6=4,V6=5,W6=36,G6=37,Y6=38,H6=11,K6=13;function J6(e){return e==45||e==46||e==58||e>=65&&e<=90||e==95||e>=97&&e<=122||e>=161}function e9(e){return e==9||e==10||e==13||e==32}let l_=null,u_=null,d_=0;function mf(e,t){let n=e.pos+t;if(u_==e&&d_==n)return l_;for(;e9(e.peek(t));)t++;let i="";for(;;){let r=e.peek(t);if(!J6(r))break;i+=String.fromCharCode(r),t++}return u_=e,d_=n,l_=i||null}function h_(e,t){this.name=e,this.parent=t}const t9=new Co({start:null,shift(e,t,n,i){return t==ff?new h_(mf(i,1)||"",e):e},reduce(e,t){return t==H6&&e?e.parent:e},reuse(e,t,n,i){let r=t.type.id;return r==ff||r==K6?new h_(mf(i,1)||"",e):e},strict:!1}),n9=new Qt((e,t)=>{if(e.next==60){if(e.advance(),e.next==47){e.advance();let n=mf(e,0);if(!n)return e.acceptToken(V6);if(t.context&&n==t.context.name)return e.acceptToken(z6);for(let i=t.context;i;i=i.parent)if(i.name==n)return e.acceptToken(Z6,-2);e.acceptToken(j6)}else if(e.next!=33&&e.next!=63)return e.acceptToken(ff)}},{contextual:!0});function Of(e,t){return new Qt(n=>{let i=0,r=t.charCodeAt(0);e:for(;!(n.next<0);n.advance(),i++)if(n.next==r){for(let s=1;s<t.length;s++)if(n.peek(s)!=t.charCodeAt(s))continue e;break}i&&n.acceptToken(e)})}const i9=Of(W6,"-->"),r9=Of(G6,"?>"),s9=Of(Y6,"]]>"),a9=yr({Text:Q.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":Q.angleBracket,TagName:Q.tagName,"MismatchedCloseTag/TagName":[Q.tagName,Q.invalid],AttributeName:Q.attributeName,AttributeValue:Q.attributeValue,Is:Q.definitionOperator,"EntityReference CharacterReference":Q.character,Comment:Q.blockComment,ProcessingInst:Q.processingInstruction,DoctypeDecl:Q.documentMeta,Cdata:Q.special(Q.string)}),o9=$i.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:" StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:t9,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[a9],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[n9,i9,r9,s9,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0}),ta=63,p_=64,c9=1,l9=2,f_=3,u9=4,m_=5,d9=6,h9=7,O_=65,p9=66,f9=8,m9=9,O9=10,g9=11,v9=12,g_=13,b9=19,T9=20,k9=29,y9=33,S9=34,_9=47,w9=0,gf=1,vf=2,Qo=3,bf=4;class rs{constructor(t,n,i){this.parent=t,this.depth=n,this.type=i,this.hash=(t?t.hash+t.hash<<8:0)+n+(n<<4)+i}}rs.top=new rs(null,-1,w9);function No(e,t){for(let n=0,i=t-e.pos-1;;i--,n++){let r=e.peek(i);if(zi(r)||r==-1)return n}}function Tf(e){return e==32||e==9}function zi(e){return e==10||e==13}function v_(e){return Tf(e)||zi(e)}function ss(e){return e<0||v_(e)}const E9=new Co({start:rs.top,reduce(e,t){return e.type==Qo&&(t==T9||t==S9)?e.parent:e},shift(e,t,n,i){if(t==f_)return new rs(e,No(i,i.pos),gf);if(t==O_||t==m_)return new rs(e,No(i,i.pos),vf);if(t==ta)return e.parent;if(t==b9||t==y9)return new rs(e,0,Qo);if(t==g_&&e.type==bf)return e.parent;if(t==_9){let r=/[1-9]/.exec(i.read(i.pos,n.pos));if(r)return new rs(e,e.depth+ +r[0],bf)}return e},hash(e){return e.hash}});function na(e,t,n=0){return e.peek(n)==t&&e.peek(n+1)==t&&e.peek(n+2)==t&&ss(e.peek(n+3))}const x9=new Qt((e,t)=>{if(e.next==-1&&t.canShift(p_))return e.acceptToken(p_);let n=e.peek(-1);if((zi(n)||n<0)&&t.context.type!=Qo){if(na(e,45))if(t.canShift(ta))e.acceptToken(ta);else return e.acceptToken(c9,3);if(na(e,46))if(t.canShift(ta))e.acceptToken(ta);else return e.acceptToken(l9,3);let i=0;for(;e.next==32;)i++,e.advance();(i<t.context.depth||i==t.context.depth&&t.context.type==gf&&(e.next!=45||!ss(e.peek(1))))&&e.next!=-1&&!zi(e.next)&&e.next!=35&&e.acceptToken(ta,-i)}},{contextual:!0}),C9=new Qt((e,t)=>{if(t.context.type==Qo){e.next==63&&(e.advance(),ss(e.next)&&e.acceptToken(h9));return}if(e.next==45)e.advance(),ss(e.next)&&e.acceptToken(t.context.type==gf&&t.context.depth==No(e,e.pos-1)?u9:f_);else if(e.next==63)e.advance(),ss(e.next)&&e.acceptToken(t.context.type==vf&&t.context.depth==No(e,e.pos-1)?d9:m_);else{let n=e.pos;for(;;)if(Tf(e.next)){if(e.pos==n)return;e.advance()}else if(e.next==33)k_(e);else if(e.next==38)kf(e);else if(e.next==42){kf(e);break}else if(e.next==39||e.next==34){if(yf(e,!0))break;return}else if(e.next==91||e.next==123){if(!A9(e))return;break}else{y_(e,!0,!1,0);break}for(;Tf(e.next);)e.advance();if(e.next==58){if(e.pos==n&&t.canShift(k9))return;let i=e.peek(1);ss(i)&&e.acceptTokenTo(t.context.type==vf&&t.context.depth==No(e,n)?p9:O_,n)}}},{contextual:!0});function P9(e){return e>32&&e<127&&e!=34&&e!=37&&e!=44&&e!=60&&e!=62&&e!=92&&e!=94&&e!=96&&e!=123&&e!=124&&e!=125}function b_(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function T_(e,t){return e.next==37?(e.advance(),b_(e.next)&&e.advance(),b_(e.next)&&e.advance(),!0):P9(e.next)||t&&e.next==44?(e.advance(),!0):!1}function k_(e){if(e.advance(),e.next==60){for(e.advance();;)if(!T_(e,!0)){e.next==62&&e.advance();break}}else for(;T_(e,!1););}function kf(e){for(e.advance();!ss(e.next)&&jl(e.tag)!="f";)e.advance()}function yf(e,t){let n=e.next,i=!1,r=e.pos;for(e.advance();;){let s=e.next;if(s<0)break;if(e.advance(),s==n)if(s==39)if(e.next==39)e.advance();else break;else break;else if(s==92&&n==34)e.next>=0&&e.advance();else if(zi(s)){if(t)return!1;i=!0}else if(t&&e.pos>=r+1024)return!1}return!i}function A9(e){for(let t=[],n=e.pos+1024;;)if(e.next==91||e.next==123)t.push(e.next),e.advance();else if(e.next==39||e.next==34){if(!yf(e,!0))return!1}else if(e.next==93||e.next==125){if(t[t.length-1]!=e.next-2)return!1;if(t.pop(),e.advance(),!t.length)return!0}else{if(e.next<0||e.pos>n||zi(e.next))return!1;e.advance()}}const R9="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function jl(e){return e<33?"u":e>125?"s":R9[e-33]}function Sf(e,t){let n=jl(e);return n!="u"&&!(t&&n=="f")}function y_(e,t,n,i){if(jl(e.next)=="s"||(e.next==63||e.next==58||e.next==45)&&Sf(e.peek(1),n))e.advance();else return!1;let r=e.pos;for(;;){let s=e.next,a=0,o=i+1;for(;v_(s);){if(zi(s)){if(t)return!1;o=0}else o++;s=e.peek(++a)}if(!(s>=0&&(s==58?Sf(e.peek(a+1),n):s==35?e.peek(a-1)!=32:Sf(s,n)))||!n&&o<=i||o==0&&!n&&(na(e,45,a)||na(e,46,a)))break;if(t&&jl(s)=="f")return!1;for(let c=a;c>=0;c--)e.advance();if(t&&e.pos>r+1024)return!1}return!0}const I9=new Qt((e,t)=>{if(e.next==33)k_(e),e.acceptToken(v9);else if(e.next==38||e.next==42){let n=e.next==38?O9:g9;kf(e),e.acceptToken(n)}else e.next==39||e.next==34?(yf(e,!1),e.acceptToken(m9)):y_(e,!1,t.context.type==Qo,t.context.depth)&&e.acceptToken(f9)}),Q9=new Qt((e,t)=>{let n=t.context.type==bf?t.context.depth:-1,i=e.pos;e:for(;;){let r=0,s=e.next;for(;s==32;)s=e.peek(++r);if(!r&&(na(e,45,r)||na(e,46,r))||!zi(s)&&(n<0&&(n=Math.max(t.context.depth+1,r)),r<n))break;for(;;){if(e.next<0)break e;let a=zi(e.next);if(e.advance(),a)continue e;i=e.pos}}e.acceptTokenTo(g_,i)}),N9=yr({DirectiveName:Q.keyword,DirectiveContent:Q.attributeValue,"DirectiveEnd DocEnd":Q.meta,QuotedLiteral:Q.string,BlockLiteralHeader:Q.special(Q.string),BlockLiteralContent:Q.content,Literal:Q.content,"Key/Literal Key/QuotedLiteral":Q.definition(Q.propertyName),"Anchor Alias":Q.labelName,Tag:Q.typeName,Comment:Q.lineComment,": , -":Q.separator,"?":Q.punctuation,"[ ]":Q.squareBracket,"{ }":Q.brace}),D9=$i.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:E9,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[N9],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[x9,C9,I9,Q9,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),S_=st({}),M9={html:B4,js:$l.configure({dialect:"js"}),jsx:$l.configure({dialect:"jsx"}),ts:$l.configure({dialect:"ts"}),tsx:$l.configure({dialect:"tsx"}),json:kq,md:Qq,py:B6,xml:o9,yaml:D9},L9={html:"html",htm:"html",javascript:"js",js:"js",jsx:"jsx",typescript:"ts",ts:"ts",tsx:"tsx",json:"json",markdown:"md",md:"md",python:"py",py:"py",xml:"xml",yaml:"yaml",yml:"yaml"},$9=Fe(e=>{const t=fn(S_);if(e.language===void 0||t[e.language]===void 0)return g(Ue,{children:e.code});const n=t[e.language].parse(e.code),i=EU(e.code,n),r=nS(i,{Fragment:Ue,jsx:g,jsxs:g});return g(Ue,{children:r})});function U9({children:e,className:t,...n}){return g("div",{className:_e("group relative my-4 self-stretch rounded-bubble bg-base-active shadow-header overflow-hidden",t),...n,children:e})}function q9({children:e,className:t,...n}){return g("div",{className:_e("absolute top-1 right-1 z-10 flex items-center gap-1 transition-opacity duration-200 ease-out opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto group-focus-within:opacity-100 group-focus-within:pointer-events-auto",t),...n,children:e})}function X9({children:e,className:t,...n}){return g("div",{className:t,...n,children:e})}const Zi=Object.assign(U9,{Actions:q9,Content:X9}),__=st(""),F9=({code:e,language:t,className:n,...i})=>{const r=L9[t],{isCopied:s,copyToClipboard:a,disabled:o}=B9({code:e}),c=nt(),l=We(!1),u=kI();return g(__.Provider,{value:e,children:g(Zi,{"data-code-block-container":!0,"data-language":t,children:[g(Zi.Actions,{children:[g(It,{"aria-label":c.wrap.value,disabled:o,icon:"wrap",onClick:()=>l.value=!l.value,variant:"md-button",children:c.wrap.value}),g(It,{"aria-label":s.value?c.copied.value:c.copy.value,disabled:o,icon:s.value?"check":"copy",onClick:a,variant:"md-button",children:s.value?c.copied.value:c.copy.value})]}),g(Zi.Content,{className:_e(l.value?"overflow-x-hidden":"overflow-x-auto"),children:g("div",{className:_e("pt-1.5 pb-2",n),"data-code-block":!0,"data-language":t,"data-syntax-theme":u.value,...i,children:g("pre",{className:_e("m-0 font-mono text-[13px] px-4 py-1.5",l.value?"whitespace-pre-wrap overflow-x-hidden":"whitespace-pre overflow-x-auto"),children:g("code",{className:_e("block",l.value?"whitespace-pre-wrap break-all":"whitespace-pre"),children:g($9,{code:e,language:r})})})})})]})})};function B9({code:e,onCopy:t,onError:n,timeout:i=2e3}={}){const r=We(!1),s=ue(0),a=fn(__),{isAnimating:o}=fn(iu),c=e??a,l=oe(async()=>{if(typeof window>"u"||!navigator?.clipboard?.writeText){n?.(new Error("Clipboard API not available"));return}try{r.value||(await navigator.clipboard.writeText(c),r.value=!0,t?.(),s.current=window.setTimeout(()=>{r.value=!1},i))}catch(u){n?.(u)}},[c,r,t,n,i]);return ke(()=>()=>{window.clearTimeout(s.current)},[]),{isCopied:r,copyToClipboard:l,disabled:o}}const z9=(e,t,n)=>{const i=typeof t=="string"?new Blob([t],{type:n}):t,r=URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)};function Z9({src:e,alt:t,onError:n}){const{isAnimating:i}=fn(iu);return{downloadImage:oe(async()=>{if(e)try{const r=await(await fetch(e.toString())).blob(),s=new URL(e.toString(),window.location.origin).pathname.split("/").pop()||"",a=s.includes(".")&&s.split(".").pop()?.length<=4;let o="";if(a)o=s;else{const c=r.type;let l="png";c.includes("jpeg")||c.includes("jpg")?l="jpg":c.includes("png")?l="png":c.includes("svg")?l="svg":c.includes("gif")?l="gif":c.includes("webp")&&(l="webp"),o=`${(t||s||"image").toString().replace(/\.[^/.]+$/,"")}.${l}`}z9(o,r,r.type)}catch(r){console.error("Failed to download image:",r),n?.(r)}},[e,t,n]),disabled:i}}const j9=({node:e,className:t,src:n,alt:i,...r})=>{const{downloadImage:s,disabled:a}=Z9({src:n?.toString()||"",alt:i?.toString()}),o=nt();return n?g(Zi,{className:"inline-block self-auto","data-streamdown":"image-wrapper",children:[g(Zi.Actions,{children:g(It,{"aria-label":o.download.value,disabled:a,icon:"download",onClick:s,variant:"md-button",children:o.download.value})}),g(Zi.Content,{children:g("img",{alt:i,className:_e("max-w-full",t),"data-streamdown":"image",src:n,...r})})]}):null};function V9(e){const t=[],n=[],i=e.querySelectorAll("thead th");for(const s of Array.from(i))t.push(s.textContent?.trim()||"");const r=e.querySelectorAll("tbody tr");for(const s of Array.from(r)){const a=[],o=s.querySelectorAll("td");for(const c of Array.from(o))a.push(c.textContent?.trim()||"");n.push(a)}return{headers:t,rows:n}}function W9(e){const{headers:t,rows:n}=e;if(t.length===0)return"";const i=[],r=t.map(s=>s.replace(/\|/g,"\\|"));i.push(`| ${r.join(" | ")} |`),i.push(`| ${t.map(()=>"---").join(" | ")} |`);for(const s of n){const a=[...s];for(;a.length<t.length;)a.push("");const o=a.map(c=>c.replace(/\|/g,"\\|"));i.push(`| ${o.join(" | ")} |`)}return i.join(`
`)}function G9({onCopy:e,onError:t,timeout:n=2e3}={}){const i=We(!1),r=ue(0),{isAnimating:s}=fn(iu),a=async o=>{if(typeof window>"u"||!navigator?.clipboard?.write){t?.(new Error("Clipboard API not available"));return}try{if(!i.value){const c=o.currentTarget.closest('[data-streamdown="table-wrapper"]')?.querySelector("table");if(!c){t?.(new Error("Table not found"));return}const l=V9(c),u=new ClipboardItem({"text/plain":W9(l),"text/html":new Blob([c.outerHTML],{type:"text/html"})});await navigator.clipboard.write([u]),i.value=!0,e?.(),r.current=window.setTimeout(()=>i.value=!1,n)}}catch(c){t?.(c)}};return ke(()=>()=>{window.clearTimeout(r.current)},[]),{isCopied:i,copyTableData:a,disabled:s}}const Y9=({children:e,className:t,...n})=>{const{isCopied:i,copyTableData:r,disabled:s}=G9(),a=nt();return g(Zi,{"data-streamdown":"table-wrapper",children:[g(Zi.Actions,{children:g(It,{"aria-label":i.value?a.copied.value:a.copy.value,disabled:s,icon:i.value?"check":"copy",onClick:r,variant:"md-button",children:i.value?a.copied.value:a.copy.value})}),g(Zi.Content,{className:"overflow-x-auto",children:g("table",{className:_e("w-full border-collapse border border-base-border",t),"data-streamdown":"table",...n,children:e})})]})},H9=/language-([^\s]+)/;function K9(e,t){if(!(e?.position||t?.position))return!0;if(!(e?.position&&t?.position))return!1;const n=e.position.start,i=t.position.start,r=e.position.end,s=t.position.end;return n?.line===i?.line&&n?.column===i?.column&&r?.line===s?.line&&r?.column===s?.column}function ot(e,t){return e.className===t.className&&K9(e.node,t.node)}const _f=Fe(({children:e,className:t,node:n,...i})=>g("ol",{className:_e("ml-4 mb-2 list-outside list-decimal whitespace-normal text-sm",t),"data-streamdown":"ordered-list",...i,children:e}),(e,t)=>ot(e,t));_f.displayName="MarkdownOl";const w_=Fe(({children:e,className:t,node:n,...i})=>g("li",{className:_e("py-1",t),"data-streamdown":"list-item",...i,children:e}),(e,t)=>ot(e,t));w_.displayName="MarkdownLi";const E_=Fe(({children:e,className:t,node:n,...i})=>g("ul",{className:_e("ml-4 list-outside list-disc whitespace-normal text-sm",t),"data-streamdown":"unordered-list",...i,children:e}),(e,t)=>ot(e,t));E_.displayName="MarkdownUl";const x_=Fe(({className:e,node:t,...n})=>g("hr",{className:_e("my-6 border-base-border",e),"data-streamdown":"horizontal-rule",...n}),(e,t)=>ot(e,t));x_.displayName="MarkdownHr";const C_=Fe(({children:e,className:t,node:n,...i})=>g("span",{className:_e("font-medium",t),"data-streamdown":"strong",...i,children:e}),(e,t)=>ot(e,t));C_.displayName="MarkdownStrong";const P_=Fe(({children:e,className:t,href:n,node:i,...r})=>{const s=n==="streamdown:incomplete-link";return g("a",{className:_e("wrap-anywhere font-medium underline",t),"data-incomplete":s,"data-streamdown":"link",href:n,rel:"noreferrer",target:"_blank",...r,children:e})},(e,t)=>ot(e,t)&&e.href===t.href);P_.displayName="MarkdownA";const A_=Fe(({children:e,className:t,node:n,...i})=>g("h1",{className:_e("mt-6 mb-2 text-base-primary font-semibold text-xl",t),"data-streamdown":"heading-1",...i,children:e}),(e,t)=>ot(e,t));A_.displayName="MarkdownH1";const R_=Fe(({children:e,className:t,node:n,...i})=>g("h2",{className:_e("mt-3 mb-2 text-base-primary font-semibold text-lg",t),"data-streamdown":"heading-2",...i,children:e}),(e,t)=>ot(e,t));R_.displayName="MarkdownH2";const I_=Fe(({children:e,className:t,node:n,...i})=>g("h3",{className:_e("mt-3 mb-1 text-base-primary font-semibold text-md",t),"data-streamdown":"heading-3",...i,children:e}),(e,t)=>ot(e,t));I_.displayName="MarkdownH3";const Q_=Fe(({children:e,className:t,node:n,...i})=>g("h4",{className:_e("mt-3 mb-1 text-base-primary font-semibold text-sm",t),"data-streamdown":"heading-4",...i,children:e}),(e,t)=>ot(e,t));Q_.displayName="MarkdownH4";const N_=Fe(({children:e,className:t,node:n,...i})=>g("h5",{className:_e("mt-3 mb-0.5 text-base-primary font-semibold text-sm",t),"data-streamdown":"heading-5",...i,children:e}),(e,t)=>ot(e,t));N_.displayName="MarkdownH5";const D_=Fe(({children:e,className:t,node:n,...i})=>g("h6",{className:_e("mt-3 text-base-primary font-semibold text-sm",t),"data-streamdown":"heading-6",...i,children:e}),(e,t)=>ot(e,t));D_.displayName="MarkdownH6";const J9=({node:e,...t})=>g(Y9,{...t}),M_=Fe(J9,(e,t)=>ot(e,t));M_.displayName="MarkdownTable";const L_=Fe(({children:e,className:t,node:n,...i})=>g("thead",{className:_e("bg-base-active/80",t),"data-streamdown":"table-header",...i,children:e}),(e,t)=>ot(e,t));L_.displayName="MarkdownThead";const $_=Fe(({children:e,className:t,node:n,...i})=>g("tbody",{className:_e("divide-y divide-base-border bg-base-active/40",t),"data-streamdown":"table-body",...i,children:e}),(e,t)=>ot(e,t));$_.displayName="MarkdownTbody";const U_=Fe(({children:e,className:t,node:n,...i})=>g("tr",{className:_e("border-base-border border-b",t),"data-streamdown":"table-row",...i,children:e}),(e,t)=>ot(e,t));U_.displayName="MarkdownTr";const q_=Fe(({children:e,className:t,node:n,...i})=>g("th",{className:_e("whitespace-nowrap px-4 py-2 text-left font-medium text-sm",t),"data-streamdown":"table-header-cell",...i,children:e}),(e,t)=>ot(e,t));q_.displayName="MarkdownTh";const X_=Fe(({children:e,className:t,node:n,...i})=>g("td",{className:_e("px-4 py-2 text-sm",t),"data-streamdown":"table-cell",...i,children:e}),(e,t)=>ot(e,t));X_.displayName="MarkdownTd";const F_=Fe(({children:e,className:t,node:n,...i})=>g("blockquote",{className:_e("my-4 border-base-subtle/30 border-l-4 pl-4 text-base-subtle italic",t),"data-streamdown":"blockquote",...i,children:e}),(e,t)=>ot(e,t));F_.displayName="MarkdownBlockquote";const B_=Fe(({children:e,className:t,node:n,...i})=>g("sup",{className:_e("text-sm",t),"data-streamdown":"superscript",...i,children:e}),(e,t)=>ot(e,t));B_.displayName="MarkdownSup";const z_=Fe(({children:e,className:t,node:n,...i})=>g("sub",{className:_e("text-sm",t),"data-streamdown":"subscript",...i,children:e}),(e,t)=>ot(e,t));z_.displayName="MarkdownSub";const Z_=Fe(({children:e,className:t,node:n,...i})=>{if("data-footnotes"in i){const r=a=>{if(!Ct(a))return!1;const o=a,c=Array.isArray(o.props.children)?o.props.children:[o.props.children];let l=!1,u=!1;for(const d of c)if(d){if(typeof d=="string")d.trim()!==""&&(l=!0);else if(Ct(d))if(d.props?.["data-footnote-backref"]!==void 0)u=!0;else{const h=Array.isArray(d.props.children)?d.props.children:[d.props.children];for(const p of h){if(typeof p=="string"&&p.trim()!==""){l=!0;break}if(Ct(p)&&p.props?.["data-footnote-backref"]===void 0){l=!0;break}}}}return u&&!l},s=Array.isArray(e)?e.map(a=>{if(!Ct(a))return a;if(a.type===_f){const o=(Array.isArray(a.props.children)?a.props.children:[a.props.children]).filter(c=>!r(c));return o.length===0?null:{...a,props:{...a.props,children:o}}}return a}):e;return(Array.isArray(s)?s.some(a=>a!==null):s!==null)?g("section",{className:t,...i,children:s}):null}return g("section",{className:t,...i,children:e})},(e,t)=>ot(e,t));Z_.displayName="MarkdownSection";const e7=({node:e,className:t,children:n,...i})=>{if(e?.position?.start.line===e?.position?.end.line)return g("code",{className:_e("rounded bg-base-active px-1.5 py-0.5 font-mono text-sm",t),"data-streamdown":"inline-code",...i,children:n});const r=(typeof t=="string"?t.match(H9):null)?.at(1)??"";let s="";if(Ct(n)){const a=n;a.props&&typeof a.props=="object"&&"children"in a.props&&typeof a.props.children=="string"&&(s=a.props.children)}else typeof n=="string"&&(s=n);return g(F9,{code:s,"data-language":r,"data-streamdown":"code-block",language:r})},j_=Fe(e7,(e,t)=>ot(e,t));j_.displayName="MarkdownCode";const V_=Fe(j9,(e,t)=>ot(e,t));V_.displayName="MarkdownImg";const W_=Fe(({children:e,className:t,node:n,...i})=>{const r=(Array.isArray(e)?e:[e]).filter(s=>s!=null&&s!=="");return r.some(s=>Ct(s)&&s?.props?.node?.tagName==="img")?r.length===1?g(Ue,{children:e}):g("div",{className:_e("text-sm",t),...i,children:e}):g("p",{className:_e("text-sm mb-3",t),...i,children:e})},(e,t)=>ot(e,t));W_.displayName="MarkdownParagraph";const t7={ol:_f,li:w_,ul:E_,hr:x_,strong:C_,a:P_,h1:A_,h2:R_,h3:I_,h4:Q_,h5:N_,h6:D_,table:M_,thead:L_,tbody:$_,tr:U_,th:q_,td:X_,blockquote:F_,code:j_,img:V_,pre:Ue,sup:B_,sub:z_,p:W_,section:Z_},n7={tokenize:i7};function i7(e){const t=e.attempt(this.parser.constructs.contentInitial,i,r);let n;return t;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Le(e,t,"linePrefix")}function r(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return de(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const r7={tokenize:s7},G_={tokenize:a7};function s7(e){const t=this,n=[];let i=0,r,s,a;return o;function o(S){if(i<n.length){const k=n[i];return t.containerState=k[1],e.attempt(k[0].continuation,c,l)(S)}return l(S)}function c(S){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&T();const k=t.events.length;let y=k,_;for(;y--;)if(t.events[y][0]==="exit"&&t.events[y][1].type==="chunkFlow"){_=t.events[y][1].end;break}v(i);let x=k;for(;x<t.events.length;)t.events[x][1].end={..._},x++;return Bt(t.events,y+1,0,t.events.slice(k)),t.events.length=x,l(S)}return o(S)}function l(S){if(i===n.length){if(!r)return h(S);if(r.currentConstruct&&r.currentConstruct.concrete)return m(S);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(G_,u,d)(S)}function u(S){return r&&T(),v(i),h(S)}function d(S){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,m(S)}function h(S){return t.containerState={},e.attempt(G_,p,m)(S)}function p(S){return i++,n.push([t.currentConstruct,t.containerState]),h(S)}function m(S){if(S===null){r&&T(),v(0),e.consume(S);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),O(S)}function O(S){if(S===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(S);return}return de(S)?(e.consume(S),b(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(S),O)}function b(S,k){const y=t.sliceStream(S);if(k&&y.push(null),S.previous=s,s&&(s.next=S),s=S,r.defineSkip(S.start),r.write(y),t.parser.lazy[S.start.line]){let _=r.events.length;for(;_--;)if(r.events[_][1].start.offset<a&&(!r.events[_][1].end||r.events[_][1].end.offset>a))return;const x=t.events.length;let N=x,D,E;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(D){E=t.events[N][1].end;break}D=!0}for(v(i),_=x;_<t.events.length;)t.events[_][1].end={...E},_++;Bt(t.events,N+1,0,t.events.slice(x)),t.events.length=_}}function v(S){let k=n.length;for(;k-- >S;){const y=n[k];t.containerState=y[1],y[0].exit.call(t,e)}n.length=S}function T(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}function a7(e,t,n){return Le(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const o7={tokenize:c7};function c7(e){const t=this,n=e.attempt(Oo,i,e.attempt(this.parser.constructs.flowInitial,r,Le(e,e.attempt(this.parser.constructs.flow,r,e.attempt(j5,r)),"linePrefix")));return n;function i(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const l7={resolveAll:H_()},u7=Y_("string"),d7=Y_("text");function Y_(e){return{resolveAll:H_(e==="text"?h7:void 0),tokenize:t};function t(n){const i=this,r=this.parser.constructs[e],s=n.attempt(r,a,o);return a;function a(u){return l(u)?s(u):o(u)}function o(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),c}function c(u){return l(u)?(n.exit("data"),s(u)):(n.consume(u),c)}function l(u){if(u===null)return!0;const d=r[u];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(i,i.previous))return!0}return!1}}}function H_(e){return t;function t(n,i){let r=-1,s;for(;++r<=n.length;)s===void 0?n[r]&&n[r][1].type==="data"&&(s=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),r=s+2),s=void 0);return e?e(n,i):n}}function h7(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],r=t.sliceStream(i);let s=r.length,a=-1,o=0,c;for(;s--;){const l=r[s];if(typeof l=="string"){for(a=l.length;l.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(l===-2)c=!0,o++;else if(l!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const l={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:i.start._bufferIndex+a,_index:i.start._index+s,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...l.start},i.start.offset===i.end.offset?Object.assign(i,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}const p7={42:dn,43:dn,45:dn,48:dn,49:dn,50:dn,51:dn,52:dn,53:dn,54:dn,55:dn,56:dn,57:dn,62:Sy},f7={91:H5},m7={[-2]:Sp,[-1]:Sp,32:Sp},O7={35:i3,42:wl,45:[Qy,wl],60:o3,61:Qy,95:wl,96:xy,126:xy},g7={38:wy,92:_y},v7={[-5]:wp,[-4]:wp,[-3]:wp,33:w3,38:wy,42:yp,60:[x5,f3],91:x3,92:[t3,_y],93:_p,95:yp,96:q5},b7={null:[yp,l7]},T7={null:[42,95]},k7={null:[]},y7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:T7,contentInitial:f7,disable:k7,document:p7,flow:O7,flowInitial:m7,insideSpan:b7,string:g7,text:v7},Symbol.toStringTag,{value:"Module"}));function S7(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},s=[];let a=[],o=[];const c={attempt:x(y),check:x(_),consume:T,enter:S,exit:k,interrupt:x(_,{interrupt:!0})},l={code:null,containerState:{},defineSkip:O,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let u=t.tokenize.call(l,c);return t.resolveAll&&s.push(t),l;function d(M){return a=zt(a,M),b(),a[a.length-1]!==null?[]:(N(t,0),l.events=Ws(s,l.events,l),l.events)}function h(M,L){return w7(p(M),L)}function p(M){return _7(a,M)}function m(){const{_bufferIndex:M,_index:L,line:z,column:X,offset:F}=i;return{_bufferIndex:M,_index:L,line:z,column:X,offset:F}}function O(M){r[M.line]=M.column,E()}function b(){let M;for(;i._index<a.length;){const L=a[i._index];if(typeof L=="string")for(M=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===M&&i._bufferIndex<L.length;)v(L.charCodeAt(i._bufferIndex));else v(L)}}function v(M){u=u(M)}function T(M){de(M)?(i.line++,i.column=1,i.offset+=M===-3?2:1,E()):M!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),l.previous=M}function S(M,L){const z=L||{};return z.type=M,z.start=m(),l.events.push(["enter",z,l]),o.push(z),z}function k(M){const L=o.pop();return L.end=m(),l.events.push(["exit",L,l]),L}function y(M,L){N(M,L.from)}function _(M,L){L.restore()}function x(M,L){return z;function z(X,F,K){let se,j,fe,I;return Array.isArray(X)?De(X):"tokenize"in X?De([X]):Ne(X);function Ne(Ie){return ae;function ae(qe){const Xe=qe!==null&&Ie[qe],Te=qe!==null&&Ie.null,Ye=[...Array.isArray(Xe)?Xe:Xe?[Xe]:[],...Array.isArray(Te)?Te:Te?[Te]:[]];return De(Ye)(qe)}}function De(Ie){return se=Ie,j=0,Ie.length===0?K:A(Ie[j])}function A(Ie){return ae;function ae(qe){return I=D(),fe=Ie,Ie.partial||(l.currentConstruct=Ie),Ie.name&&l.parser.constructs.disable.null.includes(Ie.name)?Ge():Ie.tokenize.call(L?Object.assign(Object.create(l),L):l,c,be,Ge)(qe)}}function be(Ie){return M(fe,I),F}function Ge(Ie){return I.restore(),++j<se.length?A(se[j]):K}}}function N(M,L){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&Bt(l.events,L,l.events.length-L,M.resolve(l.events.slice(L),l)),M.resolveTo&&(l.events=M.resolveTo(l.events,l))}function D(){const M=m(),L=l.previous,z=l.currentConstruct,X=l.events.length,F=Array.from(o);return{from:X,restore:K};function K(){i=M,l.previous=L,l.currentConstruct=z,l.events.length=X,o=F,E()}}function E(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function _7(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,s=t.end._bufferIndex;let a;if(n===r)a=[e[n].slice(i,s)];else{if(a=e.slice(n,r),i>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(i):a.shift()}s>0&&a.push(e[r].slice(0,s))}return a}function w7(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&r)continue;a=" ";break}default:a=String.fromCharCode(s)}r=s===-2,i.push(a)}return i.join("")}function E7(e){const t={constructs:py([y7,...(e||{}).extensions||[]]),content:n(n7),defined:[],document:n(r7),flow:n(o7),lazy:{},string:n(u7),text:n(d7)};return t;function n(i){return r;function r(s){return S7(t,i,s)}}}function x7(e){for(;!Cy(e););return e}const K_=/[\0\t\n\r]/g;function C7(){let e=1,t="",n=!0,i;return r;function r(s,a,o){const c=[];let l,u,d,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(K_.lastIndex=d,l=K_.exec(s),h=l&&l.index!==void 0?l.index:s.length,p=s.charCodeAt(h),!l){t=s.slice(d);break}if(p===10&&d===h&&i)c.push(-3),i=void 0;else switch(i&&(c.push(-5),i=void 0),d<h&&(c.push(s.slice(d,h)),e+=h-d),p){case 0:{c.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,c.push(-2);e++<u;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:i=!0,e=1}d=h+1}return o&&(i&&c.push(-5),t&&c.push(t),c.push(null)),c}}const J_={}.hasOwnProperty;function P7(e,t,n){return typeof t!="string"&&(n=t,t=void 0),A7(n)(x7(E7(n).document().write(C7()(e,t,!0))))}function A7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(PE),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(fa),blockQuote:s(Te),characterEscape:D,characterReference:D,codeFenced:s(Ye),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ye,a),codeText:s(Ot,a),codeTextData:D,data:D,codeFlowValue:D,definition:s(pn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(jo),hardBreakEscape:s(ma),hardBreakTrailing:s(ma),htmlFlow:s(CE,a),htmlFlowData:D,htmlText:s(CE,a),htmlTextData:D,image:s(Sj),label:a,link:s(PE),listItem:s(_j),listItemValue:h,listOrdered:s(AE,d),listUnordered:s(AE),paragraph:s(wj),reference:A,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(fa),strong:s(Ej),thematicBreak:s(Cj)},exit:{atxHeading:c(),atxHeadingSequence:y,autolink:c(),autolinkEmail:Xe,autolinkProtocol:qe,blockQuote:c(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Ge,characterReferenceMarkerNumeric:Ge,characterReferenceValue:Ie,characterReference:ae,codeFenced:c(b),codeFencedFence:O,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:E,codeIndented:c(v),codeText:c(F),codeTextData:E,data:E,definition:c(),definitionDestinationString:k,definitionLabelString:T,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(L),hardBreakTrailing:c(L),htmlFlow:c(z),htmlFlowData:E,htmlText:c(X),htmlTextData:E,image:c(se),label:fe,labelText:j,lineEnding:M,link:c(K),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:be,resourceDestinationString:I,resourceTitleString:Ne,resource:De,setextHeading:c(N),setextHeadingLineSequence:x,setextHeadingText:_,strong:c(),thematicBreak:c()}};e1(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(B){let ee={type:"root",children:[]};const me={stack:[ee],tokenStack:[],config:t,enter:o,exit:l,buffer:a,resume:u,data:n},it=[];let ct=-1;for(;++ct<B.length;)if(B[ct][1].type==="listOrdered"||B[ct][1].type==="listUnordered")if(B[ct][0]==="enter")it.push(ct);else{const ki=it.pop();ct=r(B,ki,ct)}for(ct=-1;++ct<B.length;){const ki=t[B[ct][0]];J_.call(ki,B[ct][1].type)&&ki[B[ct][1].type].call(Object.assign({sliceSerialize:B[ct][2].sliceSerialize},me),B[ct][1])}if(me.tokenStack.length>0){const ki=me.tokenStack[me.tokenStack.length-1];(ki[1]||t1).call(me,void 0,ki[0])}for(ee.position={start:wr(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:wr(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<t.transforms.length;)ee=t.transforms[ct](ee)||ee;return ee}function r(B,ee,me){let it=ee-1,ct=-1,ki=!1,Oa,Yi,Vo,Wo;for(;++it<=me;){const xn=B[it];switch(xn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xn[0]==="enter"?ct++:ct--,Wo=void 0;break}case"lineEndingBlank":{xn[0]==="enter"&&(Oa&&!Wo&&!ct&&!Vo&&(Vo=it),Wo=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Wo=void 0}if(!ct&&xn[0]==="enter"&&xn[1].type==="listItemPrefix"||ct===-1&&xn[0]==="exit"&&(xn[1].type==="listUnordered"||xn[1].type==="listOrdered")){if(Oa){let ga=it;for(Yi=void 0;ga--;){const Hi=B[ga];if(Hi[1].type==="lineEnding"||Hi[1].type==="lineEndingBlank"){if(Hi[0]==="exit")continue;Yi&&(B[Yi][1].type="lineEndingBlank",ki=!0),Hi[1].type="lineEnding",Yi=ga}else if(!(Hi[1].type==="linePrefix"||Hi[1].type==="blockQuotePrefix"||Hi[1].type==="blockQuotePrefixWhitespace"||Hi[1].type==="blockQuoteMarker"||Hi[1].type==="listItemIndent"))break}Vo&&(!Yi||Vo<Yi)&&(Oa._spread=!0),Oa.end=Object.assign({},Yi?B[Yi][1].start:xn[1].end),B.splice(Yi||it,0,["exit",Oa,xn[2]]),it++,me++}if(xn[1].type==="listItemPrefix"){const ga={type:"listItem",_spread:!1,start:Object.assign({},xn[1].start),end:void 0};Oa=ga,B.splice(it,0,["enter",ga,xn[2]]),it++,me++,Vo=void 0,Wo=!0}}}return B[ee][1]._spread=ki,me}function s(B,ee){return me;function me(it){o.call(this,B(it),it),ee&&ee.call(this,it)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(B,ee,me){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([ee,me||void 0]),B.position={start:wr(ee.start),end:void 0}}function c(B){return ee;function ee(me){B&&B.call(this,me),l.call(this,me)}}function l(B,ee){const me=this.stack.pop(),it=this.tokenStack.pop();if(it)it[0].type!==B.type&&(ee?ee.call(this,B,it[0]):(it[1]||t1).call(this,B,it[0]));else throw new Error("Cannot close `"+B.type+"` ("+wo({start:B.start,end:B.end})+"): its not open");me.position.end=wr(B.end)}function u(){return Op(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(B){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function p(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=B}function m(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=B}function O(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B.replace(/(\r?\n|\r)$/g,"")}function T(B){const ee=this.resume(),me=this.stack[this.stack.length-1];me.label=ee,me.identifier=Wn(this.sliceSerialize(B)).toLowerCase()}function S(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.title=B}function k(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.url=B}function y(B){const ee=this.stack[this.stack.length-1];if(!ee.depth){const me=this.sliceSerialize(B).length;ee.depth=me}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function x(B){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function D(B){const ee=this.stack[this.stack.length-1].children;let me=ee[ee.length-1];(!me||me.type!=="text")&&(me=xj(),me.position={start:wr(B.start),end:void 0},ee.push(me)),this.stack.push(me)}function E(B){const ee=this.stack.pop();ee.value+=this.sliceSerialize(B),ee.position.end=wr(B.end)}function M(B){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const me=ee.children[ee.children.length-1];me.position.end=wr(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(D.call(this,B),E.call(this,B))}function L(){this.data.atHardBreak=!0}function z(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B}function X(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B}function F(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B}function K(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=ee,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function se(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=ee,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function j(B){const ee=this.sliceSerialize(B),me=this.stack[this.stack.length-2];me.label=H$(ee),me.identifier=Wn(ee).toLowerCase()}function fe(){const B=this.stack[this.stack.length-1],ee=this.resume(),me=this.stack[this.stack.length-1];if(this.data.inReference=!0,me.type==="link"){const it=B.children;me.children=it}else me.alt=ee}function I(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.url=B}function Ne(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.title=B}function De(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function be(B){const ee=this.resume(),me=this.stack[this.stack.length-1];me.label=ee,me.identifier=Wn(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function Ge(B){this.data.characterReferenceType=B.type}function Ie(B){const ee=this.sliceSerialize(B),me=this.data.characterReferenceType;let it;me?(it=ly(ee,me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):it=vp(ee);const ct=this.stack[this.stack.length-1];ct.value+=it}function ae(B){const ee=this.stack.pop();ee.position.end=wr(B.end)}function qe(B){E.call(this,B);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(B)}function Xe(B){E.call(this,B);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(B)}function Te(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function Ot(){return{type:"inlineCode",value:""}}function pn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function jo(){return{type:"emphasis",children:[]}}function fa(){return{type:"heading",depth:0,children:[]}}function ma(){return{type:"break"}}function CE(){return{type:"html",value:""}}function Sj(){return{type:"image",title:null,url:"",alt:null}}function PE(){return{type:"link",title:null,url:"",children:[]}}function AE(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function _j(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function wj(){return{type:"paragraph",children:[]}}function Ej(){return{type:"strong",children:[]}}function xj(){return{type:"text",value:""}}function Cj(){return{type:"thematicBreak"}}}function wr(e){return{line:e.line,column:e.column,offset:e.offset}}function e1(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?e1(e,i):R7(e,i)}}function R7(e,t){let n;for(n in t)if(J_.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function t1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+wo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+wo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+wo({start:t.start,end:t.end})+") is still open")}function I7(e){const t=this;t.parser=n;function n(i){return P7(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Q7(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function N7(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function D7(e,t){const n=t.value?t.value+`
`:"",i={},r=t.lang?t.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function M7(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L7(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $7(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=Ys(i.toLowerCase()),s=e.footnoteOrder.indexOf(i);let a,o=e.footnoteCounts.get(i);o===void 0?(o=0,e.footnoteOrder.push(i),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(i,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const l={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,l),e.applyData(t,l)}function U7(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q7(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function n1(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=i:r.push({type:"text",value:i}),r}function X7(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return n1(e,t);const r={src:Ys(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,s),e.applyData(t,s)}function F7(e,t){const n={src:Ys(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function B7(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function z7(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return n1(e,t);const r={href:Ys(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Z7(e,t){const n={href:Ys(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function j7(e,t,n){const i=e.all(t),r=n?V7(n):i1(t),s={},a=[];if(typeof t.checked=="boolean"){const u=i[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},i.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const u=i[o];(r||o!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!r?a.push(...u.children):a.push(u)}const c=i[i.length-1];c&&(r||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,l),e.applyData(t,l)}function V7(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=i1(n[i])}return t}function i1(e){return e.spread??e.children.length>1}function W7(e,t){const n={},i=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++r<i.length;){const a=i[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function G7(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Y7(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function H7(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K7(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],a),r.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=oi(t.children[1]),c=ol(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),r.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function J7(e,t,n){const i=n?n.children:void 0,r=(i?i.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let o=-1;const c=[];for(;++o<a;){const u=t.children[o],d={},h=s?s[o]:void 0;h&&(d.align=h);let p={type:"element",tagName:r,properties:d,children:[]};u&&(p.children=e.all(u),e.patch(u,p),p=e.applyData(u,p)),c.push(p)}const l={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,l),e.applyData(t,l)}function eX(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const r1=9,s1=32;function tX(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const s=[];for(;i;)s.push(a1(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return s.push(a1(t.slice(r),r>0,!1)),s.join("")}function a1(e,t,n){let i=0,r=e.length;if(t){let s=e.codePointAt(i);for(;s===r1||s===s1;)i++,s=e.codePointAt(i)}if(n){let s=e.codePointAt(r-1);for(;s===r1||s===s1;)r--,s=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}function nX(e,t){const n={type:"text",value:tX(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function iX(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const rX={blockquote:Q7,break:N7,code:D7,delete:M7,emphasis:L7,footnoteReference:$7,heading:U7,html:q7,imageReference:X7,image:F7,inlineCode:B7,linkReference:z7,link:Z7,listItem:j7,list:W7,paragraph:G7,root:Y7,strong:H7,table:K7,tableCell:eX,tableRow:J7,text:nX,thematicBreak:iX,toml:Vl,yaml:Vl,definition:Vl,footnoteDefinition:Vl};function Vl(){}function sX(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function aX(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function oX(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||sX,i=e.options.footnoteBackLabel||aX,r=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[c]);if(!l)continue;const u=e.all(l),d=String(l.identifier).toUpperCase(),h=Ys(d.toLowerCase());let p=0;const m=[],O=e.footnoteCounts.get(d);for(;O!==void 0&&++p<=O;){m.length>0&&m.push({type:"text",value:" "});let T=typeof n=="string"?n:n(c,p);typeof T=="string"&&(T={type:"text",value:T}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(c,p),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const b=u[u.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const T=b.children[b.children.length-1];T&&T.type==="text"?T.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else u.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(u,!0)};e.patch(l,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...jr(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const wf={}.hasOwnProperty,cX={};function lX(e,t){const n=t||cX,i=new Map,r=new Map,s=new Map,a={...rX,...n.handlers},o={all:l,applyData:dX,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:uX,wrap:pX};return zs(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?i:r,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),o;function c(u,d){const h=u.type,p=o.handlers[h];if(wf.call(o.handlers,h)&&p)return p(o,u,d);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in u){const{children:m,...O}=u,b=jr(O);return b.children=o.all(u),b}return jr(u)}return(o.options.unknownHandler||hX)(o,u,d)}function l(u){const d=[];if("children"in u){const h=u.children;let p=-1;for(;++p<h.length;){const m=o.one(h[p],u);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=o1(m.value)),!Array.isArray(m)&&m.type==="element")){const O=m.children[0];O&&O.type==="text"&&(O.value=o1(O.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function uX(e,t){e.position&&(t.position=lT(e))}function dX(e,t){let n=t;if(e&&e.data){const i=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const a="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,jr(s)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function hX(e,t){const n=t.data||{},i="value"in t&&!(wf.call(n,"hProperties")||wf.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function pX(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function o1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function c1(e,t){const n=lX(e,t),i=n.one(e,void 0),r=oX(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function fX(e,t){return e&&"run"in e?async function(n,i){const r=c1(n,{file:i,...t});await e.run(r,i)}:function(n,i){return c1(n,{file:i,...e||t})}}function l1(e){if(e)throw e}var Ef,u1;function mX(){if(u1)return Ef;u1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var l=e.call(c,"constructor"),u=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!l&&!u)return!1;var d;for(d in c);return typeof d>"u"||e.call(c,d)},a=function(c,l){n&&l.name==="__proto__"?n(c,l.name,{enumerable:!0,configurable:!0,value:l.newValue,writable:!0}):c[l.name]=l.newValue},o=function(c,l){if(l==="__proto__")if(e.call(c,l)){if(i)return i(c,l).value}else return;return c[l]};return Ef=function c(){var l,u,d,h,p,m,O=arguments[0],b=1,v=arguments.length,T=!1;for(typeof O=="boolean"&&(T=O,O=arguments[1]||{},b=2),(O==null||typeof O!="object"&&typeof O!="function")&&(O={});b<v;++b)if(l=arguments[b],l!=null)for(u in l)d=o(O,u),h=o(l,u),O!==h&&(T&&h&&(s(h)||(p=r(h)))?(p?(p=!1,m=d&&r(d)?d:[]):m=d&&s(d)?d:{},a(O,{name:u,newValue:c(T,m,h)})):typeof h<"u"&&a(O,{name:u,newValue:h}));return O},Ef}var OX=mX();const xf=Wy(OX);function Cf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function gX(){const e=[],t={run:n,use:i};return t;function n(...r){let s=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...r);function o(c,...l){const u=e[++s];let d=-1;if(c){a(c);return}for(;++d<r.length;)(l[d]===null||l[d]===void 0)&&(l[d]=r[d]);r=l,u?vX(u,o)(...l):a(null,...l)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function vX(e,t){let n;return i;function i(...a){const o=e.length>a.length;let c;o&&a.push(r);try{c=e.apply(this,a)}catch(l){const u=l;if(o&&n)throw u;return r(u)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,r):c instanceof Error?r(c):s(c))}function r(a,...o){n||(n=!0,t(a,...o))}function s(a){r(null,a)}}const mi={basename:bX,dirname:TX,extname:kX,join:yX,sep:"/"};function bX(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Do(e);let n=0,i=-1,r=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.codePointAt(r)===47){if(s){n=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let a=-1,o=t.length-1;for(;r--;)if(e.codePointAt(r)===47){if(s){n=r+1;break}}else a<0&&(s=!0,a=r+1),o>-1&&(e.codePointAt(r)===t.codePointAt(o--)?o<0&&(i=r):(o=-1,i=a));return n===i?i=a:i<0&&(i=e.length),e.slice(n,i)}function TX(e){if(Do(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function kX(e){Do(e);let t=e.length,n=-1,i=0,r=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){i=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?r<0?r=t:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||n<0||s===0||s===1&&r===n-1&&r===i+1?"":e.slice(r,n)}function yX(...e){let t=-1,n;for(;++t<e.length;)Do(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":SX(n)}function SX(e){Do(e);const t=e.codePointAt(0)===47;let n=_X(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function _X(e,t){let n="",i=0,r=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(r===a-1||s===1))if(r!==a-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),r=a,s=0;continue}}else if(n.length>0){n="",i=0,r=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(r+1,a):n=e.slice(r+1,a),i=a-r-1;r=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Do(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wX={cwd:EX};function EX(){return"/"}function Pf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function xX(e){if(typeof e=="string")e=new URL(e);else if(!Pf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return CX(e)}function CX(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const Af=["history","path","basename","stem","extname","dirname"];class PX{constructor(t){let n;t?Pf(t)?n={path:t}:typeof t=="string"||AX(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":wX.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Af.length;){const s=Af[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let r;for(r in n)Af.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?mi.basename(this.path):void 0}set basename(t){If(t,"basename"),Rf(t,"basename"),this.path=mi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?mi.dirname(this.path):void 0}set dirname(t){d1(this.basename,"dirname"),this.path=mi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?mi.extname(this.path):void 0}set extname(t){if(Rf(t,"extname"),d1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=mi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Pf(t)&&(t=xX(t)),If(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?mi.basename(this.path,this.extname):void 0}set stem(t){If(t,"stem"),Rf(t,"stem"),this.path=mi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const r=this.message(t,n,i);throw r.fatal=!0,r}info(t,n,i){const r=this.message(t,n,i);return r.fatal=void 0,r}message(t,n,i){const r=new Yt(t,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rf(e,t){if(e&&e.includes(mi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+mi.sep+"`")}function If(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function d1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function AX(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const RX=(function(e){const t=this.constructor.prototype,n=t[e],i=function(){return n.apply(i,arguments)};return Object.setPrototypeOf(i,t),i}),IX={}.hasOwnProperty;class Qf extends RX{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=gX()}copy(){const t=new Qf;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(xf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Mf("data",this.frozen),this.namespace[t]=n,this):IX.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Mf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Wl(t),i=this.parser||this.Parser;return Nf("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),Nf("process",this.parser||this.Parser),Df("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(s,a){const o=Wl(t),c=i.parse(o);i.run(c,o,function(u,d,h){if(u||!d||!h)return l(u);const p=d,m=i.stringify(p,h);DX(m)?h.value=m:h.result=m,l(u,h)});function l(u,d){u||!d?a(u):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,i;return this.freeze(),Nf("processSync",this.parser||this.Parser),Df("processSync",this.compiler||this.Compiler),this.process(t,r),p1("processSync","process",n),i;function r(s,a){n=!0,l1(s),i=a}}run(t,n,i){h1(t),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(a,o){const c=Wl(n);r.run(t,c,l);function l(u,d,h){const p=d||t;u?o(u):a?a(p):i(void 0,p,h)}}}runSync(t,n){let i=!1,r;return this.run(t,n,s),p1("runSync","run",i),r;function s(a,o){l1(a),r=o,i=!0}}stringify(t,n){this.freeze();const i=Wl(n),r=this.compiler||this.Compiler;return Df("stringify",r),h1(t),r(t,i)}use(t,...n){const i=this.attachers,r=this.namespace;if(Mf("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(l){if(typeof l=="function")c(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[u,...d]=l;c(u,d)}else a(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function a(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(l.plugins),l.settings&&(r.settings=xf(!0,r.settings,l.settings))}function o(l){let u=-1;if(l!=null)if(Array.isArray(l))for(;++u<l.length;){const d=l[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function c(l,u){let d=-1,h=-1;for(;++d<i.length;)if(i[d][0]===l){h=d;break}if(h===-1)i.push([l,...u]);else if(u.length>0){let[p,...m]=u;const O=i[h][1];Cf(O)&&Cf(p)&&(p=xf(!0,O,p)),i[h]=[l,p,...m]}}}}const QX=new Qf().freeze();function Nf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Df(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Mf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function h1(e){if(!Cf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function p1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Wl(e){return NX(e)?e:new PX(e)}function NX(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function DX(e){return typeof e=="string"||MX(e)}function MX(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const f1=[],m1={allowDangerousHtml:!0},Gl=new WeakMap;class LX{cache=new Map;keyCache=new WeakMap;maxSize=100;generateCacheKey(t){const n=this.keyCache.get(t);if(n)return n;const i=t.rehypePlugins,r=t.remarkPlugins,s=t.remarkRehypeOptions;if(!(i||r||s)){const d="default";return this.keyCache.set(t,d),d}const a=d=>{if(!d||d.length===0)return"";let h="";for(let p=0;p<d.length;p+=1){const m=d[p];if(p>0&&(h+=","),Array.isArray(m)){const[O,b]=m;if(typeof O=="function"){let v=Gl.get(O);v||(v=O.name,Gl.set(O,v)),h+=v}else h+=String(O);h+=":",h+=JSON.stringify(b)}else if(typeof m=="function"){let O=Gl.get(m);O||(O=m.name,Gl.set(m,O)),h+=O}else h+=String(m)}return h},o=a(i),c=a(r),l=s?JSON.stringify(s):"",u=`${c}::${o}::${l}`;return this.keyCache.set(t,u),u}get(t){const n=this.generateCacheKey(t),i=this.cache.get(n);return i&&(this.cache.delete(n),this.cache.set(n,i)),i}set(t,n){const i=this.generateCacheKey(t);if(this.cache.size>=this.maxSize){const r=this.cache.keys().next().value;r&&this.cache.delete(r)}this.cache.set(i,n)}clear(){this.cache.clear()}}const O1=new LX,$X=e=>{const t=UX(e),n=e.children||"";return XX(t.runSync(t.parse(n),n),e)},UX=e=>{const t=O1.get(e);if(t)return t;const n=qX(e);return O1.set(e,n),n},qX=e=>{const t=e.rehypePlugins||f1,n=e.remarkPlugins||f1,i=e.remarkRehypeOptions?{...m1,...e.remarkRehypeOptions}:m1;return QX().use(I7).use(n).use(fX,i).use(t)},XX=(e,t)=>nS(e,{Fragment:Ue,components:t.components,ignoreInvalidStyle:!0,jsx:g,jsxs:g,passKeys:!0,passNode:!0});function FX(e){return e.startsWith("https://")||e.startsWith("http://")}function BX(e){const{allowedHosts:t,includeWww:n,allowHttp:i}=e;if(t.length===0)return[];if(t.includes("*"))return["*"];const r=new Set;for(const s of t){const a=s.trim();if(!a)continue;if(FX(a)){r.add(a);continue}const o=a.replace(/\.$/,"");r.add(`https://${o}`),i&&r.add(`http://${o}`),n&&!o.startsWith("www.")&&(r.add(`https://www.${o}`),i&&r.add(`http://www.${o}`))}return[...r]}function Lf(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var as=Lf();function g1(e){as=e}var Mo={exec:()=>null};function ze(e,t=""){let n=typeof e=="string"?e:e.source,i={replace:(r,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(rn.caret,"$1"),n=n.replace(r,a),i},getRegex:()=>new RegExp(n,t)};return i}var zX=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),rn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},ZX=/^(?:[ \t]*(?:\n|$))+/,jX=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,VX=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Lo=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,WX=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,$f=/(?:[*+-]|\d{1,9}[.)])/,v1=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,b1=ze(v1).replace(/bull/g,$f).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),GX=ze(v1).replace(/bull/g,$f).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Uf=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,YX=/^[^\n]+/,qf=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,HX=ze(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qf).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),KX=ze(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,$f).getRegex(),Yl="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Xf=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,JX=ze("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Xf).replace("tag",Yl).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),T1=ze(Uf).replace("hr",Lo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yl).getRegex(),eF=ze(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",T1).getRegex(),Ff={blockquote:eF,code:jX,def:HX,fences:VX,heading:WX,hr:Lo,html:JX,lheading:b1,list:KX,newline:ZX,paragraph:T1,table:Mo,text:YX},k1=ze("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Lo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yl).getRegex(),tF={...Ff,lheading:GX,table:k1,paragraph:ze(Uf).replace("hr",Lo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",k1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yl).getRegex()},nF={...Ff,html:ze(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Xf).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Mo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ze(Uf).replace("hr",Lo).replace("heading",` *#{1,6} *[^
]`).replace("lheading",b1).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},iF=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,rF=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,y1=/^( {2,}|\\)\n(?!\s*$)/,sF=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Hl=/[\p{P}\p{S}]/u,Bf=/[\s\p{P}\p{S}]/u,S1=/[^\s\p{P}\p{S}]/u,aF=ze(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Bf).getRegex(),_1=/(?!~)[\p{P}\p{S}]/u,oF=/(?!~)[\s\p{P}\p{S}]/u,cF=/(?:[^\s\p{P}\p{S}]|~)/u,lF=ze(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",zX?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),w1=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,uF=ze(w1,"u").replace(/punct/g,Hl).getRegex(),dF=ze(w1,"u").replace(/punct/g,_1).getRegex(),E1="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",hF=ze(E1,"gu").replace(/notPunctSpace/g,S1).replace(/punctSpace/g,Bf).replace(/punct/g,Hl).getRegex(),pF=ze(E1,"gu").replace(/notPunctSpace/g,cF).replace(/punctSpace/g,oF).replace(/punct/g,_1).getRegex(),fF=ze("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,S1).replace(/punctSpace/g,Bf).replace(/punct/g,Hl).getRegex(),mF=ze(/\\(punct)/,"gu").replace(/punct/g,Hl).getRegex(),OF=ze(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),gF=ze(Xf).replace("(?:-->|$)","-->").getRegex(),vF=ze("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",gF).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Kl=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,bF=ze(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Kl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),x1=ze(/^!?\[(label)\]\[(ref)\]/).replace("label",Kl).replace("ref",qf).getRegex(),C1=ze(/^!?\[(ref)\](?:\[\])?/).replace("ref",qf).getRegex(),TF=ze("reflink|nolink(?!\\()","g").replace("reflink",x1).replace("nolink",C1).getRegex(),P1=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,zf={_backpedal:Mo,anyPunctuation:mF,autolink:OF,blockSkip:lF,br:y1,code:rF,del:Mo,emStrongLDelim:uF,emStrongRDelimAst:hF,emStrongRDelimUnd:fF,escape:iF,link:bF,nolink:C1,punctuation:aF,reflink:x1,reflinkSearch:TF,tag:vF,text:sF,url:Mo},kF={...zf,link:ze(/^!?\[(label)\]\((.*?)\)/).replace("label",Kl).getRegex(),reflink:ze(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Kl).getRegex()},Zf={...zf,emStrongRDelimAst:pF,emStrongLDelim:dF,url:ze(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",P1).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ze(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",P1).getRegex()},yF={...Zf,br:ze(y1).replace("{2,}","*").getRegex(),text:ze(Zf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Jl={normal:Ff,gfm:tF,pedantic:nF},$o={normal:zf,gfm:Zf,breaks:yF,pedantic:kF},SF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},A1=e=>SF[e];function ji(e,t){if(t){if(rn.escapeTest.test(e))return e.replace(rn.escapeReplace,A1)}else if(rn.escapeTestNoEncode.test(e))return e.replace(rn.escapeReplaceNoEncode,A1);return e}function R1(e){try{e=encodeURI(e).replace(rn.percentDecode,"%")}catch{return null}return e}function I1(e,t){let n=e.replace(rn.findPipe,(s,a,o)=>{let c=!1,l=a;for(;--l>=0&&o[l]==="\\";)c=!c;return c?"|":" |"}),i=n.split(rn.splitPipe),r=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(rn.slashPipe,"|");return i}function Uo(e,t,n){let i=e.length;if(i===0)return"";let r=0;for(;r<i&&e.charAt(i-r-1)===t;)r++;return e.slice(0,i-r)}function _F(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function Q1(e,t,n,i,r){let s=t.href,a=t.title||null,o=e[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,c}function wF(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(i===null)return t;let r=i[1];return t.split(`
`).map(s=>{let a=s.match(n.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=r.length?s.slice(r.length):s}).join(`
`)}var eu=class{options;rules;lexer;constructor(e){this.options=e||as}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Uo(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],i=wF(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let i=Uo(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Uo(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Uo(t[0],`
`).split(`
`),i="",r="",s=[];for(;n.length>0;){let a=!1,o=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))o.push(n[c]),a=!0;else if(!a)o.push(n[c]);else break;n=n.slice(c);let l=o.join(`
`),u=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${l}`:l,r=r?`${r}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=d,n.length===0)break;let h=s.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let p=h,m=p.raw+`
`+n.join(`
`),O=this.blockquote(m);s[s.length-1]=O,i=i.substring(0,i.length-p.raw.length)+O.raw,r=r.substring(0,r.length-p.text.length)+O.text;break}else if(h?.type==="list"){let p=h,m=p.raw+`
`+n.join(`
`),O=this.list(m);s[s.length-1]=O,i=i.substring(0,i.length-h.raw.length)+O.raw,r=r.substring(0,r.length-p.raw.length)+O.raw,n=m.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),i=n.length>1,r={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let s=this.rules.other.listItemRegex(n),a=!1;for(;e;){let c=!1,l="",u="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,O=>" ".repeat(3*O.length)),h=e.split(`
`,1)[0],p=!d.trim(),m=0;if(this.options.pedantic?(m=2,u=d.trimStart()):p?m=t[1].length+1:(m=t[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,u=d.slice(m),m+=t[1].length),p&&this.rules.other.blankLine.test(h)&&(l+=h+`
`,e=e.substring(h.length+1),c=!0),!c){let O=this.rules.other.nextBulletRegex(m),b=this.rules.other.hrRegex(m),v=this.rules.other.fencesBeginRegex(m),T=this.rules.other.headingBeginRegex(m),S=this.rules.other.htmlBeginRegex(m);for(;e;){let k=e.split(`
`,1)[0],y;if(h=k,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),y=h):y=h.replace(this.rules.other.tabCharGlobal,"    "),v.test(h)||T.test(h)||S.test(h)||O.test(h)||b.test(h))break;if(y.search(this.rules.other.nonSpaceChar)>=m||!h.trim())u+=`
`+y.slice(m);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||v.test(d)||T.test(d)||b.test(d))break;u+=`
`+h}!p&&!h.trim()&&(p=!0),l+=k+`
`,e=e.substring(k.length+1),d=y.slice(m)}}r.loose||(a?r.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(a=!0)),r.items.push({type:"list_item",raw:l,task:!!this.options.gfm&&this.rules.other.listIsTask.test(u),loose:!1,text:u,tokens:[]}),r.raw+=l}let o=r.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let c of r.items){if(this.lexer.state.top=!1,c.tokens=this.lexer.blockTokens(c.text,[]),c.task){if(c.text=c.text.replace(this.rules.other.listReplaceTask,""),c.tokens[0]?.type==="text"||c.tokens[0]?.type==="paragraph"){c.tokens[0].raw=c.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),c.tokens[0].text=c.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let u=this.lexer.inlineQueue.length-1;u>=0;u--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[u].src)){this.lexer.inlineQueue[u].src=this.lexer.inlineQueue[u].src.replace(this.rules.other.listReplaceTask,"");break}}let l=this.rules.other.listTaskCheckbox.exec(c.raw);if(l){let u={type:"checkbox",raw:l[0]+" ",checked:l[0]!=="[ ]"};c.checked=u.checked,r.loose?c.tokens[0]&&["paragraph","text"].includes(c.tokens[0].type)&&"tokens"in c.tokens[0]&&c.tokens[0].tokens?(c.tokens[0].raw=u.raw+c.tokens[0].raw,c.tokens[0].text=u.raw+c.tokens[0].text,c.tokens[0].tokens.unshift(u)):c.tokens.unshift({type:"paragraph",raw:u.raw,text:u.raw,tokens:[u]}):c.tokens.unshift(u)}}if(!r.loose){let l=c.tokens.filter(d=>d.type==="space"),u=l.length>0&&l.some(d=>this.rules.other.anyLine.test(d.raw));r.loose=u}}if(r.loose)for(let c of r.items){c.loose=!0;for(let l of c.tokens)l.type==="text"&&(l.type="paragraph")}return r}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=I1(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let a of i)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of r)s.rows.push(I1(a,s.header.length).map((o,c)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[c]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=Uo(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=_F(t[2],"()");if(s===-2)return;if(s>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],r=s[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),Q1(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[i.toLowerCase()];if(!r){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Q1(n,r,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let r=[...i[0]].length-1,s,a,o=r,c=0,l=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+r);(i=l.exec(t))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(a=[...s].length,i[3]||i[4]){o+=a;continue}else if((i[5]||i[6])&&r%3&&!((r+a)%3)){c+=a;continue}if(o-=a,o>0)continue;a=Math.min(a,a+o+c);let u=[...i[0]][0].length,d=e.slice(0,r+i.index+u+a);if(Math.min(r,a)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),r=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&r&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,i;if(t[2]==="@")n=t[0],i="mailto:"+n;else{let r;do r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(r!==t[0]);n=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},$n=class Im{tokens;options;state;inlineQueue;tokenizer;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||as,this.options.tokenizer=this.options.tokenizer||new eu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:rn,block:Jl.normal,inline:$o.normal};this.options.pedantic?(n.block=Jl.pedantic,n.inline=$o.pedantic):this.options.gfm&&(n.block=Jl.gfm,this.options.breaks?n.inline=$o.breaks:n.inline=$o.gfm),this.tokenizer.rules=n}static get rules(){return{block:Jl,inline:$o}}static lex(t,n){return new Im(n).lex(t)}static lexInline(t,n){return new Im(n).inlineTokens(t)}lex(t){t=t.replace(rn.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){for(this.options.pedantic&&(t=t.replace(rn.tabCharGlobal,"    ").replace(rn.spaceLine,""));t;){let r;if(this.options.extensions?.block?.some(a=>(r=a.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))continue;if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length);let a=n.at(-1);r.raw.length===1&&a!==void 0?a.raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length);let a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+r.raw,a.text+=`
`+r.text,this.inlineQueue.at(-1).src=a.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length);let a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+r.raw,a.text+=`
`+r.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},n.push(r));continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}let s=t;if(this.options.extensions?.startBlock){let a=1/0,o=t.slice(1),c;this.options.extensions.startBlock.forEach(l=>{c=l.call({lexer:this},o),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){let a=n.at(-1);i&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(r),i=s.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length);let a=n.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(r);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i=t,r=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)c.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)s=r[2]?r[2].length:0,i=i.slice(0,r.index+s)+"["+"a".repeat(r[0].length-s-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let a=!1,o="";for(;t;){a||(o=""),a=!1;let c;if(this.options.extensions?.inline?.some(u=>(c=u.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(c.raw.length);let u=n.at(-1);c.type==="text"&&u?.type==="text"?(u.raw+=c.raw,u.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(t,i,o)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(t)){t=t.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(t))){t=t.substring(c.raw.length),n.push(c);continue}let l=t;if(this.options.extensions?.startInline){let u=1/0,d=t.slice(1),h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},d),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(c=this.tokenizer.inlineText(l)){t=t.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(o=c.raw.slice(-1)),a=!0;let u=n.at(-1);u?.type==="text"?(u.raw+=c.raw,u.text+=c.text):n.push(c);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}},tu=class{options;parser;constructor(e){this.options=e||as}space(e){return""}code({text:e,lang:t,escaped:n}){let i=(t||"").match(rn.notSpaceStart)?.[0],r=e.replace(rn.endingNewline,"")+`
`;return i?'<pre><code class="language-'+ji(i)+'">'+(n?r:ji(r,!0))+`</code></pre>
`:"<pre><code>"+(n?r:ji(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,i="";for(let a=0;a<e.items.length;a++){let o=e.items[a];i+=this.listitem(o)}let r=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+i+"</"+r+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let r=0;r<e.header.length;r++)n+=this.tablecell(e.header[r]);t+=this.tablerow({text:n});let i="";for(let r=0;r<e.rows.length;r++){let s=e.rows[r];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ji(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let i=this.parser.parseInline(n),r=R1(e);if(r===null)return i;e=r;let s='<a href="'+e+'"';return t&&(s+=' title="'+ji(t)+'"'),s+=">"+i+"</a>",s}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let r=R1(e);if(r===null)return ji(n);e=r;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${ji(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ji(e.text)}},jf=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Yn=class Qm{options;renderer;textRenderer;constructor(t){this.options=t||as,this.options.renderer=this.options.renderer||new tu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new jf}static parse(t,n){return new Qm(n).parse(t)}static parseInline(t,n){return new Qm(n).parseInline(t)}parse(t){let n="";for(let i=0;i<t.length;i++){let r=t[i];if(this.options.extensions?.renderers?.[r.type]){let a=r,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){n+=o||"";continue}}let s=r;switch(s.type){case"space":{n+=this.renderer.space(s);break}case"hr":{n+=this.renderer.hr(s);break}case"heading":{n+=this.renderer.heading(s);break}case"code":{n+=this.renderer.code(s);break}case"table":{n+=this.renderer.table(s);break}case"blockquote":{n+=this.renderer.blockquote(s);break}case"list":{n+=this.renderer.list(s);break}case"checkbox":{n+=this.renderer.checkbox(s);break}case"html":{n+=this.renderer.html(s);break}case"def":{n+=this.renderer.def(s);break}case"paragraph":{n+=this.renderer.paragraph(s);break}case"text":{n+=this.renderer.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(t,n=this.renderer){let i="";for(let r=0;r<t.length;r++){let s=t[r];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=o||"";continue}}let a=s;switch(a.type){case"escape":{i+=n.text(a);break}case"html":{i+=n.html(a);break}case"link":{i+=n.link(a);break}case"image":{i+=n.image(a);break}case"checkbox":{i+=n.checkbox(a);break}case"strong":{i+=n.strong(a);break}case"em":{i+=n.em(a);break}case"codespan":{i+=n.codespan(a);break}case"br":{i+=n.br(a);break}case"del":{i+=n.del(a);break}case"text":{i+=n.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}},qo=class{options;block;constructor(e){this.options=e||as}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?$n.lex:$n.lexInline}provideParser(){return this.block?Yn.parse:Yn.parseInline}},EF=class{defaults=Lf();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Yn;Renderer=tu;TextRenderer=jf;Lexer=$n;Tokenizer=eu;Hooks=qo;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{let r=i;for(let s of r.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of r.rows)for(let a of s)n=n.concat(this.walkTokens(a.tokens,t));break}case"list":{let r=i;n=n.concat(this.walkTokens(r.items,t));break}default:{let r=i;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(s=>{let a=r[s].flat(1/0);n=n.concat(this.walkTokens(a,t))}):r.tokens&&(n=n.concat(this.walkTokens(r.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let s=t.renderers[r.name];s?t.renderers[r.name]=function(...a){let o=r.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[r.level];s?s.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),i.extensions=t),n.renderer){let r=this.defaults.renderer||new tu(this.defaults);for(let s in n.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,o=n.renderer[a],c=r[a];r[a]=(...l)=>{let u=o.apply(r,l);return u===!1&&(u=c.apply(r,l)),u||""}}i.renderer=r}if(n.tokenizer){let r=this.defaults.tokenizer||new eu(this.defaults);for(let s in n.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,o=n.tokenizer[a],c=r[a];r[a]=(...l)=>{let u=o.apply(r,l);return u===!1&&(u=c.apply(r,l)),u}}i.tokenizer=r}if(n.hooks){let r=this.defaults.hooks||new qo;for(let s in n.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,o=n.hooks[a],c=r[a];qo.passThroughHooks.has(s)?r[a]=l=>{if(this.defaults.async&&qo.passThroughHooksRespectAsync.has(s))return(async()=>{let d=await o.call(r,l);return c.call(r,d)})();let u=o.call(r,l);return c.call(r,u)}:r[a]=(...l)=>{if(this.defaults.async)return(async()=>{let d=await o.apply(r,l);return d===!1&&(d=await c.apply(r,l)),d})();let u=o.apply(r,l);return u===!1&&(u=c.apply(r,l)),u}}i.hooks=r}if(n.walkTokens){let r=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),r&&(o=o.concat(r.call(this,a))),o}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return $n.lex(e,t??this.defaults)}parser(e,t){return Yn.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let i={...n},r={...this.defaults,...i},s=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=e),r.async)return(async()=>{let a=r.hooks?await r.hooks.preprocess(t):t,o=await(r.hooks?await r.hooks.provideLexer():e?$n.lex:$n.lexInline)(a,r),c=r.hooks?await r.hooks.processAllTokens(o):o;r.walkTokens&&await Promise.all(this.walkTokens(c,r.walkTokens));let l=await(r.hooks?await r.hooks.provideParser():e?Yn.parse:Yn.parseInline)(c,r);return r.hooks?await r.hooks.postprocess(l):l})().catch(s);try{r.hooks&&(t=r.hooks.preprocess(t));let a=(r.hooks?r.hooks.provideLexer():e?$n.lex:$n.lexInline)(t,r);r.hooks&&(a=r.hooks.processAllTokens(a)),r.walkTokens&&this.walkTokens(a,r.walkTokens);let o=(r.hooks?r.hooks.provideParser():e?Yn.parse:Yn.parseInline)(a,r);return r.hooks&&(o=r.hooks.postprocess(o)),o}catch(a){return s(a)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+ji(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}},os=new EF;function Je(e,t){return os.parse(e,t)}Je.options=Je.setOptions=function(e){return os.setOptions(e),Je.defaults=os.defaults,g1(Je.defaults),Je},Je.getDefaults=Lf,Je.defaults=as,Je.use=function(...e){return os.use(...e),Je.defaults=os.defaults,g1(Je.defaults),Je},Je.walkTokens=function(e,t){return os.walkTokens(e,t)},Je.parseInline=os.parseInline,Je.Parser=Yn,Je.parser=Yn.parse,Je.Renderer=tu,Je.TextRenderer=jf,Je.Lexer=$n,Je.lexer=$n.lex,Je.Tokenizer=eu,Je.Hooks=qo,Je.parse=Je,Je.options,Je.setOptions,Je.use,Je.walkTokens,Je.parseInline,Yn.parse,$n.lex;const xF=/\[\^[^\]\s]{1,200}\](?!:)/,CF=/\[\^[^\]\s]{1,200}\]:/,PF=/<\/(\w+)>/,AF=/<(\w+)[\s>]/,Vf=e=>{let t=0;for(;t<e.length&&(e[t]===" "||e[t]==="	"||e[t]===`
`||e[t]==="\r");)t+=1;return t+1<e.length&&e[t]==="$"&&e[t+1]==="$"},RF=e=>{let t=e.length-1;for(;t>=0&&(e[t]===" "||e[t]==="	"||e[t]===`
`||e[t]==="\r");)t-=1;return t>=1&&e[t]==="$"&&e[t-1]==="$"},Wf=e=>{let t=0;for(let n=0;n<e.length-1;n+=1)e[n]==="$"&&e[n+1]==="$"&&(t+=1,n+=1);return t},IF=e=>{const t=xF.test(e),n=CF.test(e);if(t||n)return[e];const i=$n.lex(e,{gfm:!0}),r=[],s=[];for(const a of i){const o=a.raw,c=r.length;if(s.length>0){if(r[c-1]+=o,a.type==="html"){const l=o.match(PF);if(l){const u=l[1];s.at(-1)===u&&s.pop()}}continue}if(a.type==="html"&&a.block){const l=o.match(AF);if(l){const u=l[1];o.includes(`</${u}>`)||s.push(u)}}if(o.trim()==="$$"&&c>0){const l=r[c-1],u=Vf(l),d=Wf(l);if(u&&d%2===1){r[c-1]=l+o;continue}}if(c>0&&RF(o)){const l=r[c-1],u=Vf(l),d=Wf(l),h=Wf(o);if(u&&d%2===1&&!Vf(o)&&h===1){r[c-1]=l+o;continue}}r.push(o)}return r},QF=/(\*\*)([^*]*?)$/,NF=/(__)([^_]*?)$/,DF=/(\*\*\*)([^*]*?)$/,MF=/(\*)([^*]*?)$/,LF=/(_)([^_]*?)$/,$F=/(`)([^`]*?)$/,UF=/(~~)([^~]*?)$/,cs=/^[\s_~*`]*$/,N1=/^[\s]*[-*+][\s]+$/,qF=/[\p{L}\p{N}_]/u,XF=/^```[^`\n]*```?$/,FF=/^\*{4,}$/,Er=e=>{if(!e)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||t===95?!0:qF.test(e)},nu=e=>{const t=(e.match(/```/g)||[]).length;return t>0&&t%2===0&&e.includes(`
`)},BF=(e,t)=>{let n=1;for(let i=t-1;i>=0;i-=1)if(e[i]==="]")n+=1;else if(e[i]==="["&&(n-=1,n===0))return i;return-1},zF=(e,t)=>{let n=1;for(let i=t+1;i<e.length;i+=1)if(e[i]==="[")n+=1;else if(e[i]==="]"&&(n-=1,n===0))return i;return-1},Gf=(e,t)=>{let n=!1,i=!1;for(let r=0;r<t;r+=1){if(e.substring(r,r+3)==="```"){i=!i,r+=2;continue}!i&&e[r]==="`"&&(n=!n)}return n||i},ZF=e=>{const t=e.lastIndexOf("](");if(t!==-1&&!Gf(e,t)&&!e.substring(t+2).includes(")")){const n=BF(e,t);if(n!==-1&&!Gf(e,n)){const i=n>0&&e[n-1]==="!",r=i?n-1:n,s=e.substring(0,r),a=e.substring(n+1,t);return i?s:`${s}[${a}](streamdown:incomplete-link)`}}for(let n=e.length-1;n>=0;n-=1)if(e[n]==="["&&!Gf(e,n)){const i=n>0&&e[n-1]==="!",r=i?n-1:n;if(!e.substring(n+1).includes("]")){const s=e.substring(0,r);return i?s:`${e}](streamdown:incomplete-link)`}if(zF(e,n)===-1){const s=e.substring(0,r);return i?s:`${e}](streamdown:incomplete-link)`}}return e},jF=e=>{if(nu(e))return e;const t=e.match(QF);if(t){const n=t[2];if(!n||cs.test(n))return e;const i=e.lastIndexOf(t[1]),r=e.substring(0,i).lastIndexOf(`
`),s=r===-1?0:r+1,a=e.substring(s,i);if(N1.test(a)&&n.includes(`
`))return e;if((e.match(/\*\*/g)||[]).length%2===1)return`${e}**`}return e},VF=e=>{const t=e.match(NF);if(t){const n=t[2];if(!n||cs.test(n))return e;const i=e.lastIndexOf(t[1]),r=e.substring(0,i).lastIndexOf(`
`),s=r===-1?0:r+1,a=e.substring(s,i);if(N1.test(a)&&n.includes(`
`))return e;if((e.match(/__/g)||[]).length%2===1)return`${e}__`}return e},WF=e=>{let t=0;const n=e.length;for(let i=0;i<n;i+=1){if(e[i]!=="*")continue;const r=i>0?e[i-1]:"",s=i<n-1?e[i+1]:"";if(r==="\\"||r==="*"||s==="*"||r&&s&&Er(r)&&Er(s))continue;let a=0;for(let c=i-1;c>=0;c-=1)if(e[c]===`
`){a=c+1;break}let o=!0;for(let c=a;c<i;c+=1)if(e[c]!==" "&&e[c]!=="	"){o=!1;break}o&&(s===" "||s==="	")||(t+=1)}return t},GF=e=>{if(nu(e))return e;if(e.match(MF)){let t=-1;for(let i=0;i<e.length;i+=1)if(e[i]==="*"&&e[i-1]!=="*"&&e[i+1]!=="*"&&e[i-1]!=="\\"){const r=i>0?e[i-1]:"",s=i<e.length-1?e[i+1]:"";if(r&&s&&Er(r)&&Er(s))continue;t=i;break}if(t===-1)return e;const n=e.substring(t+1);if(!n||cs.test(n))return e;if(WF(e)%2===1)return`${e}*`}return e},D1=(e,t)=>{let n=!1,i=!1;for(let r=0;r<e.length&&r<t;r+=1){if(e[r]==="\\"&&e[r+1]==="$"){r+=1;continue}e[r]==="$"&&(e[r+1]==="$"?(i=!i,r+=1,n=!1):i||(n=!n))}return n||i},YF=e=>{const t=e.includes("$");let n=0;const i=e.length;for(let r=0;r<i;r+=1){if(e[r]!=="_")continue;const s=r>0?e[r-1]:"",a=r<i-1?e[r+1]:"";s!=="\\"&&(t&&D1(e,r)||s==="_"||a==="_"||s&&a&&Er(s)&&Er(a)||(n+=1))}return n},HF=e=>{if(nu(e))return e;if(e.match(LF)){let t=-1;for(let i=0;i<e.length;i+=1)if(e[i]==="_"&&e[i-1]!=="_"&&e[i+1]!=="_"&&e[i-1]!=="\\"&&!D1(e,i)){const r=i>0?e[i-1]:"",s=i<e.length-1?e[i+1]:"";if(r&&s&&Er(r)&&Er(s))continue;t=i;break}if(t===-1)return e;const n=e.substring(t+1);if(!n||cs.test(n))return e;if(YF(e)%2===1){let i=e.length;for(;i>0&&e[i-1]===`
`;)i-=1;if(i<e.length){const r=e.slice(0,i),s=e.slice(i);return`${r}_${s}`}return`${e}_`}}return e},KF=(e,t)=>{const n=e.substring(t,t+3)==="```",i=t>0&&e.substring(t-1,t+2)==="```",r=t>1&&e.substring(t-2,t+1)==="```";return n||i||r},JF=e=>{let t=0;for(let n=0;n<e.length;n+=1)e[n]==="`"&&!KF(e,n)&&(t+=1);return t},eB=e=>{if(e.match(XF)&&!e.includes(`
`))return e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e;const t=(e.match(/```/g)||[]).length,n=t%2===1;if(t>0&&t%2===0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&t%2===0)return e;const i=e.match($F);if(i&&!n){const r=i[2];if(!r||cs.test(r))return e;if(JF(e)%2===1)return`${e}\``}return e},tB=e=>{const t=e.match(UF);if(t){const n=t[2];if(!n||cs.test(n))return e;if((e.match(/~~/g)||[]).length%2===1)return`${e}~~`}return e},nB=e=>{let t=0,n=0;for(let i=0;i<e.length;i+=1)e[i]==="*"?n+=1:(n>=3&&(t+=Math.floor(n/3)),n=0);return n>=3&&(t+=Math.floor(n/3)),t},iB=e=>{if(nu(e)||FF.test(e))return e;const t=e.match(DF);if(t){const n=t[2];if(!n||cs.test(n))return e;if(nB(e)%2===1)return`${e}***`}return e},rB=e=>{if(!e||typeof e!="string")return e;let t=e;const n=ZF(t);return n.endsWith("](streamdown:incomplete-link)")?n:(t=n,t=iB(t),t=jF(t),t=VF(t),t=GF(t),t=HF(t),t=eB(t),t=tB(t),t)};function sB(){if(window.location!==window.parent.location){const{ancestorOrigins:e}=document.location;if(e&&e.length)return e[0];if(document.referrer)try{return new URL(document.referrer).origin}catch{}}return document.location.origin}function aB(e){const t=sB(),n=[t,...BX(e)];return[HM,[wN,{...Ya,protocols:{...Ya.protocols,src:[...Ya.protocols?.src||[],"data"]}}],[KM,{allowedImagePrefixes:["*"],allowedLinkPrefixes:n,allowedProtocols:["*"],defaultOrigin:t,allowDataImages:!0}]]}const oB=[[cU,{}],[PL,{}],[RL,{}]],iu=st({isAnimating:!1}),cB=Fe(({content:e,shouldParseIncompleteMarkdown:t,markdownOptions:n})=>{const i=Me(()=>typeof e=="string"&&t?rB(e.trim()):e,[e,t]);return g($X,{...n,children:i})},(e,t)=>e.content===t.content&&e.shouldParseIncompleteMarkdown===t.shouldParseIncompleteMarkdown&&e.markdownOptions===t.markdownOptions),lB=Fe(({children:e,parseIncompleteMarkdown:t=!0,className:n,isAnimating:i=!1,linkConfig:r})=>{const s=Jo(),a=Me(()=>IF(typeof e=="string"?e:""),[e]),o=Me(()=>({components:t7,rehypePlugins:aB(r),remarkPlugins:oB}),[r]);return g(S_.Provider,{value:M9,children:g(iu.Provider,{value:{isAnimating:i},children:g("div",{className:_e("markdown *:first:mt-0 *:last:mb-0",n),children:a.map((c,l)=>g(cB,{content:c,shouldParseIncompleteMarkdown:t,markdownOptions:o},`${s}-block-${l}`))})})})},(e,t)=>e.children===t.children&&e.isAnimating===t.isAnimating&&e.className===t.className&&e.parseIncompleteMarkdown===t.parseIncompleteMarkdown&&e.linkConfig===t.linkConfig);function uB({entry:e}){const t=TI(),n=bt().value.strip_audio_tags?dN(e.message):e.message;return g("div",{className:"pr-8",children:g(lB,{linkConfig:t.value,children:n})})}function dB({entry:e}){const{previewUrl:t}=Ph();return g("div",{className:at("flex gap-2.5 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75",e.role==="user"?"justify-end pl-16 origin-top-right":"pr-16 origin-top-left"),children:[e.role==="agent"&&g("img",{src:t,alt:"AI agent avatar",className:"bg-base-border shrink-0 w-5 h-5 rounded-full"}),g("div",{dir:"auto",className:at("px-3 py-2.5 rounded-bubble text-sm min-w-0 wrap-break-word whitespace-pre-wrap",e.role==="user"?"bg-accent text-accent-primary":"bg-base-active text-base-primary"),children:e.message})]})}function hB({entry:e}){const t=nt(),{lastId:n}=_t(),i=bI();return g("div",{className:"px-8 flex flex-col",children:[i.value==="rating"&&g(lN,{}),g("div",{className:"text-xs text-base-subtle text-center transition-opacity duration-200 data-hidden:opacity-0",children:[e.role==="user"?t.user_ended_conversation:t.agent_ended_conversation,g("br",{}),n.value&&g("span",{className:"break-all",children:[t.conversation_id,": ",n.value]})]})]})}function pB({entry:e}){const t=nt(),{lastId:n}=_t();return g("div",{className:"px-8 text-xs text-base-error text-center transition-opacity duration-200 data-hidden:opacity-0",children:[t.error_occurred,g("br",{}),e.message,n.value&&g(Ue,{children:[g("br",{}),g("span",{className:"text-base-subtle break-all",children:[t.conversation_id,": ",n.value]})]})]})}function fB({entry:e}){const t=nt();return g("div",{className:"px-8 text-xs text-base-subtle text-center transition-opacity duration-200 data-hidden:opacity-0",children:e.mode==="text"?t.switched_to_text_mode:t.switched_to_voice_mode})}function mB({entry:e}){const t=nt(),n=e.status??Dn.LOADING;return g("div",{className:"-my-4 first:mt-0 last:mb-0 flex items-center",children:g("div",{className:"flex items-center h-7 px-2 gap-1 rounded-button border border-base-border bg-base",children:[n===Dn.LOADING&&g(Ue,{children:[g(bn,{name:"loader",size:"md",className:"animate-spin shrink-0"}),g("span",{className:"text-xs leading-4",children:t.agent_working})]}),n===Dn.SUCCESS&&g(wt,{active:!0,initial:!1,children:g("span",{className:"flex items-center gap-1 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75",children:[g(bn,{name:"check",size:"sm",className:"shrink-0"}),g("span",{className:"text-xs leading-4",children:t.agent_done})]})}),n===Dn.ERROR&&g(wt,{active:!0,initial:!1,children:g("span",{className:"flex items-center gap-1 transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:scale-75",children:[g(bn,{name:"x",size:"sm",className:"shrink-0 text-base-error"}),g("span",{className:"text-xs text-base-error leading-4",children:t.agent_error})]})})]})})}function OB(e){return e.type==="disconnection"?g(hB,{entry:e}):e.type==="mode_toggle"?g(fB,{entry:e}):e.type==="error"?g(pB,{entry:e}):e.type==="tool_call"?g(mB,{entry:e}):e.role==="agent"?g(uB,{entry:e}):g(dB,{entry:e})}function gB({entry:e,animateIn:t}){return g(wt,{initial:!t,active:!0,children:OB(e)})}const vB=16;function bB({scrollPinned:e}){const t=ue(null),n=ue(null),i=ue(!0),r=oe(()=>{const u=t.current;u&&u.scrollTo({top:u.scrollHeight,behavior:"smooth"})},[]),s=oe(u=>{u.deltaY<0&&(e.value=!1)},[e]),a=ue(null),o=oe(u=>{const d=u.touches[0];d&&(a.current=d.clientY)},[]),c=oe(u=>{const d=u.touches[0];d&&a.current!==null&&(d.clientY>a.current&&(e.value=!1),a.current=d.clientY)},[e]),l=oe(()=>{const u=t.current;if(!u)return;const{scrollTop:d,scrollHeight:h,clientHeight:p}=u;h-d-p<=vB&&(e.value=!0)},[e]);return ke(()=>{i.current=!1;const u=n.current,d=t.current;if(!u||!d)return;let h=u.getBoundingClientRect().height;const p=new ResizeObserver(([m])=>{const O=m.contentRect.height,b=O>h;h=O,b&&e.peek()&&r()});return p.observe(u),()=>p.disconnect()},[e,r]),{scrollContainer:t,contentRef:n,handleScroll:l,handleWheel:s,handleTouchStart:o,handleTouchMove:c,firstRender:i}}function TB({scrollPinned:e,transcript:t}){const{scrollContainer:n,contentRef:i,handleScroll:r,handleWheel:s,handleTouchStart:a,handleTouchMove:o,firstRender:c}=bB({scrollPinned:e});return g("div",{ref:n,className:"px-4 pt-20 pb-4 grow overflow-y-auto z-2",onScroll:r,onWheel:s,onTouchStart:a,onTouchMove:o,children:g("div",{ref:i,className:"flex flex-col gap-6",children:t.value.map((l,u)=>g(gB,{entry:l,animateIn:!c.current},`${u}-${l.conversationIndex}`))})})}function kB({className:e,...t}){return g("textarea",{className:at("px-3 py-[calc(theme(spacing.2)-1px)] border text-sm text-base-primary bg-base border-base-border rounded-input focus-ring resize-none [field-sizing:content] placeholder:text-base-subtle",e),...t})}function yB(){const e=nt(),{rating:t,feedbackText:n}=Lh(),i=oe(r=>{n.value=r.currentTarget.value},[]);return g("div",{className:"grow flex flex-col overflow-y-auto overflow-x-hidden px-4",children:g("div",{className:"flex flex-col gap-8 min-h-full pt-4 pb-2",children:[g("div",{className:"flex flex-col items-center justify-center gap-3",children:[g(YQ,{orbColor:"var(--el-base-subtle)",circleBackgroundColor:"var(--el-base)",starColor:"var(--el-base-primary)",className:"w-20 h-22"}),t.value!==null&&g(tT,{rating:t.value,min:1,max:5}),g("div",{className:"text-center",children:[g("p",{className:"text-sm text-base-primary font-medium",children:e.thanks_for_feedback}),g("p",{className:"text-sm text-base-subtle",children:e.thanks_for_feedback_details})]})]}),g(kB,{className:"w-full min-h-[6lh]",placeholder:e.follow_up_feedback_placeholder,rows:6,value:n,onInput:i})]})})}function SB(){const e=nt(),{currentContent:t}=$h(),{submitFeedback:n}=Lh(),i=oe(()=>{n(),t.value="transcript"},[n]);return g("div",{className:"shrink-0 overflow-hidden flex p-3 items-end justify-end",children:g(It,{variant:"primary",onClick:i,children:e.submit})})}function M1(e,[t,n]){return Math.min(n,Math.max(t,e))}function xt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Yf(e,t=[]){let n=[];function i(s,a){const o=st(a),c=n.length;n=[...n,a];const l=d=>{const{scope:h,children:p,...m}=d,O=h?.[e]?.[c]||o,b=Me(()=>m,Object.values(m));return g(O.Provider,{value:b,children:p})};l.displayName=s+"Provider";function u(d,h){const p=h?.[e]?.[c]||o,m=fn(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[l,u]}const r=()=>{const s=n.map(a=>st(a));return function(a){const o=a?.[e]||s;return Me(()=>({[`__scope${e}`]:{...a,[e]:o}}),[a,o])}};return r.scopeName=e,[i,_B(r,...t)]}function _B(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(r){const s=i.reduce((a,{useScope:o,scopeName:c})=>{const l=o(r)[`__scope${c}`];return{...a,...l}},{});return Me(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function ru(e){const t=wB(e),n=Ee((i,r)=>{const{children:s,...a}=i,o=mn.toArray(s),c=o.find(xB);if(c){const l=c.props.children,u=o.map(d=>d===c?mn.count(l)>1?mn.only(null):Ct(l)?l.props.children:null:d);return g(t,{...a,ref:r,children:Ct(l)?Nr(l,void 0,u):null})}return g(t,{...a,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function wB(e){const t=Ee((n,i)=>{const{children:r,...s}=n;if(Ct(r)){const a=PB(r),o=CB(s,r.props);return r.type!==Ue&&(o.ref=i?Rh(i,a):a),Nr(r,o)}return mn.count(r)>1?mn.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EB=Symbol("radix.slottable");function xB(e){return Ct(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EB}function CB(e,t){const n={...t};for(const i in t){const r=e[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const o=s(...a);return r(...a),o}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function PB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function AB(e){const t=e+"CollectionProvider",[n,i]=Yf(t),[r,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=O=>{const{scope:b,children:v}=O,T=wi.useRef(null),S=wi.useRef(new Map).current;return g(r,{scope:b,itemMap:S,collectionRef:T,children:v})};a.displayName=t;const o=e+"CollectionSlot",c=ru(o),l=wi.forwardRef((O,b)=>{const{scope:v,children:T}=O,S=s(o,v),k=Ft(b,S.collectionRef);return g(c,{ref:k,children:T})});l.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=ru(u),p=wi.forwardRef((O,b)=>{const{scope:v,children:T,...S}=O,k=wi.useRef(null),y=Ft(b,k),_=s(u,v);return wi.useEffect(()=>(_.itemMap.set(k,{ref:k,...S}),()=>{_.itemMap.delete(k)})),g(h,{[d]:"",ref:y,children:T})});p.displayName=u;function m(O){const b=s(e+"CollectionConsumer",O);return wi.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((S,k)=>T.indexOf(S.ref.current)-T.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:l,ItemSlot:p},m,i]}var RB=st(void 0);function IB(e){const t=fn(RB);return e||t||"ltr"}var QB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yt=QB.reduce((e,t)=>{const n=ru(`Primitive.${t}`),i=Ee((r,s)=>{const{asChild:a,...o}=r,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g(c,{...o,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function NB(e,t){e&&ic(()=>e.dispatchEvent(t))}function ls(e){const t=ue(e);return ke(()=>{t.current=e}),Me(()=>(...n)=>t.current?.(...n),[])}function DB(e,t=globalThis?.document){const n=ls(e);ke(()=>{const i=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var MB="DismissableLayer",Hf="dismissableLayer.update",LB="dismissableLayer.pointerDownOutside",$B="dismissableLayer.focusOutside",L1,$1=st({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),U1=Ee((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=e,l=fn($1),[u,d]=he(null),h=u?.ownerDocument??globalThis?.document,[,p]=he({}),m=Ft(t,x=>d(x)),O=Array.from(l.layers),[b]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=O.indexOf(b),T=u?O.indexOf(u):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,k=T>=v,y=XB(x=>{const N=x.target,D=[...l.branches].some(E=>E.contains(N));!k||D||(r?.(x),a?.(x),x.defaultPrevented||o?.())},h),_=FB(x=>{const N=x.target;[...l.branches].some(D=>D.contains(N))||(s?.(x),a?.(x),x.defaultPrevented||o?.())},h);return DB(x=>{T===l.layers.size-1&&(i?.(x),!x.defaultPrevented&&o&&(x.preventDefault(),o()))},h),ke(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(L1=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),q1(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=L1)}},[u,h,n,l]),ke(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),q1())},[u,l]),ke(()=>{const x=()=>p({});return document.addEventListener(Hf,x),()=>document.removeEventListener(Hf,x)},[]),g(yt.div,{...c,ref:m,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:xt(e.onFocusCapture,_.onFocusCapture),onBlurCapture:xt(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:xt(e.onPointerDownCapture,y.onPointerDownCapture)})});U1.displayName=MB;var UB="DismissableLayerBranch",qB=Ee((e,t)=>{const n=fn($1),i=ue(null),r=Ft(t,i);return ke(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g(yt.div,{...e,ref:r})});qB.displayName=UB;function XB(e,t=globalThis?.document){const n=ls(e),i=ue(!1),r=ue(()=>{});return ke(()=>{const s=o=>{if(o.target&&!i.current){let c=function(){X1(LB,n,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function FB(e,t=globalThis?.document){const n=ls(e),i=ue(!1);return ke(()=>{const r=s=>{s.target&&!i.current&&X1($B,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function q1(){const e=new CustomEvent(Hf);document.dispatchEvent(e)}function X1(e,t,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),i?NB(r,s):r.dispatchEvent(s)}var Kf=0;function BB(){ke(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??F1()),document.body.insertAdjacentElement("beforeend",e[1]??F1()),Kf++,()=>{Kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kf--}},[])}function F1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jf="focusScope.autoFocusOnMount",em="focusScope.autoFocusOnUnmount",B1={bubbles:!1,cancelable:!0},zB="FocusScope",z1=Ee((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...a}=e,[o,c]=he(null),l=ls(r),u=ls(s),d=ue(null),h=Ft(t,O=>c(O)),p=ue({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;ke(()=>{if(i){let O=function(S){if(p.paused||!o)return;const k=S.target;o.contains(k)?d.current=k:xr(d.current,{select:!0})},b=function(S){if(p.paused||!o)return;const k=S.relatedTarget;k!==null&&(o.contains(k)||xr(d.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&xr(o)};document.addEventListener("focusin",O),document.addEventListener("focusout",b);const T=new MutationObserver(v);return o&&T.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",O),document.removeEventListener("focusout",b),T.disconnect()}}},[i,o,p.paused]),ke(()=>{if(o){V1.add(p);const O=document.activeElement;if(!o.contains(O)){const b=new CustomEvent(Jf,B1);o.addEventListener(Jf,l),o.dispatchEvent(b),b.defaultPrevented||(ZB(YB(Z1(o)),{select:!0}),document.activeElement===O&&xr(o))}return()=>{o.removeEventListener(Jf,l),setTimeout(()=>{const b=new CustomEvent(em,B1);o.addEventListener(em,u),o.dispatchEvent(b),b.defaultPrevented||xr(O??document.body,{select:!0}),o.removeEventListener(em,u),V1.remove(p)},0)}}},[o,l,u,p]);const m=oe(O=>{if(!n&&!i||p.paused)return;const b=O.key==="Tab"&&!O.altKey&&!O.ctrlKey&&!O.metaKey,v=document.activeElement;if(b&&v){const T=O.currentTarget,[S,k]=jB(T);S&&k?!O.shiftKey&&v===k?(O.preventDefault(),n&&xr(S,{select:!0})):O.shiftKey&&v===S&&(O.preventDefault(),n&&xr(k,{select:!0})):v===T&&O.preventDefault()}},[n,i,p.paused]);return g(yt.div,{tabIndex:-1,...a,ref:h,onKeyDown:m})});z1.displayName=zB;function ZB(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(xr(i,{select:t}),document.activeElement!==n)return}function jB(e){const t=Z1(e),n=j1(t,e),i=j1(t.reverse(),e);return[n,i]}function Z1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function j1(e,t){for(const n of e)if(!VB(n,{upTo:t}))return n}function VB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WB(e){return e instanceof HTMLInputElement&&"select"in e}function xr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&WB(e)&&t&&e.select()}}var V1=GB();function GB(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=W1(e,t),e.unshift(t)},remove(t){e=W1(e,t),e[0]?.resume()}}}function W1(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function YB(e){return e.filter(t=>t.tagName!=="A")}var hn=globalThis?.document?_i:()=>{},HB=Yu[" useId ".trim().toString()]||(()=>{}),KB=0;function tm(e){const[t,n]=he(HB());return hn(()=>{n(i=>i??String(KB++))},[e]),t?`radix-${t}`:""}const JB=["top","right","bottom","left"],Cr=Math.min,wn=Math.max,su=Math.round,au=Math.floor,Oi=e=>({x:e,y:e}),ez={left:"right",right:"left",bottom:"top",top:"bottom"},tz={start:"end",end:"start"};function nm(e,t,n){return wn(e,Cr(t,n))}function Vi(e,t){return typeof e=="function"?e(t):e}function Wi(e){return e.split("-")[0]}function ia(e){return e.split("-")[1]}function im(e){return e==="x"?"y":"x"}function rm(e){return e==="y"?"height":"width"}const nz=new Set(["top","bottom"]);function gi(e){return nz.has(Wi(e))?"y":"x"}function sm(e){return im(gi(e))}function iz(e,t,n){n===void 0&&(n=!1);const i=ia(e),r=sm(e),s=rm(r);let a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=ou(a)),[a,ou(a)]}function rz(e){const t=ou(e);return[am(e),t,am(t)]}function am(e){return e.replace(/start|end/g,t=>tz[t])}const G1=["left","right"],Y1=["right","left"],sz=["top","bottom"],az=["bottom","top"];function oz(e,t,n){switch(e){case"top":case"bottom":return n?t?Y1:G1:t?G1:Y1;case"left":case"right":return t?sz:az;default:return[]}}function cz(e,t,n,i){const r=ia(e);let s=oz(Wi(e),n==="start",i);return r&&(s=s.map(a=>a+"-"+r),t&&(s=s.concat(s.map(am)))),s}function ou(e){return e.replace(/left|right|bottom|top/g,t=>ez[t])}function lz(e){return{top:0,right:0,bottom:0,left:0,...e}}function H1(e){return typeof e!="number"?lz(e):{top:e,right:e,bottom:e,left:e}}function cu(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function K1(e,t,n){let{reference:i,floating:r}=e;const s=gi(t),a=sm(t),o=rm(a),c=Wi(t),l=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[o]/2-r[o]/2;let p;switch(c){case"top":p={x:u,y:i.y-r.height};break;case"bottom":p={x:u,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-r.width,y:d};break;default:p={x:i.x,y:i.y}}switch(ia(t)){case"start":p[a]-=h*(n&&l?-1:1);break;case"end":p[a]+=h*(n&&l?-1:1);break}return p}const uz=async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=K1(l,i,c),h=i,p={},m=0;for(let O=0;O<o.length;O++){const{name:b,fn:v}=o[O],{x:T,y:S,data:k,reset:y}=await v({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:t}});u=T??u,d=S??d,p={...p,[b]:{...p[b],...k}},y&&m<=50&&(m++,typeof y=="object"&&(y.placement&&(h=y.placement),y.rects&&(l=y.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:r}):y.rects),{x:u,y:d}=K1(l,h,c)),O=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:p}};async function Xo(e,t){var n;t===void 0&&(t={});const{x:i,y:r,platform:s,rects:a,elements:o,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Vi(t,e),m=H1(p),O=o[h?d==="floating"?"reference":"floating":d],b=cu(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(O)))==null||n?O:O.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:l,rootBoundary:u,strategy:c})),v=d==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},k=cu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:T,strategy:c}):v);return{top:(b.top-k.top+m.top)/S.y,bottom:(k.bottom-b.bottom+m.bottom)/S.y,left:(b.left-k.left+m.left)/S.x,right:(k.right-b.right+m.right)/S.x}}const dz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:r,rects:s,platform:a,elements:o,middlewareData:c}=t,{element:l,padding:u=0}=Vi(e,t)||{};if(l==null)return{};const d=H1(u),h={x:n,y:i},p=sm(r),m=rm(p),O=await a.getDimensions(l),b=p==="y",v=b?"top":"left",T=b?"bottom":"right",S=b?"clientHeight":"clientWidth",k=s.reference[m]+s.reference[p]-h[p]-s.floating[m],y=h[p]-s.reference[p],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let x=_?_[S]:0;(!x||!await(a.isElement==null?void 0:a.isElement(_)))&&(x=o.floating[S]||s.floating[m]);const N=k/2-y/2,D=x/2-O[m]/2-1,E=Cr(d[v],D),M=Cr(d[T],D),L=E,z=x-O[m]-M,X=x/2-O[m]/2+N,F=nm(L,X,z),K=!c.arrow&&ia(r)!=null&&X!==F&&s.reference[m]/2-(X<L?E:M)-O[m]/2<0,se=K?X<L?X-L:X-z:0;return{[p]:h[p]+se,data:{[p]:F,centerOffset:X-F-se,...K&&{alignmentOffset:se}},reset:K}}}),hz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:r,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:O=!0,...b}=Vi(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Wi(r),T=gi(o),S=Wi(o)===o,k=await(c.isRTL==null?void 0:c.isRTL(l.floating)),y=h||(S||!O?[ou(o)]:rz(o)),_=m!=="none";!h&&_&&y.push(...cz(o,O,m,k));const x=[o,...y],N=await Xo(t,b),D=[];let E=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&D.push(N[v]),d){const X=iz(r,a,k);D.push(N[X[0]],N[X[1]])}if(E=[...E,{placement:r,overflows:D}],!D.every(X=>X<=0)){var M,L;const X=(((M=s.flip)==null?void 0:M.index)||0)+1,F=x[X];if(F&&(!(d==="alignment"&&T!==gi(F))||E.every(se=>gi(se.placement)===T?se.overflows[0]>0:!0)))return{data:{index:X,overflows:E},reset:{placement:F}};let K=(L=E.filter(se=>se.overflows[0]<=0).sort((se,j)=>se.overflows[1]-j.overflows[1])[0])==null?void 0:L.placement;if(!K)switch(p){case"bestFit":{var z;const se=(z=E.filter(j=>{if(_){const fe=gi(j.placement);return fe===T||fe==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(fe=>fe>0).reduce((fe,I)=>fe+I,0)]).sort((j,fe)=>j[1]-fe[1])[0])==null?void 0:z[0];se&&(K=se);break}case"initialPlacement":K=o;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function J1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ew(e){return JB.some(t=>e[t]>=0)}const pz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...r}=Vi(e,t);switch(i){case"referenceHidden":{const s=await Xo(t,{...r,elementContext:"reference"}),a=J1(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ew(a)}}}case"escaped":{const s=await Xo(t,{...r,altBoundary:!0}),a=J1(s,n.floating);return{data:{escapedOffsets:a,escaped:ew(a)}}}default:return{}}}}},tw=new Set(["left","top"]);async function fz(e,t){const{placement:n,platform:i,elements:r}=e,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=Wi(n),o=ia(n),c=gi(n)==="y",l=tw.has(a)?-1:1,u=s&&c?-1:1,d=Vi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}const mz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:r,y:s,placement:a,middlewareData:o}=t,c=await fz(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:a}}}}},Oz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:v,y:T}=b;return{x:v,y:T}}},...c}=Vi(e,t),l={x:n,y:i},u=await Xo(t,c),d=gi(Wi(r)),h=im(d);let p=l[h],m=l[d];if(s){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",T=p+u[b],S=p-u[v];p=nm(T,p,S)}if(a){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",T=m+u[b],S=m-u[v];m=nm(T,m,S)}const O=o.fn({...t,[h]:p,[d]:m});return{...O,data:{x:O.x-n,y:O.y-i,enabled:{[h]:s,[d]:a}}}}}},gz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:r,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:l=!0}=Vi(e,t),u={x:n,y:i},d=gi(r),h=im(d);let p=u[h],m=u[d];const O=Vi(o,t),b=typeof O=="number"?{mainAxis:O,crossAxis:0}:{mainAxis:0,crossAxis:0,...O};if(c){const S=h==="y"?"height":"width",k=s.reference[h]-s.floating[S]+b.mainAxis,y=s.reference[h]+s.reference[S]-b.mainAxis;p<k?p=k:p>y&&(p=y)}if(l){var v,T;const S=h==="y"?"width":"height",k=tw.has(Wi(r)),y=s.reference[d]-s.floating[S]+(k&&((v=a.offset)==null?void 0:v[d])||0)+(k?0:b.crossAxis),_=s.reference[d]+s.reference[S]+(k?0:((T=a.offset)==null?void 0:T[d])||0)-(k?b.crossAxis:0);m<y?m=y:m>_&&(m=_)}return{[h]:p,[d]:m}}}},vz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:r,rects:s,platform:a,elements:o}=t,{apply:c=()=>{},...l}=Vi(e,t),u=await Xo(t,l),d=Wi(r),h=ia(r),p=gi(r)==="y",{width:m,height:O}=s.floating;let b,v;d==="top"||d==="bottom"?(b=d,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=d,b=h==="end"?"top":"bottom");const T=O-u.top-u.bottom,S=m-u.left-u.right,k=Cr(O-u[b],T),y=Cr(m-u[v],S),_=!t.middlewareData.shift;let x=k,N=y;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=S),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(x=T),_&&!h){const E=wn(u.left,0),M=wn(u.right,0),L=wn(u.top,0),z=wn(u.bottom,0);p?N=m-2*(E!==0||M!==0?E+M:wn(u.left,u.right)):x=O-2*(L!==0||z!==0?L+z:wn(u.top,u.bottom))}await c({...t,availableWidth:N,availableHeight:x});const D=await a.getDimensions(o.floating);return m!==D.width||O!==D.height?{reset:{rects:!0}}:{}}}};function lu(){return typeof window<"u"}function ra(e){return nw(e)?(e.nodeName||"").toLowerCase():"#document"}function En(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vi(e){var t;return(t=(nw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nw(e){return lu()?e instanceof Node||e instanceof En(e).Node:!1}function Hn(e){return lu()?e instanceof Element||e instanceof En(e).Element:!1}function bi(e){return lu()?e instanceof HTMLElement||e instanceof En(e).HTMLElement:!1}function iw(e){return!lu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof En(e).ShadowRoot}const bz=new Set(["inline","contents"]);function Fo(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=Kn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!bz.has(r)}const Tz=new Set(["table","td","th"]);function kz(e){return Tz.has(ra(e))}const yz=[":popover-open",":modal"];function uu(e){return yz.some(t=>{try{return e.matches(t)}catch{return!1}})}const Sz=["transform","translate","scale","rotate","perspective"],_z=["transform","translate","scale","rotate","perspective","filter"],wz=["paint","layout","strict","content"];function om(e){const t=cm(),n=Hn(e)?Kn(e):e;return Sz.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||_z.some(i=>(n.willChange||"").includes(i))||wz.some(i=>(n.contain||"").includes(i))}function Ez(e){let t=Pr(e);for(;bi(t)&&!sa(t);){if(om(t))return t;if(uu(t))return null;t=Pr(t)}return null}function cm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xz=new Set(["html","body","#document"]);function sa(e){return xz.has(ra(e))}function Kn(e){return En(e).getComputedStyle(e)}function du(e){return Hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pr(e){if(ra(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iw(e)&&e.host||vi(e);return iw(t)?t.host:t}function rw(e){const t=Pr(e);return sa(t)?e.ownerDocument?e.ownerDocument.body:e.body:bi(t)&&Fo(t)?t:rw(t)}function Bo(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=rw(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),a=En(r);if(s){const o=lm(a);return t.concat(a,a.visualViewport||[],Fo(r)?r:[],o&&n?Bo(o):[])}return t.concat(r,Bo(r,[],n))}function lm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function sw(e){const t=Kn(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=bi(e),s=r?e.offsetWidth:n,a=r?e.offsetHeight:i,o=su(n)!==s||su(i)!==a;return o&&(n=s,i=a),{width:n,height:i,$:o}}function um(e){return Hn(e)?e:e.contextElement}function aa(e){const t=um(e);if(!bi(t))return Oi(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:s}=sw(t);let a=(s?su(n.width):n.width)/i,o=(s?su(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Cz=Oi(0);function aw(e){const t=En(e);return!cm()||!t.visualViewport?Cz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==En(e)?!1:t}function us(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=um(e);let a=Oi(1);t&&(i?Hn(i)&&(a=aa(i)):a=aa(e));const o=Pz(s,n,i)?aw(s):Oi(0);let c=(r.left+o.x)/a.x,l=(r.top+o.y)/a.y,u=r.width/a.x,d=r.height/a.y;if(s){const h=En(s),p=i&&Hn(i)?En(i):i;let m=h,O=lm(m);for(;O&&i&&p!==m;){const b=aa(O),v=O.getBoundingClientRect(),T=Kn(O),S=v.left+(O.clientLeft+parseFloat(T.paddingLeft))*b.x,k=v.top+(O.clientTop+parseFloat(T.paddingTop))*b.y;c*=b.x,l*=b.y,u*=b.x,d*=b.y,c+=S,l+=k,m=En(O),O=lm(m)}}return cu({width:u,height:d,x:c,y:l})}function hu(e,t){const n=du(e).scrollLeft;return t?t.left+n:us(vi(e)).left+n}function ow(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-hu(e,n),r=n.top+t.scrollTop;return{x:i,y:r}}function Az(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const s=r==="fixed",a=vi(i),o=t?uu(t.floating):!1;if(i===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},l=Oi(1);const u=Oi(0),d=bi(i);if((d||!d&&!s)&&((ra(i)!=="body"||Fo(a))&&(c=du(i)),bi(i))){const p=us(i);l=aa(i),u.x=p.x+i.clientLeft,u.y=p.y+i.clientTop}const h=a&&!d&&!s?ow(a,c):Oi(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function Rz(e){return Array.from(e.getClientRects())}function Iz(e){const t=vi(e),n=du(e),i=e.ownerDocument.body,r=wn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=wn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+hu(e);const o=-n.scrollTop;return Kn(i).direction==="rtl"&&(a+=wn(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:o}}const cw=25;function Qz(e,t){const n=En(e),i=vi(e),r=n.visualViewport;let s=i.clientWidth,a=i.clientHeight,o=0,c=0;if(r){s=r.width,a=r.height;const u=cm();(!u||u&&t==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}const l=hu(i);if(l<=0){const u=i.ownerDocument,d=u.body,h=getComputedStyle(d),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(i.clientWidth-d.clientWidth-p);m<=cw&&(s-=m)}else l<=cw&&(s+=l);return{width:s,height:a,x:o,y:c}}const Nz=new Set(["absolute","fixed"]);function Dz(e,t){const n=us(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,s=bi(e)?aa(e):Oi(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,c=r*s.x,l=i*s.y;return{width:a,height:o,x:c,y:l}}function lw(e,t,n){let i;if(t==="viewport")i=Qz(e,n);else if(t==="document")i=Iz(vi(e));else if(Hn(t))i=Dz(t,n);else{const r=aw(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return cu(i)}function uw(e,t){const n=Pr(e);return n===t||!Hn(n)||sa(n)?!1:Kn(n).position==="fixed"||uw(n,t)}function Mz(e,t){const n=t.get(e);if(n)return n;let i=Bo(e,[],!1).filter(o=>Hn(o)&&ra(o)!=="body"),r=null;const s=Kn(e).position==="fixed";let a=s?Pr(e):e;for(;Hn(a)&&!sa(a);){const o=Kn(a),c=om(a);!c&&o.position==="fixed"&&(r=null),(s?!c&&!r:!c&&o.position==="static"&&r&&Nz.has(r.position)||Fo(a)&&!c&&uw(e,a))?i=i.filter(l=>l!==a):r=o,a=Pr(a)}return t.set(e,i),i}function Lz(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const s=[...n==="clippingAncestors"?uu(t)?[]:Mz(t,this._c):[].concat(n),i],a=s[0],o=s.reduce((c,l)=>{const u=lw(t,l,r);return c.top=wn(u.top,c.top),c.right=Cr(u.right,c.right),c.bottom=Cr(u.bottom,c.bottom),c.left=wn(u.left,c.left),c},lw(t,a,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function $z(e){const{width:t,height:n}=sw(e);return{width:t,height:n}}function Uz(e,t,n){const i=bi(t),r=vi(t),s=n==="fixed",a=us(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const c=Oi(0);function l(){c.x=hu(r)}if(i||!i&&!s)if((ra(t)!=="body"||Fo(r))&&(o=du(t)),i){const p=us(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else r&&l();s&&!i&&r&&l();const u=r&&!i&&!s?ow(r,o):Oi(0),d=a.left+o.scrollLeft-c.x-u.x,h=a.top+o.scrollTop-c.y-u.y;return{x:d,y:h,width:a.width,height:a.height}}function dm(e){return Kn(e).position==="static"}function dw(e,t){if(!bi(e)||Kn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vi(e)===n&&(n=n.ownerDocument.body),n}function hw(e,t){const n=En(e);if(uu(e))return n;if(!bi(e)){let r=Pr(e);for(;r&&!sa(r);){if(Hn(r)&&!dm(r))return r;r=Pr(r)}return n}let i=dw(e,t);for(;i&&kz(i)&&dm(i);)i=dw(i,t);return i&&sa(i)&&dm(i)&&!om(i)?n:i||Ez(e)||n}const qz=async function(e){const t=this.getOffsetParent||hw,n=this.getDimensions,i=await n(e.floating);return{reference:Uz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Xz(e){return Kn(e).direction==="rtl"}const Fz={convertOffsetParentRelativeRectToViewportRelativeRect:Az,getDocumentElement:vi,getClippingRect:Lz,getOffsetParent:hw,getElementRects:qz,getClientRects:Rz,getDimensions:$z,getScale:aa,isElement:Hn,isRTL:Xz};function pw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Bz(e,t){let n=null,i;const r=vi(e);function s(){var o;clearTimeout(i),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const l=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=l;if(o||t(),!h||!p)return;const m=au(d),O=au(r.clientWidth-(u+h)),b=au(r.clientHeight-(d+p)),v=au(u),T={rootMargin:-m+"px "+-O+"px "+-b+"px "+-v+"px",threshold:wn(0,Cr(1,c))||1};let S=!0;function k(y){const _=y[0].intersectionRatio;if(_!==c){if(!S)return a();_?a(!1,_):i=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!pw(l,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(k,{...T,root:r.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(e)}return a(!0),s}function zz(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,l=um(e),u=r||s?[...l?Bo(l):[],...Bo(t)]:[];u.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=l&&o?Bz(l,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[T]=v;T&&T.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,O=c?us(e):null;c&&b();function b(){const v=us(e);O&&!pw(O,v)&&n(),O=v,m=requestAnimationFrame(b)}return n(),()=>{var v;u.forEach(T=>{r&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),d?.(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const Zz=mz,jz=Oz,Vz=hz,Wz=vz,Gz=pz,fw=dz,Yz=gz,Hz=(e,t,n)=>{const i=new Map,r={platform:Fz,...n},s={...r.platform,_c:i};return uz(e,t,{...r,platform:s})};var Kz=typeof document<"u",Jz=function(){},pu=Kz?_i:Jz;function fu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!fu(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&e.$$typeof)&&!fu(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function mw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ow(e,t){const n=mw(e);return Math.round(t*n)/n}function hm(e){const t=ue(e);return pu(()=>{t.current=e}),t}function eZ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:l}=e,[u,d]=he({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=he(i);fu(h,i)||p(i);const[m,O]=he(null),[b,v]=he(null),T=oe(j=>{j!==_.current&&(_.current=j,O(j))},[]),S=oe(j=>{j!==x.current&&(x.current=j,v(j))},[]),k=s||m,y=a||b,_=ue(null),x=ue(null),N=ue(u),D=c!=null,E=hm(c),M=hm(r),L=hm(l),z=oe(()=>{if(!_.current||!x.current)return;const j={placement:t,strategy:n,middleware:h};M.current&&(j.platform=M.current),Hz(_.current,x.current,j).then(fe=>{const I={...fe,isPositioned:L.current!==!1};X.current&&!fu(N.current,I)&&(N.current=I,ic(()=>{d(I)}))})},[h,t,n,M,L]);pu(()=>{l===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[l]);const X=ue(!1);pu(()=>(X.current=!0,()=>{X.current=!1}),[]),pu(()=>{if(k&&(_.current=k),y&&(x.current=y),k&&y){if(E.current)return E.current(k,y,z);z()}},[k,y,z,E,D]);const F=Me(()=>({reference:_,floating:x,setReference:T,setFloating:S}),[T,S]),K=Me(()=>({reference:k,floating:y}),[k,y]),se=Me(()=>{const j={position:n,left:0,top:0};if(!K.floating)return j;const fe=Ow(K.floating,u.x),I=Ow(K.floating,u.y);return o?{...j,transform:"translate("+fe+"px, "+I+"px)",...mw(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:fe,top:I}},[n,o,K.floating,u.x,u.y]);return Me(()=>({...u,update:z,refs:F,elements:K,floatingStyles:se}),[u,z,F,K,se])}const tZ=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:r}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?fw({element:i.current,padding:r}).fn(n):{}:i?fw({element:i,padding:r}).fn(n):{}}}},nZ=(e,t)=>({...Zz(e),options:[e,t]}),iZ=(e,t)=>({...jz(e),options:[e,t]}),rZ=(e,t)=>({...Yz(e),options:[e,t]}),sZ=(e,t)=>({...Vz(e),options:[e,t]}),aZ=(e,t)=>({...Wz(e),options:[e,t]}),oZ=(e,t)=>({...Gz(e),options:[e,t]}),cZ=(e,t)=>({...tZ(e),options:[e,t]});var lZ="Arrow",gw=Ee((e,t)=>{const{children:n,width:i=10,height:r=5,...s}=e;return g(yt.svg,{...s,ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g("polygon",{points:"0,0 30,0 15,10"})})});gw.displayName=lZ;var uZ=gw;function dZ(e){const[t,n]=he(void 0);return hn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;a=l.inlineSize,o=l.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var pm="Popper",[vw,bw]=Yf(pm),[hZ,Tw]=vw(pm),kw=e=>{const{__scopePopper:t,children:n}=e,[i,r]=he(null);return g(hZ,{scope:t,anchor:i,onAnchorChange:r,children:n})};kw.displayName=pm;var yw="PopperAnchor",Sw=Ee((e,t)=>{const{__scopePopper:n,virtualRef:i,...r}=e,s=Tw(yw,n),a=ue(null),o=Ft(t,a),c=ue(null);return ke(()=>{const l=c.current;c.current=i?.current||a.current,l!==c.current&&s.onAnchorChange(c.current)}),i?null:g(yt.div,{...r,ref:o})});Sw.displayName=yw;var fm="PopperContent",[pZ,fZ]=vw(fm),_w=Ee((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...O}=e,b=Tw(fm,n),[v,T]=he(null),S=Ft(t,ae=>T(ae)),[k,y]=he(null),_=dZ(k),x=_?.width??0,N=_?.height??0,D=i+(s!=="center"?"-"+s:""),E=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(l)?l:[l],L=M.length>0,z={padding:E,boundary:M.filter(OZ),altBoundary:L},{refs:X,floatingStyles:F,placement:K,isPositioned:se,middlewareData:j}=eZ({strategy:"fixed",placement:D,whileElementsMounted:(...ae)=>zz(...ae,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[nZ({mainAxis:r+N,alignmentAxis:a}),c&&iZ({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?rZ():void 0,...z}),c&&sZ({...z}),aZ({...z,apply:({elements:ae,rects:qe,availableWidth:Xe,availableHeight:Te})=>{const{width:Ye,height:Ot}=qe.reference,pn=ae.floating.style;pn.setProperty("--radix-popper-available-width",`${Xe}px`),pn.setProperty("--radix-popper-available-height",`${Te}px`),pn.setProperty("--radix-popper-anchor-width",`${Ye}px`),pn.setProperty("--radix-popper-anchor-height",`${Ot}px`)}}),k&&cZ({element:k,padding:o}),gZ({arrowWidth:x,arrowHeight:N}),h&&oZ({strategy:"referenceHidden",...z})]}),[fe,I]=xw(K),Ne=ls(m);hn(()=>{se&&Ne?.()},[se,Ne]);const De=j.arrow?.x,A=j.arrow?.y,be=j.arrow?.centerOffset!==0,[Ge,Ie]=he();return hn(()=>{v&&Ie(window.getComputedStyle(v).zIndex)},[v]),g("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:se?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ge,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g(pZ,{scope:n,placedSide:fe,onArrowChange:y,arrowX:De,arrowY:A,shouldHideArrow:be,children:g(yt.div,{"data-side":fe,"data-align":I,...O,ref:S,style:{...O.style,animation:se?void 0:"none"}})})})});_w.displayName=fm;var ww="PopperArrow",mZ={top:"bottom",right:"left",bottom:"top",left:"right"},Ew=Ee(function(e,t){const{__scopePopper:n,...i}=e,r=fZ(ww,n),s=mZ[r.placedSide];return g("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:g(uZ,{...i,ref:t,style:{...i.style,display:"block"}})})});Ew.displayName=ww;function OZ(e){return e!==null}var gZ=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:r}=t,s=r.arrow?.centerOffset!==0,a=s?0:e.arrowWidth,o=s?0:e.arrowHeight,[c,l]=xw(n),u={start:"0%",center:"50%",end:"100%"}[l],d=(r.arrow?.x??0)+a/2,h=(r.arrow?.y??0)+o/2;let p="",m="";return c==="bottom"?(p=s?u:`${d}px`,m=`${-o}px`):c==="top"?(p=s?u:`${d}px`,m=`${i.floating.height+o}px`):c==="right"?(p=`${-o}px`,m=s?u:`${h}px`):c==="left"&&(p=`${i.floating.width+o}px`,m=s?u:`${h}px`),{data:{x:p,y:m}}}});function xw(e){const[t,n="center"]=e.split("-");return[t,n]}var vZ=kw,bZ=Sw,TZ=_w,kZ=Ew,yZ="Portal",Cw=Ee((e,t)=>{const{container:n,...i}=e,[r,s]=he(!1);hn(()=>s(!0),[]);const a=n||r&&globalThis?.document?.body;return a?wi.createPortal(g(yt.div,{...i,ref:t}),a):null});Cw.displayName=yZ;var SZ=Yu[" useInsertionEffect ".trim().toString()]||hn;function Pw({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[r,s,a]=_Z({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:r;{const u=ue(e!==void 0);ke(()=>{const d=u.current;d!==o&&console.warn(`${i} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,i])}const l=oe(u=>{if(o){const d=wZ(u)?u(e):u;d!==e&&a.current?.(d)}else s(u)},[o,e,s,a]);return[c,l]}function _Z({defaultProp:e,onChange:t}){const[n,i]=he(e),r=ue(n),s=ue(t);return SZ(()=>{s.current=t},[t]),ke(()=>{r.current!==n&&(s.current?.(n),r.current=n)},[n,r]),[n,i,s]}function wZ(e){return typeof e=="function"}function EZ(e){const t=ue({value:e,previous:e});return Me(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Aw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xZ="VisuallyHidden",CZ=Ee((e,t)=>g(yt.span,{...e,ref:t,style:{...Aw,...e.style}}));CZ.displayName=xZ;var PZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},oa=new WeakMap,mu=new WeakMap,Ou={},mm=0,Rw=function(e){return e&&(e.host||Rw(e.parentNode))},AZ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=Rw(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},RZ=function(e,t,n,i){var r=AZ(t,Array.isArray(e)?e:[e]);Ou[n]||(Ou[n]=new WeakMap);var s=Ou[n],a=[],o=new Set,c=new Set(r),l=function(d){!d||o.has(d)||(o.add(d),l(d.parentNode))};r.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(o.has(h))u(h);else try{var p=h.getAttribute(i),m=p!==null&&p!=="false",O=(oa.get(h)||0)+1,b=(s.get(h)||0)+1;oa.set(h,O),s.set(h,b),a.push(h),O===1&&m&&mu.set(h,!0),b===1&&h.setAttribute(n,"true"),m||h.setAttribute(i,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(t),o.clear(),mm++,function(){a.forEach(function(d){var h=oa.get(d)-1,p=s.get(d)-1;oa.set(d,h),s.set(d,p),h||(mu.has(d)||d.removeAttribute(i),mu.delete(d)),p||d.removeAttribute(n)}),mm--,mm||(oa=new WeakMap,oa=new WeakMap,mu=new WeakMap,Ou={})}},IZ=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),r=PZ(e);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),RZ(i,r,n,"aria-hidden")):function(){return null}},Ti=function(){return Ti=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ti.apply(this,arguments)};function Iw(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function QZ(e,t,n){for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var gu="right-scroll-bar-position",vu="width-before-scroll-bar",NZ="with-scroll-bars-hidden",DZ="--removed-body-scroll-bar-size";function Om(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function MZ(e,t){var n=he(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=t,n.facade}var LZ=typeof window<"u"?_i:ke,Qw=new WeakMap;function $Z(e,t){var n=MZ(null,function(i){return e.forEach(function(r){return Om(r,i)})});return LZ(function(){var i=Qw.get(n);if(i){var r=new Set(i),s=new Set(e),a=n.current;r.forEach(function(o){s.has(o)||Om(o,null)}),s.forEach(function(o){r.has(o)||Om(o,a)})}Qw.set(n,e)},[e]),n}function UZ(e){return e}function qZ(e,t){t===void 0&&(t=UZ);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,i);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(i=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){i=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var u=a;a=[],u.forEach(s)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){a.push(u),l()},filter:function(u){return a=a.filter(u),n}}}};return r}function XZ(e){e===void 0&&(e={});var t=qZ(null);return t.options=Ti({async:!0,ssr:!1},e),t}var Nw=function(e){var t=e.sideCar,n=Iw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return lt(i,Ti({},n))};Nw.isSideCarExport=!0;function FZ(e,t){return e.useMedium(t),Nw}var Dw=XZ(),gm=function(){},bu=Ee(function(e,t){var n=ue(null),i=he({onScrollCapture:gm,onWheelCapture:gm,onTouchMoveCapture:gm}),r=i[0],s=i[1],a=e.forwardProps,o=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,O=e.inert,b=e.allowPinchZoom,v=e.as,T=v===void 0?"div":v,S=e.gapMode,k=Iw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=h,_=$Z([n,t]),x=Ti(Ti({},k),r);return lt(Ue,null,u&&lt(y,{sideCar:Dw,removeScrollBar:l,shards:d,noRelative:p,noIsolation:m,inert:O,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:S}),a?Nr(mn.only(o),Ti(Ti({},x),{ref:_})):lt(T,Ti({},x,{className:c,ref:_}),o))});bu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},bu.classNames={fullWidth:vu,zeroRight:gu};var BZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BZ();return t&&e.setAttribute("nonce",t),e}function ZZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var VZ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=zZ())&&(ZZ(t,n),jZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},WZ=function(){var e=VZ();return function(t,n){ke(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Mw=function(){var e=WZ(),t=function(n){var i=n.styles,r=n.dynamic;return e(i,r),null};return t},GZ={left:0,top:0,right:0,gap:0},vm=function(e){return parseInt(e||"",10)||0},YZ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[vm(n),vm(i),vm(r)]},HZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GZ;var t=YZ(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},KZ=Mw(),ca="data-scroll-locked",JZ=function(e,t,n,i){var r=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(NZ,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(o,"px ").concat(i,`;
  }
  body[`).concat(ca,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(vu,` {
    margin-right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ca,`] {
    `).concat(DZ,": ").concat(o,`px;
  }
`)},Lw=function(){var e=parseInt(document.body.getAttribute(ca)||"0",10);return isFinite(e)?e:0},e8=function(){ke(function(){return document.body.setAttribute(ca,(Lw()+1).toString()),function(){var e=Lw()-1;e<=0?document.body.removeAttribute(ca):document.body.setAttribute(ca,e.toString())}},[])},t8=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,r=i===void 0?"margin":i;e8();var s=Me(function(){return HZ(r)},[r]);return lt(KZ,{styles:JZ(s,!t,r,n?"":"!important")})},bm=!1;if(typeof window<"u")try{var Tu=Object.defineProperty({},"passive",{get:function(){return bm=!0,!0}});window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{bm=!1}var la=bm?{passive:!1}:!1,n8=function(e){return e.tagName==="TEXTAREA"},$w=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!n8(e)&&n[t]==="visible")},i8=function(e){return $w(e,"overflowY")},r8=function(e){return $w(e,"overflowX")},Uw=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=qw(e,i);if(r){var s=Xw(e,i),a=s[1],o=s[2];if(a>o)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},s8=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},a8=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},qw=function(e,t){return e==="v"?i8(t):r8(t)},Xw=function(e,t){return e==="v"?s8(t):a8(t)},o8=function(e,t){return e==="h"&&t==="rtl"?-1:1},c8=function(e,t,n,i,r){var s=o8(e,window.getComputedStyle(t).direction),a=s*i,o=n.target,c=t.contains(o),l=!1,u=a>0,d=0,h=0;do{if(!o)break;var p=Xw(e,o),m=p[0],O=p[1],b=p[2],v=O-b-s*m;(m||v)&&qw(e,o)&&(d+=v,h+=m);var T=o.parentNode;o=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(l=!0),l},ku=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fw=function(e){return[e.deltaX,e.deltaY]},Bw=function(e){return e&&"current"in e?e.current:e},l8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},d8=0,ua=[];function h8(e){var t=ue([]),n=ue([0,0]),i=ue(),r=he(d8++)[0],s=he(Mw)[0],a=ue(e);ke(function(){a.current=e},[e]),ke(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var O=QZ([e.lockRef.current],(e.shards||[]).map(Bw)).filter(Boolean);return O.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),O.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var o=oe(function(O,b){if("touches"in O&&O.touches.length===2||O.type==="wheel"&&O.ctrlKey)return!a.current.allowPinchZoom;var v=ku(O),T=n.current,S="deltaX"in O?O.deltaX:T[0]-v[0],k="deltaY"in O?O.deltaY:T[1]-v[1],y,_=O.target,x=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in O&&x==="h"&&_.type==="range")return!1;var N=window.getSelection(),D=N&&N.anchorNode,E=D?D===_||D.contains(_):!1;if(E)return!1;var M=Uw(x,_);if(!M)return!0;if(M?y=x:(y=x==="v"?"h":"v",M=Uw(x,_)),!M)return!1;if(!i.current&&"changedTouches"in O&&(S||k)&&(i.current=y),!y)return!0;var L=i.current||y;return c8(L,b,O,L==="h"?S:k)},[]),c=oe(function(O){var b=O;if(!(!ua.length||ua[ua.length-1]!==s)){var v="deltaY"in b?Fw(b):ku(b),T=t.current.filter(function(y){return y.name===b.type&&(y.target===b.target||b.target===y.shadowParent)&&l8(y.delta,v)})[0];if(T&&T.should){b.cancelable&&b.preventDefault();return}if(!T){var S=(a.current.shards||[]).map(Bw).filter(Boolean).filter(function(y){return y.contains(b.target)}),k=S.length>0?o(b,S[0]):!a.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),l=oe(function(O,b,v,T){var S={name:O,delta:b,target:v,should:T,shadowParent:p8(v)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),u=oe(function(O){n.current=ku(O),i.current=void 0},[]),d=oe(function(O){l(O.type,Fw(O),O.target,o(O,e.lockRef.current))},[]),h=oe(function(O){l(O.type,ku(O),O.target,o(O,e.lockRef.current))},[]);ke(function(){return ua.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,la),document.addEventListener("touchmove",c,la),document.addEventListener("touchstart",u,la),function(){ua=ua.filter(function(O){return O!==s}),document.removeEventListener("wheel",c,la),document.removeEventListener("touchmove",c,la),document.removeEventListener("touchstart",u,la)}},[]);var p=e.removeScrollBar,m=e.inert;return lt(Ue,null,m?lt(s,{styles:u8(r)}):null,p?lt(t8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function p8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const f8=FZ(Dw,h8);var zw=Ee(function(e,t){return lt(bu,Ti({},e,{ref:t,sideCar:f8}))});zw.classNames=bu.classNames;var m8=[" ","Enter","ArrowUp","ArrowDown"],O8=[" ","Enter"],ds="Select",[yu,Su,g8]=AB(ds),[da]=Yf(ds,[g8,bw]),_u=bw(),[v8,Ar]=da(ds),[b8,T8]=da(ds),Zw=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:r,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:h,required:p,form:m}=e,O=_u(t),[b,v]=he(null),[T,S]=he(null),[k,y]=he(!1),_=IB(l),[x,N]=Pw({prop:i,defaultProp:r??!1,onChange:s,caller:ds}),[D,E]=Pw({prop:a,defaultProp:o,onChange:c,caller:ds}),M=ue(null),L=b?m||!!b.closest("form"):!0,[z,X]=he(new Set),F=Array.from(z).map(K=>K.props.value).join(";");return g(vZ,{...O,children:g(v8,{required:p,scope:t,trigger:b,onTriggerChange:v,valueNode:T,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:y,contentId:tm(),value:D,onValueChange:E,open:x,onOpenChange:N,dir:_,triggerPointerDownPosRef:M,disabled:h,children:[g(yu.Provider,{scope:t,children:g(b8,{scope:e.__scopeSelect,onNativeOptionAdd:oe(K=>{X(se=>new Set(se).add(K))},[]),onNativeOptionRemove:oe(K=>{X(se=>{const j=new Set(se);return j.delete(K),j})},[]),children:n})}),L?g(hE,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:D,onChange:K=>E(K.target.value),disabled:h,form:m,children:[D===void 0?g("option",{value:""}):null,Array.from(z)]},F):null]})})};Zw.displayName=ds;var jw="SelectTrigger",Vw=Ee((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...r}=e,s=_u(n),a=Ar(jw,n),o=a.disabled||i,c=Ft(t,a.onTriggerChange),l=Su(n),u=ue("touch"),[d,h,p]=fE(O=>{const b=l().filter(S=>!S.disabled),v=b.find(S=>S.value===a.value),T=mE(b,O,v);T!==void 0&&a.onValueChange(T.value)}),m=O=>{o||(a.onOpenChange(!0),p()),O&&(a.triggerPointerDownPosRef.current={x:Math.round(O.pageX),y:Math.round(O.pageY)})};return g(bZ,{asChild:!0,...s,children:g(yt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":pE(a.value)?"":void 0,...r,ref:c,onClick:xt(r.onClick,O=>{O.currentTarget.focus(),u.current!=="mouse"&&m(O)}),onPointerDown:xt(r.onPointerDown,O=>{u.current=O.pointerType;const b=O.target;b.hasPointerCapture(O.pointerId)&&b.releasePointerCapture(O.pointerId),O.button===0&&O.ctrlKey===!1&&O.pointerType==="mouse"&&(m(O),O.preventDefault())}),onKeyDown:xt(r.onKeyDown,O=>{const b=d.current!=="";!(O.ctrlKey||O.altKey||O.metaKey)&&O.key.length===1&&h(O.key),!(b&&O.key===" ")&&m8.includes(O.key)&&(m(),O.preventDefault())})})})});Vw.displayName=jw;var Ww="SelectValue",k8=Ee((e,t)=>{const{__scopeSelect:n,className:i,style:r,children:s,placeholder:a="",...o}=e,c=Ar(Ww,n),{onValueNodeHasChildrenChange:l}=c,u=s!==void 0,d=Ft(t,c.onValueNodeChange);return hn(()=>{l(u)},[l,u]),g(yt.span,{...o,ref:d,style:{pointerEvents:"none"},children:pE(c.value)?g(Ue,{children:a}):s})});k8.displayName=Ww;var y8="SelectIcon",Gw=Ee((e,t)=>{const{__scopeSelect:n,children:i,...r}=e;return g(yt.span,{"aria-hidden":!0,...r,ref:t,children:i||""})});Gw.displayName=y8;var S8="SelectPortal",Yw=e=>g(Cw,{asChild:!0,...e});Yw.displayName=S8;var hs="SelectContent",Hw=Ee((e,t)=>{const n=Ar(hs,e.__scopeSelect),[i,r]=he();if(hn(()=>{r(new DocumentFragment)},[]),!n.open){const s=i;return s?nc(g(Kw,{scope:e.__scopeSelect,children:g(yu.Slot,{scope:e.__scopeSelect,children:g("div",{children:e.children})})}),s):null}return g(Jw,{...e,ref:t})});Hw.displayName=hs;var Jn=10,[Kw,Rr]=da(hs),_8="SelectContentImpl",w8=ru("SelectContent.RemoveScroll"),Jw=Ee((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:O,avoidCollisions:b,...v}=e,T=Ar(hs,n),[S,k]=he(null),[y,_]=he(null),x=Ft(t,ae=>k(ae)),[N,D]=he(null),[E,M]=he(null),L=Su(n),[z,X]=he(!1),F=ue(!1);ke(()=>{if(S)return IZ(S)},[S]),BB();const K=oe(ae=>{const[qe,...Xe]=L().map(Ot=>Ot.ref.current),[Te]=Xe.slice(-1),Ye=document.activeElement;for(const Ot of ae)if(Ot===Ye||(Ot?.scrollIntoView({block:"nearest"}),Ot===qe&&y&&(y.scrollTop=0),Ot===Te&&y&&(y.scrollTop=y.scrollHeight),Ot?.focus(),document.activeElement!==Ye))return},[L,y]),se=oe(()=>K([N,S]),[K,N,S]);ke(()=>{z&&se()},[z,se]);const{onOpenChange:j,triggerPointerDownPosRef:fe}=T;ke(()=>{if(S){let ae={x:0,y:0};const qe=Te=>{ae={x:Math.abs(Math.round(Te.pageX)-(fe.current?.x??0)),y:Math.abs(Math.round(Te.pageY)-(fe.current?.y??0))}},Xe=Te=>{ae.x<=10&&ae.y<=10?Te.preventDefault():S.contains(Te.target)||j(!1),document.removeEventListener("pointermove",qe),fe.current=null};return fe.current!==null&&(document.addEventListener("pointermove",qe),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",qe),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[S,j,fe]),ke(()=>{const ae=()=>j(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[j]);const[I,Ne]=fE(ae=>{const qe=L().filter(Ye=>!Ye.disabled),Xe=qe.find(Ye=>Ye.ref.current===document.activeElement),Te=mE(qe,ae,Xe);Te&&setTimeout(()=>Te.ref.current.focus())}),De=oe((ae,qe,Xe)=>{const Te=!F.current&&!Xe;(T.value!==void 0&&T.value===qe||Te)&&(D(ae),Te&&(F.current=!0))},[T.value]),A=oe(()=>S?.focus(),[S]),be=oe((ae,qe,Xe)=>{const Te=!F.current&&!Xe;(T.value!==void 0&&T.value===qe||Te)&&M(ae)},[T.value]),Ge=i==="popper"?Tm:eE,Ie=Ge===Tm?{side:o,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:O,avoidCollisions:b}:{};return g(Kw,{scope:n,content:S,viewport:y,onViewportChange:_,itemRefCallback:De,selectedItem:N,onItemLeave:A,itemTextRefCallback:be,focusSelectedItem:se,selectedItemText:E,position:i,isPositioned:z,searchRef:I,children:g(zw,{as:w8,allowPinchZoom:!0,children:g(z1,{asChild:!0,trapped:T.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:xt(r,ae=>{T.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:g(U1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:g(Ge,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ae=>ae.preventDefault(),...v,...Ie,onPlaced:()=>X(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:xt(v.onKeyDown,ae=>{const qe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!qe&&ae.key.length===1&&Ne(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Xe=L().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Xe=Xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Te=ae.target,Ye=Xe.indexOf(Te);Xe=Xe.slice(Ye+1)}setTimeout(()=>K(Xe)),ae.preventDefault()}})})})})})})});Jw.displayName=_8;var E8="SelectItemAlignedPosition",eE=Ee((e,t)=>{const{__scopeSelect:n,onPlaced:i,...r}=e,s=Ar(hs,n),a=Rr(hs,n),[o,c]=he(null),[l,u]=he(null),d=Ft(t,x=>u(x)),h=Su(n),p=ue(!1),m=ue(!0),{viewport:O,selectedItem:b,selectedItemText:v,focusSelectedItem:T}=a,S=oe(()=>{if(s.trigger&&s.valueNode&&o&&l&&O&&b&&v){const x=s.trigger.getBoundingClientRect(),N=l.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(s.dir!=="rtl"){const Te=E.left-N.left,Ye=D.left-Te,Ot=x.left-Ye,pn=x.width+Ot,jo=Math.max(pn,N.width),fa=window.innerWidth-Jn,ma=M1(Ye,[Jn,Math.max(Jn,fa-jo)]);o.style.minWidth=pn+"px",o.style.left=ma+"px"}else{const Te=N.right-E.right,Ye=window.innerWidth-D.right-Te,Ot=window.innerWidth-x.right-Ye,pn=x.width+Ot,jo=Math.max(pn,N.width),fa=window.innerWidth-Jn,ma=M1(Ye,[Jn,Math.max(Jn,fa-jo)]);o.style.minWidth=pn+"px",o.style.right=ma+"px"}const M=h(),L=window.innerHeight-Jn*2,z=O.scrollHeight,X=window.getComputedStyle(l),F=parseInt(X.borderTopWidth,10),K=parseInt(X.paddingTop,10),se=parseInt(X.borderBottomWidth,10),j=parseInt(X.paddingBottom,10),fe=F+K+z+j+se,I=Math.min(b.offsetHeight*5,fe),Ne=window.getComputedStyle(O),De=parseInt(Ne.paddingTop,10),A=parseInt(Ne.paddingBottom,10),be=x.top+x.height/2-Jn,Ge=L-be,Ie=b.offsetHeight/2,ae=b.offsetTop+Ie,qe=F+K+ae,Xe=fe-qe;if(qe<=be){const Te=M.length>0&&b===M[M.length-1].ref.current;o.style.bottom="0px";const Ye=l.clientHeight-O.offsetTop-O.offsetHeight,Ot=Math.max(Ge,Ie+(Te?A:0)+Ye+se),pn=qe+Ot;o.style.height=pn+"px"}else{const Te=M.length>0&&b===M[0].ref.current;o.style.top="0px";const Ye=Math.max(be,F+O.offsetTop+(Te?De:0)+Ie)+Xe;o.style.height=Ye+"px",O.scrollTop=qe-be+O.offsetTop}o.style.margin=`${Jn}px 0`,o.style.minHeight=I+"px",o.style.maxHeight=L+"px",i?.(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,l,O,b,v,s.dir,i]);hn(()=>S(),[S]);const[k,y]=he();hn(()=>{l&&y(window.getComputedStyle(l).zIndex)},[l]);const _=oe(x=>{x&&m.current===!0&&(S(),T?.(),m.current=!1)},[S,T]);return g(C8,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:g("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:g(yt.div,{...r,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});eE.displayName=E8;var x8="SelectPopperPosition",Tm=Ee((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=Jn,...s}=e,a=_u(n);return g(TZ,{...a,...s,ref:t,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tm.displayName=x8;var[C8,km]=da(hs,{}),ym="SelectViewport",tE=Ee((e,t)=>{const{__scopeSelect:n,nonce:i,...r}=e,s=Rr(ym,n),a=km(ym,n),o=Ft(t,s.onViewportChange),c=ue(0);return g(Ue,{children:[g("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g(yu.Slot,{scope:n,children:g(yt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:xt(r.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=a;if(h?.current&&d){const p=Math.abs(c.current-u.scrollTop);if(p>0){const m=window.innerHeight-Jn*2,O=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),v=Math.max(O,b);if(v<m){const T=v+p,S=Math.min(m,T),k=T-S;d.style.height=S+"px",d.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});tE.displayName=ym;var nE="SelectGroup",[P8,A8]=da(nE),R8=Ee((e,t)=>{const{__scopeSelect:n,...i}=e,r=tm();return g(P8,{scope:n,id:r,children:g(yt.div,{role:"group","aria-labelledby":r,...i,ref:t})})});R8.displayName=nE;var iE="SelectLabel",I8=Ee((e,t)=>{const{__scopeSelect:n,...i}=e,r=A8(iE,n);return g(yt.div,{id:r.id,...i,ref:t})});I8.displayName=iE;var wu="SelectItem",[Q8,rE]=da(wu),sE=Ee((e,t)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:s,...a}=e,o=Ar(wu,n),c=Rr(wu,n),l=o.value===i,[u,d]=he(s??""),[h,p]=he(!1),m=Ft(t,T=>c.itemRefCallback?.(T,i,r)),O=tm(),b=ue("touch"),v=()=>{r||(o.onValueChange(i),o.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g(Q8,{scope:n,value:i,disabled:r,textId:O,isSelected:l,onItemTextChange:oe(T=>{d(S=>S||(T?.textContent??"").trim())},[]),children:g(yu.ItemSlot,{scope:n,value:i,disabled:r,textValue:u,children:g(yt.div,{role:"option","aria-labelledby":O,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:m,onFocus:xt(a.onFocus,()=>p(!0)),onBlur:xt(a.onBlur,()=>p(!1)),onClick:xt(a.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:xt(a.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:xt(a.onPointerDown,T=>{b.current=T.pointerType}),onPointerMove:xt(a.onPointerMove,T=>{b.current=T.pointerType,r?c.onItemLeave?.():b.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xt(a.onPointerLeave,T=>{T.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:xt(a.onKeyDown,T=>{c.searchRef?.current!==""&&T.key===" "||(O8.includes(T.key)&&v(),T.key===" "&&T.preventDefault())})})})})});sE.displayName=wu;var zo="SelectItemText",aE=Ee((e,t)=>{const{__scopeSelect:n,className:i,style:r,...s}=e,a=Ar(zo,n),o=Rr(zo,n),c=rE(zo,n),l=T8(zo,n),[u,d]=he(null),h=Ft(t,v=>d(v),c.onItemTextChange,v=>o.itemTextRefCallback?.(v,c.value,c.disabled)),p=u?.textContent,m=Me(()=>g("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:O,onNativeOptionRemove:b}=l;return hn(()=>(O(m),()=>b(m)),[O,b,m]),g(Ue,{children:[g(yt.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?nc(s.children,a.valueNode):null]})});aE.displayName=zo;var oE="SelectItemIndicator",cE=Ee((e,t)=>{const{__scopeSelect:n,...i}=e;return rE(oE,n).isSelected?g(yt.span,{"aria-hidden":!0,...i,ref:t}):null});cE.displayName=oE;var Sm="SelectScrollUpButton",lE=Ee((e,t)=>{const n=Rr(Sm,e.__scopeSelect),i=km(Sm,e.__scopeSelect),[r,s]=he(!1),a=Ft(t,i.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const l=c.scrollTop>0;s(l)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),r?g(dE,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});lE.displayName=Sm;var _m="SelectScrollDownButton",uE=Ee((e,t)=>{const n=Rr(_m,e.__scopeSelect),i=km(_m,e.__scopeSelect),[r,s]=he(!1),a=Ft(t,i.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),r?g(dE,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});uE.displayName=_m;var dE=Ee((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...r}=e,s=Rr("SelectScrollButton",n),a=ue(null),o=Su(n),c=oe(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return ke(()=>()=>c(),[c]),hn(()=>{o().find(l=>l.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),g(yt.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:xt(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:xt(r.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:xt(r.onPointerLeave,()=>{c()})})}),N8="SelectSeparator",D8=Ee((e,t)=>{const{__scopeSelect:n,...i}=e;return g(yt.div,{"aria-hidden":!0,...i,ref:t})});D8.displayName=N8;var wm="SelectArrow",M8=Ee((e,t)=>{const{__scopeSelect:n,...i}=e,r=_u(n),s=Ar(wm,n),a=Rr(wm,n);return s.open&&a.position==="popper"?g(kZ,{...r,...i,ref:t}):null});M8.displayName=wm;var L8="SelectBubbleInput",hE=Ee(({__scopeSelect:e,value:t,...n},i)=>{const r=ue(null),s=Ft(i,r),a=EZ(t);return ke(()=>{const o=r.current;if(!o)return;const c=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&l){const u=new Event("change",{bubbles:!0});l.call(o,t),o.dispatchEvent(u)}},[a,t]),g(yt.select,{...n,style:{...Aw,...n.style},ref:s,defaultValue:t})});hE.displayName=L8;function pE(e){return e===""||e===void 0}function fE(e){const t=ls(e),n=ue(""),i=ue(0),r=oe(a=>{const o=n.current+a;t(o),(function c(l){n.current=l,window.clearTimeout(i.current),l!==""&&(i.current=window.setTimeout(()=>c(""),1e3))})(o)},[t]),s=oe(()=>{n.current="",window.clearTimeout(i.current)},[]);return ke(()=>()=>window.clearTimeout(i.current),[]),[n,r,s]}function mE(e,t,n){const i=t.length>1&&Array.from(t).every(o=>o===t[0])?t[0]:t,r=n?e.indexOf(n):-1;let s=$8(e,Math.max(r,0));i.length===1&&(s=s.filter(o=>o!==n));const a=s.find(o=>o.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==n?a:void 0}function $8(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var U8=Zw,OE=Vw,gE=Gw,q8=Yw,X8=Hw,F8=tE,B8=sE,z8=aE,Z8=cE,j8=lE,V8=uE;const W8={sm:"w-4 h-4",md:"w-6 h-6"};function Em({size:e="md",flagCode:t,className:n,...i}){return g("img",{className:at("rounded-full object-cover",W8[e],n),src:`https://storage.googleapis.com/eleven-public-cdn/images/flags/circle-flags/${t}.svg`,alt:`${t.toUpperCase()} flag`,...i})}function vE({children:e,...t}){const[n,i]=he(!1),{language:r,setLanguage:s,options:a}=zr(),o=RI();return g(U8,{open:n,value:r.value.languageCode,onValueChange:c=>{s(c),i(!1)},onOpenChange:c=>{c&&i(!0)},children:[e,g(q8,{container:o,children:g(X8,{className:"overflow-hidden bg-base border border-base-border rounded-dropdown-sheet max-h-[min(384px,var(--radix-select-content-available-height))] min-w-[var(--radix-select-trigger-width)] z-10",position:"popper",sideOffset:8,align:"end",side:"top",onPointerDownOutside:()=>i(!1),onCloseAutoFocus:()=>i(!1),onEscapeKeyDown:()=>i(!1),...t,children:[g(j8,{className:"flex items-center justify-center h-6 bg-base text-base-subtle cursor-default",children:g(bn,{size:"xs",name:"chevron-up"})}),g(F8,{className:"p-1.5",children:a.value.map(c=>g(B8,{value:c.languageCode,className:"flex select-none items-center p-1.5 pr-3 gap-2 cursor-pointer rounded-input relative focus-visible:outline-hidden data-highlighted:bg-base-active text-sm",children:[g(Em,{flagCode:c.flagCode}),g(z8,{children:c.name}),g(Z8,{className:"text-base-primary p-1.5 -mr-1.5 ml-auto",children:g(bn,{size:"xs",name:"check"})})]},c.languageCode))}),g(V8,{className:"flex items-center justify-center h-6 bg-base text-base-subtle cursor-default",children:g(bn,{size:"xs",name:"chevron-down"})})]})})]})}function G8({className:e,...t}){const n=nt(),{language:i,showPicker:r}=zr();return r.value?g(vE,{align:"center",children:g(OE,{className:at("h-9 min-w-max rounded-button focus-ring px-2 flex gap-2 items-center text-base-primary bg-base hover:bg-base-hover active:bg-base-active font-medium",e),"aria-label":n.change_language,...t,children:[g(Em,{size:"sm",flagCode:i.value.flagCode}),i.value.name,g(gE,{className:"text-base-subtle",asChild:!0,children:g(bn,{size:"xs",name:"chevron-down"})})]})}):null}function xm({className:e,...t}){const{status:n,isSpeaking:i}=_t(),r=Za(),{isTextMode:s}=Jc(),a=nt(),o=pe(()=>n.value!=="connected"?a.connecting_status.value:r.value||s.value?a.chatting_status.value:i.value?a.speaking_status.value:a.listening_status.value),[c,l]=he(o.peek());return An(()=>{const u=o.value;if(n.value==="connected"&&i.value)l(u);else{const d=setTimeout(()=>{l(u)},500);return()=>clearTimeout(d)}}),g("div",{className:at("py-1.5 px-3 bg-base-active overflow-hidden rounded-bubble text-sm",e),...t,children:g(wt,{initial:!1,active:!0,children:g("div",{className:"animate-text whitespace-nowrap transition-[opacity,transform] ease-out duration-200 data-hidden:opacity-0 transform data-hidden:translate-y-2",children:c})},c)})}const bE=st(void 0),TE=768;function Y8({children:e,initialVariant:t="compact"}){const n=We(t!=="compact"),i=We(typeof window<"u"?window.innerWidth<TE:!1);ke(()=>{const o=()=>{i.value=window.innerWidth<TE};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const r=oe(()=>{n.value=!n.value},[n]),s=pe(()=>n.value?i.value?"fullscreen":"expanded":"compact"),a=Me(()=>({variant:s,toggleSize:r}),[s,r]);return g(bE.Provider,{value:a,children:e})}function Cm(){return Vt(bE)}function H8(e){const t=nt(),{mode:n,setMode:i,isTextMode:r}=Jc(),s=oe(()=>{const a=n.peek()==="text"?"voice":"text";i(a)},[i,n]);return g(It,{"aria-label":r.value?t.voice_mode:t.text_mode,icon:r.value?"soundwave":"chat",onClick:s,...e})}function K8({showBackButton:e,onBackClick:t,showStatusLabel:n,showLanguageSelector:i,showConversationModeToggle:r,showExpandButton:s}){const a=nt(),{toggleSize:o,variant:c}=Cm(),l=pe(()=>c.value==="compact"?"Expand widget":"Collapse widget");return g("div",{className:"w-full relative shrink-0 z-10",children:[g("div",{className:"h-16 absolute top-0 w-full bg-base"}),g("div",{className:"h-4 absolute top-16 w-full bg-gradient-to-b from-base to-transparent backdrop-blur-[1px] [mask-image:linear-gradient(to_bottom,black,transparent)] shadow-scroll-fade-bottom"}),g("div",{className:"h-16 top-0 absolute flex flex-row items-center justify-center w-full",children:[g("div",{className:"absolute start-3 flex gap-2 items-center",children:[e?g(It,{variant:"ghost",onClick:t,"aria-label":a.go_back,className:"h-8 w-8",children:g(bn,{name:"chevron-up",className:"-rotate-90",size:"xs"})}):g("div",{className:"relative w-8 h-8"}),g(wt,{active:n,children:g(xm,{className:"transition-opacity data-hidden:opacity-0"})})]}),g("div",{className:"absolute flex flex-row items-center gap-2 ms-auto end-3",children:[g(wt,{active:i,children:g("div",{className:"transition-[opacity,transform] duration-200 data-hidden:opacity-0 data-hidden:-translate-y-4",children:g(G8,{})})}),g(wt,{active:r,children:g(H8,{variant:"ghost",className:"h-8 w-8 transition-opacity data-hidden:opacity-0"})}),g(wt,{active:s,children:g(It,{variant:"ghost",onClick:o,"aria-label":l,className:"h-8 w-8 transition-opacity data-hidden:opacity-0",children:g(bn,{name:c.value==="compact"?"maximize":"minimize",size:"sm"})})})]})]})]})}function Pm({iconOnly:e,isDisconnected:t,children:n,...i}){const{endSession:r,startSession:s}=_t(),a=nt();return g(It,{variant:t?"primary":"secondary",icon:t?"phone":"phone-off",onClick:t?o=>s(o.currentTarget):r,"aria-label":t?a.start_call:a.end_call,...i,children:e?void 0:n??(t?a.start_call:a.end_call)})}function Am(e){const t=nt(),{isMuted:n,isMutingEnabled:i,setIsMuted:r}=CI(),s=oe(()=>{r(!n.peek())},[r]);return i.value?g(It,{"aria-label":t.mute_microphone,"aria-pressed":n.value,icon:n.value?"mic-off":"mic",onClick:s,...e}):null}function J8({showTranscript:e,scrollPinned:t}){const n=Ch(),i=We(""),r=We(!1),{isDisconnected:s,startSession:a,sendUserMessage:o}=_t(),c=oe(async l=>{l.preventDefault();const u=i.value.trim();u&&(t.value=!0,i.value="",s.value?await a(l.currentTarget,u):o(u))},[i,t,s,a,o]);return g("div",{className:"sticky bottom-0 pointer-events-none z-10 max-h-[50%] flex flex-col",children:[g("div",{className:"absolute top-0 left-0 right-0 h-4 -translate-y-full bg-gradient-to-t from-base to-transparent pointer-events-none backdrop-blur-[1px] [mask-image:linear-gradient(to_top,black,transparent)] shadow-scroll-fade-top"}),g("div",{className:"relative w-full px-3 pb-3 flex flex-col items-center pointer-events-auto min-h-0",children:[n.value&&g("div",{className:_e("bg-base relative flex flex-col min-h-0 rounded-[calc(var(--el-sheet-radius)-8px)] border border-base-border w-full transition-shadow overflow-hidden",r.value&&"ring-2 ring-accent"),children:[g(ej,{userMessage:i,isFocused:r,onSendMessage:c}),g("div",{className:"absolute bottom-0 left-0 right-0 flex gap-1.5 items-center justify-end px-3 pb-3 pt-2 pointer-events-none",children:g("div",{className:"pointer-events-auto flex gap-1.5 items-center",children:g(kE,{userMessage:i,onSendMessage:c,showTranscript:e})})})]}),!n.value&&g("div",{className:"w-full flex gap-1.5 items-center justify-end",children:g(kE,{userMessage:i,onSendMessage:c,showTranscript:e})})]})]})}function ej({userMessage:e,isFocused:t,onSendMessage:n}){const i=nt(),r=Za(),{isDisconnected:s,conversationIndex:a,sendUserActivity:o}=_t(),c=oe(h=>{e.value=h.currentTarget.value},[e]),l=oe(async h=>{h.key==="Enter"&&!h.shiftKey&&await n(h)},[n]),u=oe(()=>{t.value=!0},[t]),d=oe(()=>{t.value=!1},[t]);return g("textarea",{"aria-label":i.input_label,value:e.value,onInput:o,onChange:c,onKeyDown:l,onFocus:u,onBlur:d,placeholder:r.value?s.value&&a.value>0?i.input_placeholder_new_conversation.value:i.input_placeholder_text_only.value:i.input_placeholder.value,className:"w-full h-full resize-none bg-base leading-5 outline-hidden text-sm text-base-primary placeholder:text-base-subtle p-3 pb-[60px] min-h-18 max-h-full field-sizing-content"})}function kE({userMessage:e,onSendMessage:t,showTranscript:n=!1}){const i=nt(),r=Za(),s=Ch(),{isDisconnected:a,status:o}=_t(),{isTextMode:c}=Jc(),l=pe(()=>!!e.value.trim()),u=pe(()=>s.value),d=pe(()=>!a.value||!r.value&&n),h=pe(()=>!r.value&&!a.value&&!c.value);return g(Ue,{children:[g(Tn,{visible:h.value,children:g(Am,{className:"bg-base text-base-primary hover:bg-base-hover active:bg-base-active"})}),g(Tn,{visible:d.value,children:g(Pm,{iconOnly:!0,isDisconnected:a.value,disabled:o.value==="disconnecting"||o.value==="connecting",className:"bg-base text-base-primary hover:bg-base-hover active:bg-base-active"})}),u.value&&g(It,{icon:"send",onClick:t,variant:"primary",disabled:!l.value,"aria-label":i.send_message.value})]})}const tj=`#version 300 es
precision highp float;

uniform float uTime;
uniform float uOffsets[7];
uniform vec3 uColor1;
uniform vec3 uColor2;
uniform sampler2D uPerlinTexture;

in vec2 vUv;

out vec4 outColor;

const float PI = 3.14159265358979323846;

// Draw a single oval with soft edges and calculate its gradient color
bool drawOval(vec2 polarUv, vec2 polarCenter, float a, float b, bool reverseGradient, float softness, out vec4 color) {
    vec2 p = polarUv - polarCenter;
    float oval = (p.x * p.x) / (a * a) + (p.y * p.y) / (b * b);
    
    float edge = smoothstep(1.0, 1.0 - softness, oval);
    
    if (edge > 0.0) {
        float gradient = reverseGradient ? (1.0 - (p.x / a + 1.0) / 2.0) : ((p.x / a + 1.0) / 2.0);
        color = vec4(vec3(gradient), 0.8 * edge);
        return true;
    }
    return false;
}

// Map grayscale value to a 4-color ramp (color1, color2, color3, color4)
vec3 colorRamp(float grayscale, vec3 color1, vec3 color2, vec3 color3, vec3 color4) {
    if (grayscale < 0.33) {
        return mix(color1, color2, grayscale * 3.0);
    } else if (grayscale < 0.66) {
        return mix(color2, color3, (grayscale - 0.33) * 3.0);
    } else {
        return mix(color3, color4, (grayscale - 0.66) * 3.0);
    }
}

vec2 hash2(vec2 p) {
    return fract(sin(vec2(dot(p, vec2(127.1, 311.7)), dot(p, vec2(269.5, 183.3)))) * 43758.5453);
}

// 2D noise for the ring
float noise2D(vec2 p) {
    vec2 i = floor(p);
    vec2 f = fract(p);
    
    vec2 u = f * f * (3.0 - 2.0 * f);
    float n = mix(
        mix(dot(hash2(i + vec2(0.0, 0.0)), f - vec2(0.0, 0.0)),
            dot(hash2(i + vec2(1.0, 0.0)), f - vec2(1.0, 0.0)), u.x),
        mix(dot(hash2(i + vec2(0.0, 1.0)), f - vec2(0.0, 1.0)),
            dot(hash2(i + vec2(1.0, 1.0)), f - vec2(1.0, 1.0)), u.x),
        u.y
    );

    return 0.5 + 0.5 * n;
}

float sharpRing(vec2 uv, float theta, float time) {
    float ringStart = 1.0;
    float ringWidth = 0.5;
    float noiseScale = 5.0;
    
    vec2 noiseCoord = vec2(theta / (2.0 * PI), time * 0.1);
    noiseCoord *= noiseScale;
    
    float noise = noise2D(noiseCoord);
    noise = (noise - 0.5) * 4.0;
    
    return ringStart + noise * ringWidth * 1.5;
}

float smoothRing(vec2 uv, float time) {
    float angle = atan(uv.y, uv.x);
    if (angle < 0.0) angle += 2.0 * PI;
    
    vec2 noiseCoord = vec2(angle / (2.0 * PI), time * 0.1);
    noiseCoord *= 6.0;
    
    float noise = noise2D(noiseCoord);
    noise = (noise - 0.5) * 8.0;
    
    float ringStart = 0.9;
    float ringWidth = 0.3;
    
    return ringStart + noise * ringWidth;
}

void main() {
    // Normalize vUv to be centered around (0.0, 0.0)
    vec2 uv = vUv * 2.0 - 1.0;

    // Convert uv to polar coordinates
    float radius = length(uv);
    float theta = atan(uv.y, uv.x);
    if (theta < 0.0) theta += 2.0 * PI; // Normalize theta to [0, 2*PI]

    // Initialize the base color to white
    vec4 color = vec4(1.0, 1.0, 1.0, 1.0);

    // Original parameters for the ovals in polar coordinates
    float originalCenters[7] = float[7](0.0, 0.5 * PI, 1.0 * PI, 1.5 * PI, 2.0 * PI, 2.5 * PI, 3.0 * PI);

    // Parameters for the animated centers in polar coordinates
    float centers[7];
    for (int i = 0; i < 7; i++) {
        centers[i] = originalCenters[i] + 0.5 * sin(uTime / 20.0 + uOffsets[i]);
    }

    float a, b;
    vec4 ovalColor;

    // Check if the pixel is inside any of the ovals
    for (int i = 0; i < 7; i++) {
        float noise = texture(uPerlinTexture, vec2(mod(centers[i] + uTime * 0.05, 1.0), 0.5)).r;
        a = noise * 1.5; // Increased variance: goes from 0.0 to 1.0
        b = noise * 4.5; // Tall semi-minor axis
        bool reverseGradient = (i % 2 == 1); // Reverse gradient for every second oval

        // Calculate the distance in polar coordinates
        float distTheta = abs(theta - centers[i]);
        if (distTheta > PI) distTheta = 2.0 * PI - distTheta; // Shortest distance on circle
        float distRadius = radius;

        float softness = 0.4; // Controls edge softness (e.g. how much blur is applied to the ovals)

        // Check if the pixel is inside the oval in polar coordinates
        if (drawOval(vec2(distTheta, distRadius), vec2(0.0, 0.0), a, b, reverseGradient, softness, ovalColor)) {
            // Blend the oval color with the existing color
            color.rgb = mix(color.rgb, ovalColor.rgb, ovalColor.a);
            color.a = max(color.a, ovalColor.a); // Max alpha
        }
    }
    
    // Calculate both noisy rings
    float ringRadius1 = sharpRing(uv, theta, uTime);
    float ringRadius2 = smoothRing(uv, uTime);
    
    // Blend both rings
    float ringAlpha1 = (radius >= ringRadius1) ? 0.3 : 0.0;
    float ringAlpha2 = smoothstep(ringRadius2 - 0.05, ringRadius2 + 0.05, radius) * 0.25;
    
    float totalRingAlpha = max(ringAlpha1, ringAlpha2);
    
    // Apply screen blend mode for combined rings
    vec3 ringColor = vec3(1.0); // White ring color
    color.rgb = 1.0 - (1.0 - color.rgb) * (1.0 - ringColor * totalRingAlpha);

    // Define colours to ramp against greyscale (could increase the amount of colours in the ramp)
    vec3 color1 = vec3(0.0, 0.0, 0.0); // Black
    vec3 color2 = uColor1; // Darker Color
    vec3 color3 = uColor2; // Lighter Color
    vec3 color4 = vec3(1.0, 1.0, 1.0); // White

    // Convert grayscale color to the color ramp
    float luminance = color.r; 
    color.rgb = colorRamp(luminance, color1, color2, color3, color4); // Apply the color ramp

    outColor = color;
}
`,nj=`#version 300 es
precision highp float;

in vec2 position;

out vec2 vUv;

void main() {
  vUv = position * 0.5 + 0.5;
  gl_Position = vec4(position, 0, 1);
}
`,yE=0,ij=new Float32Array([-1,1,-1,-1,1,1,1,-1]),rj="https://storage.googleapis.com/eleven-public-cdn/images/perlin-noise.png";class Gi{static noiseImage;gl;program;startTime;targetSpeed=0;speed=.5;rafId=null;resizeObserver;colorA=[0,0,0];colorB=[0,0,0];offsets=new Float32Array(7).map(()=>Math.random()*Math.PI*2);constructor(t){const n=t.getContext("webgl2",{depth:!1,stencil:!1});this.gl=n,this.program=this.setupProgram(tj,nj);const i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([128,128,128,255])),Gi.noiseImage||(Gi.noiseImage=new Image,Gi.noiseImage.crossOrigin="anonymous",Gi.noiseImage.src=rj),Gi.noiseImage.complete?this.copyNoiseImage():Gi.noiseImage.addEventListener("load",this.copyNoiseImage);const r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,ij,n.STATIC_DRAW),n.vertexAttribPointer(yE,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(yE),this.updateColors("#2792DC","#9CE6E6"),this.resizeObserver=new ResizeObserver(a=>{const o=a[0],c=o.devicePixelContentBoxSize?o.devicePixelContentBoxSize[0]:o.contentBoxSize[0];t.width=Math.min(512,c.inlineSize),t.height=Math.min(512,c.blockSize),this.updateViewport()});const s=t.parentElement;if(s)try{this.resizeObserver.observe(s,{box:"device-pixel-content-box"})}catch{this.resizeObserver.observe(s)}this.startTime=performance.now(),this.rafId=requestAnimationFrame(this.render)}dispose(){this.rafId!==null&&cancelAnimationFrame(this.rafId),this.resizeObserver?.disconnect(),this.gl=null,this.program=null}updateViewport(){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}updateColors(t,n){this.gl&&(this.colorA=this.updateColor("uColor1",t)??this.colorA,this.colorB=this.updateColor("uColor2",n)??this.colorB)}updateVolume(t,n){this.targetSpeed=.2+(1-Math.pow(n-1,2))*1.8,this.targetSpeed>this.speed&&(this.speed=this.targetSpeed),this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uInputVolume"),t),this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uOutputVolume"),n)}updateColor(t,n){try{const i=parseInt(n.slice(1,3),16)/255,r=parseInt(n.slice(3,5),16)/255,s=parseInt(n.slice(5,7),16)/255,a=[Math.pow(i,2.2),Math.pow(r,2.2),Math.pow(s,2.2)];return this.gl.uniform3fv(this.gl.getUniformLocation(this.program,t),a),a}catch(i){console.error(`[ConversationalAI] Failed to parse ${n} as color:`,i)}}setupProgram(t,n){const i=this.getShader(this.gl.FRAGMENT_SHADER,t),r=this.getShader(this.gl.VERTEX_SHADER,n);if(!i||!r)throw new Error("Failed to compile shaders");if(this.program=this.gl.createProgram(),this.gl.attachShader(this.program,i),this.gl.attachShader(this.program,r),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw new Error("Failed to link program");return this.gl.useProgram(this.program),this.gl.uniform1i(this.gl.getUniformLocation(this.program,"uPerlinTexture"),0),this.gl.uniform1fv(this.gl.getUniformLocation(this.program,"uOffsets"),this.offsets),this.gl.uniform3fv(this.gl.getUniformLocation(this.program,"uColor1"),this.colorA),this.gl.uniform3fv(this.gl.getUniformLocation(this.program,"uColor2"),this.colorB),this.program}getShader(t,n){const i=this.gl.createShader(t);return this.gl.shaderSource(i,n),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}copyNoiseImage=()=>{this.gl&&(this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Gi.noiseImage),this.gl.generateMipmap(this.gl.TEXTURE_2D))};toDataURL=()=>this.gl.canvas.toDataURL("image/png");render=()=>{if(!this.gl){this.rafId=null;return}const t=(performance.now()-this.startTime)/1e3;this.gl.uniform1f(this.gl.getUniformLocation(this.program,"uTime"),t),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.rafId=requestAnimationFrame(this.render)}}const sj={sm:"w-9 h-9",lg:"w-48 h-48"};function ps({size:e="sm",className:t}){const{getInputVolume:n,getOutputVolume:i,isSpeaking:r,isDisconnected:s}=_t(),{config:a}=Ph(),o=ue(null),c=ue(null);An(()=>{if(s.value){o.current.style.transform="",c.current.style.transform="";return}let u;function d(){const h=n(),p=i(),m=r.peek()?1:1-h*.4,O=r.peek()?1+p*.4:1;o.current.style.transform=`scale(${O})`,c.current.style.transform=`scale(${m})`,u=requestAnimationFrame(d)}return d(),()=>{cancelAnimationFrame(u)}});const l=pe(()=>({backgroundImage:a.value.type==="image"?`url(${a.value.url})`:a.value.type==="url"?`url(${a.value.custom_url})`:void 0}));return g("div",{className:at("relative shrink-0",sj[e],t),children:[g("div",{ref:o,className:"absolute inset-0 rounded-full bg-base-border"}),g("div",{ref:c,style:l,className:"absolute inset-0 rounded-full overflow-hidden bg-base bg-cover",children:a.value.type==="orb"&&g(aj,{color1:a.value.color_1,color2:a.value.color_2})})]})}function aj({color1:e,color2:t}){const{canvasUrl:n}=Ph(),[i,r]=he(null);ke(()=>{i&&(i.updateColors(e,t),i.render(),n.value=i.toDataURL())},[i,e,t]);const s=oe(a=>{if(a){const o=new Gi(a);return r(o),()=>o.dispose()}else r(null)},[r]);return g("canvas",{className:"w-full h-full",ref:s})}function oj({showAvatar:e,showTranscript:t,isDisconnected:n,onStartSession:i}){const r=nt(),s=Ch(),a=Kc(),o=pe(()=>_e("absolute origin-top-left transition-[transform,left,top,opacity,scale] duration-200 z-10","data-hidden:opacity-0",t.value?"top-4 left-4 scale-[0.1667]":s.value?"top-[40%] left-1/2 -translate-x-1/2 -translate-y-1/2 scale-100":"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 scale-100")),c=pe(()=>!t.value&&n.value&&!a.value),l=pe(()=>!t.value&&!n.value);return g(wt,{active:e,children:g("div",{className:o,children:[g(ps,{size:"lg"}),g(wt,{active:c,children:g("div",{className:"absolute bottom-0 p-1 rounded-[calc(var(--el-button-radius)+4px)] bg-base left-1/2 -translate-x-1/2 translate-y-1/2 transition-[opacity,transform] data-hidden:opacity-0 data-hidden:scale-100 scale-150",children:g(It,{"aria-label":r.start_call,variant:"primary",icon:"phone",onClick:u=>i(u.currentTarget)})})}),g(wt,{active:l,children:g("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 translate-y-full transition-[opacity,transform] data-hidden:opacity-0 data-hidden:scale-75",children:g(xm,{})})})]})})}const cj={"top-left":"origin-top-left",top:"origin-top","top-right":"origin-top-right","bottom-left":"origin-bottom-left","bottom-right":"origin-bottom-right",bottom:"origin-bottom"};function SE({open:e}){const t=Kc(),n=Za(),i=bt(),r=i.value.placement,{isDisconnected:s,startSession:a,transcript:o,conversationIndex:c}=_t(),l=k0(),{currentContent:u,currentConfig:d}=$h(),{variant:h}=Cm(),p=pe(()=>t.value||n.value?!l.value||!t.value?o.value:[{type:"message",role:"agent",message:l.value,isText:!0,conversationIndex:o.value[0]?.conversationIndex??c.peek()},...o.value]:i.value.transcript_enabled?o.value:o.value.filter(y=>y.type!=="message"||y.isText)),m=pe(()=>p.value.length>0||!s.value&&i.value.transcript_enabled),O=We(!0),b=pe(()=>u.value!=="feedback"),v=pe(()=>m.value&&!s.value),T=pe(()=>u.value!=="feedback"&&(!m.value||s.value)),S=pe(()=>!!i.value.conversation_mode_toggle_enabled&&!n.value&&!s.value),k=pe(()=>m.value);return g(wt,{initial:!1,active:e,children:g("div",{"data-variant":h.value,className:_e("sheet","flex flex-col overflow-hidden absolute bg-base shadow-lg pointer-events-auto z-2","transition-[width,height,max-width,max-height,transform,border-radius,opacity,inset,bottom,top,left,right,margin,padding] duration-200","data-hidden:scale-90 data-hidden:opacity-0",cj[r],r.startsWith("top")?i.value.always_expanded?"top-0":"top-20":i.value.always_expanded?"bottom-0":"bottom-20"),children:[g(K8,{showBackButton:d.showHeaderBack,onBackClick:d.onHeaderBack,showStatusLabel:v,showLanguageSelector:T,showConversationModeToggle:S,showExpandButton:k}),g(wt,{active:u.value==="transcript",children:g("div",{className:"grow flex flex-col min-h-0 relative transition-opacity duration-300 ease-out data-hidden:opacity-0",children:[g(TB,{transcript:p,scrollPinned:O}),g(J8,{showTranscript:m.value,scrollPinned:O})]})}),g(wt,{active:u.value==="feedback",children:g("div",{className:"absolute inset-0 top-[88px] flex flex-col bg-base transition-transform duration-300 ease-out data-hidden:translate-x-full",children:[g(yB,{}),g(SB,{})]})}),g(oj,{showAvatar:b,showTranscript:m,isDisconnected:s,onStartSession:a})]})})}function _E({onDismiss:e,className:t,...n}){return g(It,{onClick:i=>{i.preventDefault(),i.stopPropagation(),e&&e()},variant:"secondary",icon:"minimize","aria-label":"Dismiss",className:t,...n})}function wE({expanded:e,onDismiss:t}){const n=Za(),i=bt().value.variant,{isDisconnected:r}=_t(),s=nt(),a=oe(()=>{e.value=!e.value},[e]);return g(Ue,{children:[i==="full"&&g(Tn,{visible:!e.value&&!r.value,className:"p-1",children:g(ps,{})}),g(Tn,{grow:i!=="tiny",visible:!n.value&&!e.value&&!r.value,className:"p-1",children:g(Pm,{iconOnly:!0,isDisconnected:!1})}),g(Tn,{visible:!n.value&&!e.value&&!r.value,className:"p-1",children:g(Am,{})}),g(Tn,{grow:r.value,visible:!0,className:"p-1",children:g(It,{className:"w-full",variant:"primary",iconClassName:at((e.value||!r.value)&&"transition-transform duration-200",e.value&&"-rotate-180"),icon:e.value?"chevron-up":r.value?n.value?"chat":"phone":"chevron-up","aria-label":e.value?s.collapse:r.value?n.value?s.start_chat:s.start_call:s.expand,onClick:!e.value&&!r.value?a:void 0,children:!e.value&&r.value&&i!=="tiny"?n.value?s.start_chat:s.start_call:void 0})}),g(Tn,{visible:!!t,className:"p-1",children:g(_E,{onDismiss:t})})]})}function lj({expanded:e,className:t,onDismiss:n,...i}){const{isDisconnected:r}=_t(),s=nt();return g("div",{className:at("transition-[border-radius] flex flex-col p-2",!e.value&&r.value?"rounded-sheet":"rounded-compact-sheet",t),...i,children:[g(Tn,{visible:!e.value&&r.value,className:"p-1 !min-w-60",children:g("div",{className:"flex items-center gap-2",children:[g(ps,{}),g("div",{className:"text-sm max-w-64",children:s.main_label})]})}),g("div",{className:"flex items-center",children:g(wE,{expanded:e,onDismiss:n})})]})}function uj({expanded:e,className:t,onDismiss:n,...i}){return g("div",{className:at("rounded-compact-sheet flex items-center p-2",t),...i,children:[g(Tn,{visible:!e.value,className:"p-1",children:g(ps,{})}),g(wE,{expanded:e,onDismiss:n})]})}function dj({visible:e,className:t,...n}){const i=nt(),{language:r,showPicker:s}=zr();return s.value?g(Tn,{visible:e,className:"p-1",children:g(vE,{children:g(OE,{className:at("h-9 min-w-max border border-base-border rounded-button focus-ring px-1.5 flex gap-1 items-center transition-colors duration-200 hover:bg-base-hover active:bg-base-active",t),"aria-label":i.change_language,...n,children:[g(Em,{flagCode:r.value.flagCode}),g(gE,{className:"px-1 text-base-subtle",asChild:!0,children:g(bn,{size:"xs",name:"chevron-down"})})]})})}):null}function EE({onDismiss:e}){const t=bt().value.variant,{isDisconnected:n,status:i}=_t();return g(Ue,{children:[g(Pm,{isDisconnected:n.value,iconOnly:t==="tiny",className:"w-full m-1 z-1",disabled:i.value==="disconnecting"||i.value==="connecting"}),g(dj,{visible:n.value}),g(Tn,{visible:!n.value,className:"p-1",children:g(Am,{})}),g(Tn,{visible:!!e,className:"p-1",children:g(_E,{onDismiss:e})})]})}function hj({className:e,onDismiss:t,...n}){const{isDisconnected:i}=_t(),r=nt();return g("div",{className:at("flex flex-col p-2 rounded-sheet",e),...n,children:[g("div",{className:"flex items-center p-1 gap-2 min-w-60",children:[g(ps,{}),g("div",{className:"relative text-sm max-w-64",children:[g("span",{className:at("block transition-[transform,opacity] duration-200",!i.value&&"opacity-0 scale-90"),children:r.main_label}),g(wt,{active:!i.value,children:g(xm,{className:"absolute top-1/2 -translate-y-1/2 transition-[transform,opacity] duration-200 data-hidden:opacity-0 data-hidden:scale-90"})})]})]}),g("div",{className:"flex items-center",children:g(EE,{onDismiss:t})})]})}function pj({className:e,onDismiss:t,...n}){return g("div",{className:at("rounded-compact-sheet flex items-center p-2",e),...n,children:[g(ps,{className:"mx-1"}),g(EE,{onDismiss:t})]})}function fj({expandable:e,expanded:t,onDismiss:n}){const i=bt().value.variant,r=Hc(),{isDisconnected:s}=_t(),a=oe(async()=>{await r.requestTerms(),t.value=!t.peek()},[t]),o=i==="full";return e?g(o?lj:uj,{expanded:t,onDismiss:n,className:at("bg-base shadow-md pointer-events-auto overflow-hidden",(s.value||t.value)&&"cursor-pointer"),onClick:s.value||t.value?a:void 0}):g(o?hj:pj,{onDismiss:n,className:"bg-base shadow-md pointer-events-auto overflow-hidden"})}function mj(){const e=nt(),t=y0(),{dismissTerms:n,acceptTerms:i}=Hc();return g("div",{className:"max-w-[400px] flex flex-col gap-2 bg-base shadow-md pointer-events-auto rounded-sheet p-3 text-sm",children:[g("div",{className:"flex flex-col gap-1 terms p-2 pt-1",dangerouslySetInnerHTML:{__html:t.value.terms_html??""}}),g("div",{className:"flex justify-end gap-2",children:[g(It,{onClick:n,children:e.dismiss_terms}),g(It,{onClick:i,variant:"primary",children:e.accept_terms})]})]})}function Oj({copyText:e,children:t}){const n=nt(),[i,r]=he(!1);ke(()=>{if(i){const a=setTimeout(()=>{r(!1)},2e3);return()=>{clearTimeout(a)}}},[i]);const s=oe(()=>{const a=C0(e);a&&(navigator.clipboard.writeText(a),r(!0))},[]);return g(It,{onClick:s,children:i?n.copied:t})}function gj({sawError:e}){const t=nt(),{error:n,lastId:i}=_t(),r=oe(()=>{e.value=!0},[]);return g("div",{className:"max-w-[400px] flex flex-col gap-2 bg-base shadow-md pointer-events-auto rounded-sheet p-3 text-sm",children:[g("div",{className:"p-2 pt-1",children:[g("h1",{className:"text-md font-medium pb-1",children:t.error_occurred}),n.value,i.value&&g(Ue,{children:[g("br",{}),g("span",{className:"text-base-subtle",children:[t.conversation_id,": ",i.value]})]})]}),g("div",{className:"flex justify-end gap-2",children:[g(Oj,{copyText:i,children:t.copy_id}),g(It,{variant:"primary",onClick:r,children:"Close"})]})]})}function vj(){const e=bt();return e.value.disable_banner?null:g("p",{className:at("whitespace-nowrap [line-height:var(--el-overlay-padding)] text-[10px] px-3 z-10",e.value.placement.startsWith("top")?"-translate-y-[calc(var(--el-overlay-padding))]":"translate-y-[calc(var(--el-overlay-padding))]"),children:[g("span",{className:"opacity-30",children:"Powered by ElevenLabs"})," ",g("a",{href:e.value.override_link||"https://elevenlabs.io/conversational-ai",className:"underline cursor-pointer pointer-events-auto focus-visible:outline-hidden opacity-30 hover:opacity-50 focus-visible:opacity-100 focus-visible:underline-offset-2",target:"_blank",children:"Agents"})]})}function bj({className:e,onExpand:t,...n}){return g("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),t&&t()},className:at("w-12 h-12 rounded-full flex items-center justify-center transition-all duration-200 pointer-events-auto hover:scale-105 active:scale-95",e),"aria-label":"Open chat",...n,children:g(ps,{className:"w-12 h-12"})})}const ha={left:"items-start",center:"items-center",right:"items-end"},pa={top:"flex-col-reverse justify-end",bottom:"flex-col justify-end"},xE={"top-left":`${pa.top} ${ha.left}`,top:`${pa.top} ${ha.center}`,"top-right":`${pa.top} ${ha.right}`,"bottom-left":`${pa.bottom} ${ha.left}`,bottom:`${pa.bottom} ${ha.center}`,"bottom-right":`${pa.bottom} ${ha.right}`},Zo={display:"none"},Tj=Fe(function(){const e=bt(),t=We(e.peek().default_expanded),n=We(!1),i=We(!1),{error:r,isDisconnected:s}=_t(),a=Hc(),{variant:o}=Cm(),c=pe(()=>e.value.transcript_enabled||e.value.text_input_enabled),l=v0(),u=pe(()=>_e("overlay !flex transition-[opacity] duration-200 data-hidden:opacity-0",xE[e.value.placement])),d=pe(()=>o.value==="fullscreen"?_e(u.value,xE.bottom):u.value);An(()=>{r.value&&(c.value?(i.value=!0,t.value=!0):i.value=!1)}),An(()=>{const N=(E=>{!E.detail||E.detail._convaiEventHandled||(E.detail._convaiEventHandled=!0,E.detail.action==="expand"?t.value=!0:E.detail.action==="collapse"?t.value=!1:E.detail.action==="toggle"&&(t.value=!t.value))}),D=l.value;return document.addEventListener("elevenlabs-agent:expand",N),D?.addEventListener("elevenlabs-agent:expand",N),()=>{document.removeEventListener("elevenlabs-agent:expand",N),D?.removeEventListener("elevenlabs-agent:expand",N)}});const h=pe(()=>!c.value&&r.value&&!i.value?"error":!a.termsAccepted.value&&a.termsShown.value?"terms":"conversation"),p=pe(()=>h.value==="error"),m=pe(()=>h.value==="terms"),O=pe(()=>h.value==="conversation"),b=()=>{n.value=!0},v=()=>{n.value=!1},T=pe(()=>O.value&&!n.value),S=pe(()=>m.value&&!n.value),k=pe(()=>p.value&&!n.value),y=pe(()=>!n.value),_=pe(()=>e.value.dismissible&&s.value),x=pe(()=>e.value.dismissible&&n.value);return g(Ue,{children:[g(wt,{initial:!1,active:T,children:g(ja,{className:u,style:Zo,children:e.value.always_expanded?g(SE,{open:!0}):g(Ue,{children:[c.value&&g(SE,{open:t}),g(fj,{expandable:c.value,expanded:t,onDismiss:_.value?b:void 0})]})})}),g(wt,{initial:!1,active:S,children:g(ja,{className:u,style:Zo,children:g(mj,{})})}),g(wt,{initial:!1,active:k,children:g(ja,{className:u,style:Zo,children:g(gj,{sawError:i})})}),g(wt,{initial:!1,active:y,children:g(ja,{className:d,style:Zo,children:g(vj,{})})}),g(wt,{initial:!1,active:x,children:g(ja,{className:u,style:Zo,children:g(bj,{onExpand:v})})})]})});function kj(e){return g(hI,{children:g(rI,{value:e,children:g(aI,{children:g(gI,{children:g(Y8,{children:g(oI,{children:g(dI,{children:g(lI,{children:g(fI,{children:g(EI,{children:g(xI,{children:g(PI,{children:g(AI,{children:g(QQ,{children:g(IQ,{children:[g(SI,{}),g(Tj,{})]})})})})})})})})})})})})})})})}function yj(e="elevenlabs-convai"){XE(kj,e,[...kh],{shadow:!0,mode:"open"})}yj()})();
